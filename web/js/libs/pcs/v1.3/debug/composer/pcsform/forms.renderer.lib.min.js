define("text",["module"],function(a){"use strict";var b,c,d,e,f,g=["Msxml2.XMLHTTP","Microsoft.XMLHTTP","Msxml2.XMLHTTP.4.0"],h=/^\s*<\?xml(\s)+version=[\'\"](\d)*.(\d)*[\'\"](\s)*\?>/im,i=/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im,j="undefined"!=typeof location&&location.href,k=j&&location.protocol&&location.protocol.replace(/\:/,""),l=j&&location.hostname,m=j&&(location.port||void 0),n={},o=a.config&&a.config()||{};return b={version:"2.0.12",strip:function(a){if(a){a=a.replace(h,"");var b=a.match(i);b&&(a=b[1])}else a="";return a},jsEscape:function(a){return a.replace(/(['\\])/g,"\\$1").replace(/[\f]/g,"\\f").replace(/[\b]/g,"\\b").replace(/[\n]/g,"\\n").replace(/[\t]/g,"\\t").replace(/[\r]/g,"\\r").replace(/[\u2028]/g,"\\u2028").replace(/[\u2029]/g,"\\u2029")},createXhr:o.createXhr||function(){var a,b,c;if("undefined"!=typeof XMLHttpRequest)return new XMLHttpRequest;if("undefined"!=typeof ActiveXObject)for(b=0;b<3;b+=1){c=g[b];try{a=new ActiveXObject(c)}catch(a){}if(a){g=[c];break}}return a},parseName:function(a){var b,c,d,e=!1,f=a.indexOf("."),g=0===a.indexOf("./")||0===a.indexOf("../");return-1!==f&&(!g||f>1)?(b=a.substring(0,f),c=a.substring(f+1,a.length)):b=a,d=c||b,f=d.indexOf("!"),-1!==f&&(e="strip"===d.substring(f+1),d=d.substring(0,f),c?c=d:b=d),{moduleName:b,ext:c,strip:e}},xdRegExp:/^((\w+)\:)?\/\/([^\/\\]+)/,useXhr:function(a,c,d,e){var f,g,h,i=b.xdRegExp.exec(a);return!i||(f=i[2],g=i[3],g=g.split(":"),h=g[1],g=g[0],!(f&&f!==c||g&&g.toLowerCase()!==d.toLowerCase()||(h||g)&&h!==e))},finishLoad:function(a,c,d,e){d=c?b.strip(d):d,o.isBuild&&(n[a]=d),e(d)},load:function(a,c,d,e){if(e&&e.isBuild&&!e.inlineText)return void d();o.isBuild=e&&e.isBuild;var f=b.parseName(a),g=f.moduleName+(f.ext?"."+f.ext:""),h=c.toUrl(g),i=o.useXhr||b.useXhr;if(0===h.indexOf("empty:"))return void d();!j||i(h,k,l,m)?b.get(h,function(c){b.finishLoad(a,f.strip,c,d)},function(a){d.error&&d.error(a)}):c([g],function(a){b.finishLoad(f.moduleName+"."+f.ext,f.strip,a,d)})},write:function(a,c,d,e){if(n.hasOwnProperty(c)){var f=b.jsEscape(n[c]);d.asModule(a+"!"+c,"define(function () { return '"+f+"';});\n")}},writeFile:function(a,c,d,e,f){var g=b.parseName(c),h=g.ext?"."+g.ext:"",i=g.moduleName+h,j=d.toUrl(g.moduleName+h)+".js";b.load(i,d,function(c){var d=function(a){return e(j,a)};d.asModule=function(a,b){return e.asModule(a,j,b)},b.write(a,i,d,f)},f)}},"node"===o.env||!o.env&&"undefined"!=typeof process&&process.versions&&process.versions.node&&!process.versions["node-webkit"]?(c=require.nodeRequire("fs"),b.get=function(a,b,d){try{var e=c.readFileSync(a,"utf8");0===e.indexOf("\ufeff")&&(e=e.substring(1)),b(e)}catch(a){d&&d(a)}}):"xhr"===o.env||!o.env&&b.createXhr()?b.get=function(a,c,d,e){var f,g=b.createXhr();if(g.open("GET",a,!0),e)for(f in e)e.hasOwnProperty(f)&&g.setRequestHeader(f.toLowerCase(),e[f]);o.onXhr&&o.onXhr(g,a),g.onreadystatechange=function(b){var e,f;4===g.readyState&&(e=g.status||0,e>399&&e<600?(f=new Error(a+" HTTP status: "+e),f.xhr=g,d&&d(f)):c(g.responseText),o.onXhrComplete&&o.onXhrComplete(g,a))},g.send(null)}:"rhino"===o.env||!o.env&&"undefined"!=typeof Packages&&"undefined"!=typeof java?b.get=function(a,b){var c,d,e="utf-8",f=new java.io.File(a),g=java.lang.System.getProperty("line.separator"),h=new java.io.BufferedReader(new java.io.InputStreamReader(new java.io.FileInputStream(f),e)),i="";try{for(c=new java.lang.StringBuffer,d=h.readLine(),d&&d.length()&&65279===d.charAt(0)&&(d=d.substring(1)),null!==d&&c.append(d);null!==(d=h.readLine());)c.append(g),c.append(d);i=String(c.toString())}finally{h.close()}b(i)}:("xpconnect"===o.env||!o.env&&"undefined"!=typeof Components&&Components.classes&&Components.interfaces)&&(d=Components.classes,e=Components.interfaces,Components.utils.import("resource://gre/modules/FileUtils.jsm"),f="@mozilla.org/windows-registry-key;1"in d,b.get=function(a,b){var c,g,h,i={};f&&(a=a.replace(/\//g,"\\")),h=new FileUtils.File(a);try{c=d["@mozilla.org/network/file-input-stream;1"].createInstance(e.nsIFileInputStream),c.init(h,1,0,!1),g=d["@mozilla.org/intl/converter-input-stream;1"].createInstance(e.nsIConverterInputStream),g.init(c,"utf-8",c.available(),e.nsIConverterInputStream.DEFAULT_REPLACEMENT_CHARACTER),g.readString(c.available(),i),g.close(),c.close(),b(i.value)}catch(a){throw new Error((h&&h.path||"")+": "+a)}}),b}),define("text!iconTemplate",[],function(){return'<img src="#" alt="" class="icon" data-bind="attr:{src: icon.getDataValue(), alt: alt}, css: styleClass"/>\n<img src="#" alt="" class="icon-hover" data-bind="attr:{src: icon.getDataHover(), alt: alt}, css: styleClass + \'-hover\'"/>\n<img src="#" alt="" class="icon-active" data-bind="attr:{src: icon.getDataActive(), alt: alt}, css: styleClass + \'-active\'"/>'}),define("text!rendererControl",[],function(){return"<div class=\"oj-row row-control\" data-bind=\"asyncTemplate: {name:'columnControl', foreach: $data.controls, as: 'control',pageSize: 1, afterLazyRenderAll: context.registerAsyncTemplate(context, $data.controls())},visible: !hide()\">\n\n</div>\n"}),define("text!rendererMoneyControl",[],function(){return"\x3c!-- ko with: properties --\x3e\n<div data-bind=\"template:{afterRender: $parent.afterRenderMoney}\">\n    <label data-bind=\"attr: {for : $parent.domIdPrefix + $parent.id}, text: label, style: {'color': formattedStyle().labelColor, 'font-size': formattedStyle().labelSize}\"></label>\n    <input data-bind=\"attr: {id: $parent.domIdPrefix + $parent.id, name: $parent.name, autofocus: autoFocus() ? 'autofocus' : null, autocomplete: autoComplete() ? 'on' : 'off', style: parsedStyle},\n                        ojComponent: {\n                                        component: 'ojInputNumber',\n                                        title: hint,\n                                        validators: $parent.validators,\n                                        readOnly: $parent.readOnly() || readonly(),\n                                        value: $parent.value,\n                                        rawValue: $parent.rawValue,\n                                        max: maxValue,\n                                        min: minValue,\n                                        step: step,\n                                        required: required,\n                                        disabled: $parent.readOnly() ? !$parent.readOnly() : disabled(),\n                                        help: {definition: help()},\n                                        converter: converterOptions()\n                                      }, handleEvents: $parent\"/>\n</div>\n\x3c!-- /ko --\x3e"}),define("text!rendererButtonControl",[],function(){return'\x3c!-- ko with: properties --\x3e\n<div>\n    <button type="button" data-bind="attr: {id: $parent.domIdPrefix + $parent.id, name: $parent.name, autofocus: autoFocus() ? \'autofocus\' : null, style: parsedStyle},\n                                    ojComponent: {component: \'ojButton\', label: label, disabled: $parent.readOnly() ||disabled()}, handleEvents: $parent" class="button-control">\n    </button>\n</div>\n\x3c!-- /ko --\x3e'}),define("text!rendererChecklistControl",[],function(){return"\x3c!-- ko with: properties --\x3e\n<label data-bind =\"attr: {for: $parent.domIdPrefix + $parent.id, id: $parent.id + '_mainLabel'}, text: label(), style: {'color': formattedStyle().labelColor, 'font-size': formattedStyle().labelSize}\"></label>\n<div data-bind = \"attr: {id: $parent.domIdPrefix + $parent.id, style: parsedStyle}, ojComponent: {\n    component: 'ojCheckboxset',\n    validators: $parent.validators,\n\tinvalidComponentTracker: $parent.tracker,\n\tdisabled: $parent.readOnly() || disabled(),\n\tvalue: $parent.value,\n\trawValue: $parent.rawValue,\n\thelp: {definition: help()},\n    required: required}, handleEvents: $parent,\n    refresh: computedOptions\">\n\t\x3c!-- ko foreach: computedOptions --\x3e\n\t    <span class =\"oj-choice-row\" data-bind=\"attr: {id: $parents[1].id + '_row' + $index()}, css: {'oj-choice-row-inline': $parent.inline() === true}\">\n\t      <input data-bind=\"value: value, attr:{id: $parents[1].id + '_choice' +  $index(), autofocus: $parent.autoFocus()[0] === value ? 'autofocus' : null}\"  type =\"checkbox\">\n\t      <label data-bind=\"for: $parents[1].id + '_choice' + $index(), text: label, style: {'fontSize': $parent.formattedStyle().fontSize}\"></label>\n\t    </span>\n\t\x3c!-- /ko --\x3e\n</div>\n\x3c!-- /ko --\x3e"}),define("text!rendererCheckboxControl",[],function(){return"\x3c!-- ko with: properties --\x3e\n<div data-bind = \"attr: {id: $parent.domIdPrefix + $parent.id, style: parsedStyle}, ojComponent: {\n    component: 'ojCheckboxset',\n    validators: $parent.validators,\n\tinvalidComponentTracker: $parent.tracker,\n\tdisabled: $parent.readOnly() || disabled(),\n\tvalue: $parent.checkboxValue,\n\trawValue: $parent.rawValue,\n\thelp: {definition: help()},\n    required: required}, handleEvents: $parent\">\n\t<span class =\"oj-choice-row\" data-bind=\"attr: {id: $parent.id + '_check'}\">\n\t\t<input data-bind=\"value: 'true', attr:{id: $parent.id + '_checked'}\"  type =\"checkbox\">\n\t\t<label data-bind =\"attr: {for: $parent.domIdPrefix + $parent.id, id: $parent.id + '_mainLabel'}, text: label(), style: {'color': formattedStyle().labelColor, 'font-size': formattedStyle().labelSize}\"></label>\n\t</span>\n</div>\n\x3c!-- /ko --\x3e"}),define("text!rendererDateControl",[],function(){return"\x3c!-- ko with: properties --\x3e\n<div data-bind=\"template:{afterRender: $parent.afterRenderDate}\">\n    <label data-bind=\"attr: {for: $parent.domIdPrefix + $parent.id}, text: label, style: {'color': formattedStyle().labelColor, 'font-size': formattedStyle().labelSize}\"></label>\n    <input data-bind=\"attr: {id: $parent.domIdPrefix + $parent.id, name: $parent.name, style: parsedStyle, autofocus: autoFocus() ? 'autofocus' : null},\n                        ojComponent: {component: 'ojInputDate',\n                            validators: $parent.validators,\n                            disabled: disabled,\n                            placeholder: placeHolder,\n                            readOnly: $parent.readOnly() || readonly(),\n                            required: required,\n\t\t\t\t\t\t\thelp: {definition: help()},\n                            value: $parent.value,\n                            rawValue: $parent.rawValue,\n                            max: maxValue,\n                            min: minValue,\n                            invalidComponentTracker: $parent.tracker,\n                            converter: dateConverter,\n                            datePicker: {\n                              changeMonth: 'none',\n                              changeYear: 'none'\n                            }\n                        }, handleEvents: $parent\"/>\n    </div>\n\n\x3c!-- /ko --\x3e"}),define("text!rendererDateTimeControl",[],function(){return"\x3c!-- ko with: properties --\x3e\n<div data-bind=\"template:{afterRender: $parent.afterRenderTime}\">\n    <label data-bind=\"attr: {for: $parent.domIdPrefix + $parent.id}, text: label, style: {'color': formattedStyle().labelColor, 'font-size': formattedStyle().labelSize}\"></label>\n    <input data-bind=\"attr: {id: $parent.domIdPrefix + $parent.id, name: $parent.name, style: parsedStyle, autofocus: autoFocus() ? 'autofocus' : null},\n                        ojComponent: {component: 'ojInputDateTime',\n                            validators: $parent.validators,\n                            disabled: disabled,\n                            placeholder: placeHolder,\n                            readOnly: $parent.readOnly() || readonly(),\n                            required: required,\n                            value: $parent.value,\n                            rawValue: $parent.rawValue,\n                            invalidComponentTracker: $parent.tracker,\n                            max: maxValue,\n                            min: minValue,\n                            help: {definition: help()},\n                            converter: dateConverter,\n                            datePicker: {\n                              changeMonth: 'none',\n                              changeYear: 'none'\n                            },\n                            timePicker: {\n                                timeIncrement: step()[0]\n                            }\n                        }, handleEvents: $parent\"/>\n</div>\n\x3c!-- /ko --\x3e"}),define("text!rendererEmailControl",[],function(){return"\x3c!-- ko with: properties --\x3e\n<label data-bind=\"attr: {for: $parent.domIdPrefix + $parent.id}, text: label, style: {'color': formattedStyle().labelColor, 'font-size': formattedStyle().labelSize}\"></label>\n<input data-bind=\"attr: {id: $parent.domIdPrefix + $parent.id, name: $parent.name, autocomplete: autoComplete() ? 'on' : 'off', style: parsedStyle, autofocus: autoFocus() ? 'autofocus' : null},\n\t\t\t\t\tojComponent: {\n\t\t\t\t\t\t\t\t\tcomponent: 'ojInputText',\n\t\t\t\t\t\t\t\t \ttitle: hint,\n\t\t\t\t\t\t\t\t \tplaceholder: placeHolder,\n\t\t\t\t\t\t\t\t \tvalidators: $parent.validators,\n\t\t\t\t\t\t\t\t \treadOnly: $parent.readOnly() || readonly(),\n\t\t\t\t\t\t\t\t \trequired: required,\n\t\t\t\t\t\t\t\t \tinvalidComponentTracker: $parent.tracker,\n\t\t\t\t\t\t\t\t \tvalue: $parent.value,\n\t\t\t\t\t\t\t\t \trawValue: $parent.rawValue,\n\t\t\t\t\t\t\t\t \tdisabled: disabled,\n\t\t\t\t\t\t\t\t \thelp: {definition: help()}\n\t\t\t\t\t\t\t\t }, handleEvents: $parent\"/>\n\x3c!-- /ko --\x3e"}),define("text!rendererLinkControl",[],function(){return"\x3c!-- ko with: properties --\x3e\r\n<div>\r\n\t<a class=\"anchorLink\" data-bind=\"text: (labelVal() === '') ? defaultLabel : labelVal  , attr: {id: $parents[1].domIdPrefix + $parents[1].id, name: $parents[1].name, style: parsedStyle,\r\n\t\t href : ($parent.value() === '') ? undefined : $parent.value ,\r\n\t\t target: anchor() ? null : target},  handleEvents: $parent\" />\r\n\r\n</div>\r\n\x3c!-- /ko --\x3e"}),define("text!rendererMessageControl",[],function(){return"\x3c!-- ko with: properties --\x3e\n    \x3c!-- ko template: {name: 'renderer' +  type()[0] + 'Template', data: {properties: $data, message: $parent.value()}} --\x3e\n    \x3c!-- /ko --\x3e\n\x3c!-- /ko --\x3e"}),define("text!rendererMessageTypeParagraphTemplate",[],function(){return'<p data-bind="attr: {id: $parents[1].domIdPrefix + $parents[1].id, name: $parents[1].name, style: properties.parsedStyle}, text: message"></p>'}),define("text!rendererMessageTypeHeading1Template",[],function(){return'<h1 data-bind="attr: {id: $parents[1].domIdPrefix + $parents[1].id, name: $parents[1].name, style: properties.parsedStyle}, text: message"></h1>'}),define("text!rendererMessageTypeHeading2Template",[],function(){return'<h2 data-bind="attr: {id: $parents[1].domIdPrefix + $parents[1].id, name: $parents[1].name, style: properties.parsedStyle}, text: message"></h2>'}),define("text!rendererMessageTypeHeading3Template",[],function(){return'<h3 data-bind="attr: {id: $parents[1].domIdPrefix + $parents[1].id, name: $parents[1].name, style: properties.parsedStyle}, text: message"></h3>'}),define("text!rendererMessageTypeHeading4Template",[],function(){return'<h4 data-bind="attr: {id: $parents[1].domIdPrefix + $parents[1].id, name: $parents[1].name, style: properties.parsedStyle}, text: message"></h4>'}),define("text!rendererMessageTypeHeading5Template",[],function(){return'<h5 data-bind="attr: {id: $parents[1].domIdPrefix + $parents[1].id, name: $parents[1].name, style: properties.parsedStyle}, text: message"></h5>'}),define("text!rendererMessageTypeHeading6Template",[],function(){return'<h6 data-bind="attr: {id: $parents[1].domIdPrefix + $parents[1].id, name: $parents[1].name, style: properties.parsedStyle}, text: message"></h6>'}),define("text!rendererNumberControl",[],function(){return"\x3c!-- ko with: properties --\x3e\n<div data-bind=\"template:{afterRender: $parent.afterRenderNumber}\">\n    <label data-bind=\"attr: {for:$parent.domIdPrefix + $parent.id}, text: label, style: {'color': formattedStyle().labelColor, 'font-size': formattedStyle().labelSize}\"></label>\n    <input data-bind=\"attr: {id: $parent.domIdPrefix + $parent.id, name: $parent.name, autocomplete: autoComplete() ? 'on' : 'off', style: parsedStyle, autofocus: autoFocus() ? 'autofocus' : null},\n                        ojComponent: {\n                                        component: 'ojInputNumber',\n                                        title: hint,\n                                        validators: $parent.validators,\n                                        readOnly: $parent.readOnly() || readonly(),\n                                        required: required,\n                                        max: maxValue,\n                                        min: minValue,\n                                        step: step,\n                                        invalidComponentTracker: $parent.tracker,\n                                        value: $parent.value,\n                                        rawValue: $parent.rawValue,\n                                        disabled: $parent.readOnly() ? !$parent.readOnly() : disabled(),\n                                        help: {definition: help()}\n                                     }, handleEvents: $parent\"/>\n</div>\n\x3c!-- /ko --\x3e"}),define("text!rendererRadioButtonControl",[],function(){return'\x3c!-- ko with: properties --\x3e\n<label data-bind ="attr: {for: $parent.domIdPrefix + $parent.id, id: $parent.id + \'_mainLabel\'}, text: label, style: {\'color\': formattedStyle().labelColor, \'font-size\': formattedStyle().labelSize}"></label>\n\x3c!-- ko if: !optionsFeed().optionsResolver().loading() --\x3e\n<div data-bind = "attr: {id: $parent.domIdPrefix + $parent.id, style: parsedStyle}, ojComponent: {\n    component: \'ojRadioset\',\n    validators: $parent.validators,\n\tdisabled: $parent.readOnly() ||disabled(),\n\thelp: {definition: help()},\n\tmessagesCustom: optionsFeed().optionsResolver().customValidationMessages(),\n\tvalue: $parent.value}, handleEvents: $parent,\n    refresh: computedOptions">\n    \x3c!-- ko foreach: computedOptions --\x3e\n\t    <span class ="oj-choice-row" data-bind="css: {\'oj-choice-row-inline\': $parent.inline() === true}">\n\t      <input data-bind="value: value, attr:{id: $parents[1].id + $index(), name: $parents[1].name, autofocus: $parent.autoFocus()[0] === value ? \'autofocus\' : null}" type ="radio">\n\t      <label data-bind="for: $parents[1].id + $index(), text: label, style: {\'fontSize\': $parent.formattedStyle().fontSize}"></label>\n\t    </span>\n    \x3c!-- /ko --\x3e\n</div>\n\x3c!-- /ko --\x3e\n\n\x3c!-- ko if: optionsFeed().optionsResolver().loading --\x3e\n<div class="loadingControl" data-bind="ojComponent:{\n\t  component: \'ojProgressbar\',\n\t  value: -1}">\n</div >\n\x3c!-- /ko --\x3e\n\n\x3c!-- /ko --\x3e'}),define("text!rendererSelectControl",[],function(){return"\x3c!-- ko with: properties --\x3e\n<div data-bind=\"template:{afterRender: $parent.afterRenderSelect}\">\n    <label data-bind=\"attr: {for: $parent.domIdPrefix + $parent.id}, text: label, style: {'color': formattedStyle().labelColor, 'font-size': formattedStyle().labelSize}\"></label>\n    \x3c!-- ko if: !optionsFeed().optionsResolver().loading() --\x3e\n\n    \x3c!-- ko template: multiple() ? 'rendererMultiSelectTemplate' : 'rendererSingleSelectTemplate'--\x3e\n    \x3c!-- /ko --\x3e\n    \x3c!-- /ko --\x3e\n</div>\n\n\x3c!-- ko if: optionsFeed().optionsResolver().loading --\x3e\n<div class=\"loadingControl\" data-bind=\"ojComponent:{\n\t  component: 'ojProgressbar',\n\t  value: -1}\">\n</div >\n\x3c!-- /ko --\x3e\n\n\x3c!-- /ko --\x3e"}),define("text!rendererSingleSelectTemplate",[],function(){return"<select data-bind=\"attr: {autofocus: autoFocus() ? 'autofocus' : null, id: $parent.domIdPrefix + $parent.id, name: $parent.name}, ojComponent: {component: 'ojSelect',\n                                    disabled: $parent.readOnly() ||disabled(),\n                                    title: hint,\n                                    help: {\n                                        definition: help()\n                                    },\n                                    placeholder: placeHolder,\n                                    required: required,\n                                    value: $parent.value,\n                                    rawValue: $parent.rawValue,\n                                    invalidComponentTracker: $parent.tracker,\n                                    messagesCustom: optionsFeed().optionsResolver().customValidationMessages(),\n                                    validators: $parent.validators}, handleEvents: $parent\">\n    \x3c!-- ko foreach: computedOptions() --\x3e\n        <option data-bind=\"value: value, text:label\"></option>\n    \x3c!-- /ko --\x3e\n</select>"}),define("text!rendererMultiSelectTemplate",[],function(){return"<select data-bind=\"attr: {autofocus: autoFocus() ? 'autofocus' : null, id: $parent.domIdPrefix + $parent.id, name: $parent.name}, ojComponent: {component: 'ojSelect',\n                                    disabled: $parent.readOnly() ||disabled(),\n                                    title: hint,\n                                    placeholder: placeHolder,\n                                    help: {\n                                        definition: help()\n                                    },\n                                    required: required,\n                                    value: $parent.value,\n                                    rawValue: $parent.rawValue,\n                                    multiple: true,\n                                    invalidComponentTracker: $parent.tracker,\n                                    messagesCustom: optionsFeed().optionsResolver().customValidationMessages(),\n                                    validators: $parent.validators}, handleEvents: $parent\">\n    \x3c!-- ko foreach: computedOptions() --\x3e\n        <option data-bind=\"value: value, text:label\"></option>\n    \x3c!-- /ko --\x3e\n</select>"}),define("text!rendererTextAreaControl",[],function(){return"\x3c!-- ko with: properties --\x3e\r\n<label data-bind=\"attr: {for: $parent.domIdPrefix + $parent.id}, text: label, style: {'color': formattedStyle().labelColor, 'font-size': formattedStyle().labelSize}\"></label>\r\n<textarea data-bind=\"attr: {id: $parent.domIdPrefix + $parent.id, name: $parent.name, autocomplete: autoComplete() ? 'on' : 'off', autofocus: autoFocus() ? 'autofocus' : null, rows: rows, style: parsedStyle},\r\n                    ojComponent: {\r\n                        component: 'ojTextArea',\r\n                        title: hint,\r\n                        placeholder: placeHolder,\r\n                        validators: $parent.validators,\r\n                        readOnly: $parent.readOnly() || readonly(),\r\n                        required: required,\r\n                        value: $parent.value,\r\n                        rawValue: $parent.rawValue,\r\n                        disabled: disabled,\r\n                        invalidComponentTracker: $parent.tracker,\r\n                        help: {\r\n                            definition: help()\r\n                            }\r\n                        }, handleEvents: $parent\"></textarea>\r\n\x3c!-- /ko --\x3e"}),define("text!rendererTextControl",[],function(){return"\x3c!-- ko with: properties --\x3e\r\n<label data-bind=\"attr: {for: $parent.domIdPrefix + $parent.id}, text: label, style: {'color': formattedStyle().labelColor, 'font-size': formattedStyle().labelSize}\"></label>\r\n<input data-bind=\"attr: {id: $parent.domIdPrefix + $parent.id, name: $parent.name, autofocus: autoFocus() ? 'autofocus' : null, autocomplete: autoComplete() ? 'on' : 'off', style: parsedStyle},\r\n\t\t\t\t\tojComponent: {\r\n\t\t\t\t\t\t\t\t\tcomponent: 'ojInputText',\r\n\t\t\t\t\t\t\t\t \ttitle: hint,\r\n\t\t\t\t\t\t\t\t \tplaceholder: placeHolder,\r\n\t\t\t\t\t\t\t\t \tvalidators: $parent.validators,\r\n\t\t\t\t\t\t\t\t \treadOnly: $parent.readOnly() || readonly(),\r\n\t\t\t\t\t\t\t\t \trequired: required,\r\n\t\t\t\t\t\t\t\t \tvalue: $parent.value,\r\n\t\t\t\t\t\t\t\t \tdisabled: disabled,\r\n\t\t\t\t\t\t\t\t \thelp: {definition: help()},\r\n\t\t\t\t\t\t\t\t \trawValue: $parent.rawValue,\r\n\t\t\t\t\t\t\t\t \tinvalidComponentTracker: $parent.tracker\r\n\t\t\t\t\t\t\t\t }, handleEvents: $parent\"/>\r\n\x3c!-- /ko --\x3e"}),define("text!rendererTimeControl",[],function(){return"\x3c!-- ko with: properties --\x3e\n<div data-bind=\"template:{afterRender: $parent.afterRenderTime}\">\n    <label data-bind=\"attr: {for: $parent.domIdPrefix + $parent.id}, text: label, style: {'color': formattedStyle().labelColor, 'font-size': formattedStyle().labelSize}\"></label>\n    <input data-bind=\"attr: {id: $parent.domIdPrefix + $parent.id, name: $parent.name, style: parsedStyle, autofocus: autoFocus() ? 'autofocus' : null},\n                        ojComponent: {component: 'ojInputTime',\n                            validators: $parent.validators,\n                            disabled: disabled,\n                            placeholder: placeHolder,\n                            readOnly: $parent.readOnly() || readonly(),\n                            required: required,\n                            value: $parent.value,\n                            rawValue: $parent.rawValue,\n                            max: maxValue,\n                            min: minValue,\n                            invalidComponentTracker: $parent.tracker,\n                            help: {definition: help()},\n                            timePicker: {\n                                timeIncrement: step()[0]\n                            }},\n                        }, handleEvents: $parent\"/>\n</div>\n\x3c!-- /ko --\x3e"}),define("text!rendererUrlControl",[],function(){return"\x3c!-- ko with: properties --\x3e\n<label data-bind=\"attr: {for: $parent.domIdPrefix + $parent.id}, text: label, style: {'color': formattedStyle().labelColor, 'font-size': formattedStyle().labelSize} \"></label>\n<input data-bind=\"attr: {id: $parent.domIdPrefix + $parent.id, name: $parent.name, autocomplete: autoComplete() ? 'on' : 'off', style: parsedStyle, autofocus: autoFocus() ? 'autofocus' : null},\n\t\t\t\t\tojComponent: {\n\t\t\t\t\t\t\t\t\tcomponent: 'ojInputText',\n\t\t\t\t\t\t\t\t \ttitle: hint,\n\t\t\t\t\t\t\t\t \tplaceholder: placeHolder,\n\t\t\t\t\t\t\t\t \tvalidators: $parent.validators,\n\t\t\t\t\t\t\t\t \treadOnly: $parent.readOnly() || readonly(),\n\t\t\t\t\t\t\t\t \trequired: required,\n\t\t\t\t\t\t\t\t \tvalue: $parent.value,\n\t\t\t\t\t\t\t\t \trawValue: $parent.rawValue,\n\t\t\t\t\t\t\t\t \tinvalidComponentTracker: $parent.tracker,\n\t\t\t\t\t\t\t\t \tdisabled: disabled,\n\t\t\t\t\t\t\t\t \thelp: {definition: help()}\n\t\t\t\t\t\t\t\t }, handleEvents: $parent\"/>\n\x3c!-- /ko --\x3e"}),define("text!rendererPhoneControl",[],function(){return"\x3c!-- ko with: properties --\x3e\n<label data-bind=\"attr: {for : $parent.domIdPrefix + $parent.id}, text: label, style: {'color': formattedStyle().labelColor, 'font-size': formattedStyle().labelSize}\"></label>\n<input data-bind=\"attr: {id: $parent.domIdPrefix + $parent.id, name: $parent.name, autocomplete: autoComplete() ? 'on' : 'off', style: parsedStyle, autofocus: autoFocus() ? 'autofocus' : null},\n\t\t\t\t\tojComponent: {\n\t\t\t\t\t\t\t\t\tcomponent: 'ojInputText',\n\t\t\t\t\t\t\t\t \tplaceholder: placeHolder,\n\t\t\t\t\t\t\t\t \ttitle: hint,\n\t\t\t\t\t\t\t\t \tvalidators: $parent.validators,\n\t\t\t\t\t\t\t\t \treadOnly: $parent.readOnly() ||readonly(),\n\t\t\t\t\t\t\t\t \trequired: required,\n\t\t\t\t\t\t\t\t \tvalue: $parent.value,\n\t\t\t\t\t\t\t\t \trawValue: $parent.rawValue,\n\t\t\t\t\t\t\t\t \tdisabled: disabled,\n\t\t\t\t\t\t\t\t \thelp: {definition: help()},\n\t\t\t\t\t\t\t\t }, handleEvents: $parent\"/>\n\x3c!-- /ko --\x3e\n"}),define("text!rendererImageControl",[],function(){return"\x3c!-- ko with: properties --\x3e\n<label class='oj-label' data-bind=\"attr: {for : $parent.domIdPrefix + $parent.id}, text: label, style: {'color': formattedStyle().labelColor, 'font-size': formattedStyle().labelSize}\"></label>\n<img class=\"image-control\" data-bind=\"attr: {\n                    id: $parent.domIdPrefix + $parent.id,\n                    name: $parent.name,\n                    style: parsedStyle,\n                    alt : alt,\n                    src: $parent.value}, handleEvents: $parent\"/>\n\n\x3c!-- /ko --\x3e\n\n\n"}),define("text!rendererFormReferenceControl",[],function(){return'\x3c!-- ko with: properties --\x3e\n    \x3c!-- ko if: $parent.isValidReference() --\x3e\n        <label data-bind="attr: {for: $parent.domIdPrefix + $parent.id}, text: label, style: {\'color\': formattedStyle().labelColor, \'font-size\': formattedStyle().labelSize}" class="oj-label oj-component oj-inputtext-label"></label>\n        <form-renderer data-bind="attr: {id: $parent.domIdPrefix + $parent.id}" params="value: { form: $parent.selectedPresentation(),\n            controlBindings: control.context.payloadContext.getBindingControlFor(control),\n            bindingContext: control.context.payloadContext.getFullBindingContextFor(control),\n            config: $parent.getConfig()}, formId: $parent.properties.reference().formId,\n            onValidStateChange: $parent.onValidStateChange,\n            presentationId: $parent.properties.reference().presentationId,\n            loadedCallback: $parent.loadedCallback">\n        </form-renderer>\n    \x3c!-- /ko --\x3e\n\n    \x3c!-- ko if: !$parent.isValidReference() --\x3e\n        <label data-bind="text: label, style: {\'color\': formattedStyle().labelColor, \'font-size\': formattedStyle().labelSize}" class="oj-label oj-component oj-inputtext-label"></label>\n        <div class="broken-reference">\n            <span class="broken-reference-text" data-bind="text: $parent.msg.FAILED_TO_LOAD_FORM_CONTENT, attr: {title: $parent.msg.FAILED_TO_LOAD_FORM_CONTENT}">Failed to load form content</span>\n        </div>\n    \x3c!-- /ko --\x3e\n\x3c!-- /ko --\x3e'}),define("text!rendererVideoControl",[],function(){return"\x3c!-- ko with: properties --\x3e\n<label class=\"oj-label\" data-bind=\"attr: {for: $parent.domIdPrefix + $parent.id}, text: label, style: {'color': formattedStyle().labelColor, 'font-size': formattedStyle().labelSize}\"></label>\n\n<div class=\"wrapper\" data-bind=\"attr: {'style': parsedStyle}\">\n    <iframe data-bind=\"attr: {\n                        id: $parent.domIdPrefix + $parent.id,\n                        name: $parent.name,\n                    allowfullscreen : allowFullScreen() ? 'allowfullscreen' : null,\n                    msallowfullscreen : allowFullScreen() ? 'msallowfullscreen' : null,\n                    mozallowfullscreen : allowFullScreen() ? 'mozallowfullscreen' : null,\n                    oallowfullscreen : allowFullScreen() ? 'oallowfullscreen' : null,\n                    webkitallowfullscreen : allowFullScreen() ? 'webkitallowfullscreen' : null,\n                    src: parsedVideoSrcLink\n                    }, handleEvents: $parent\">\n    </iframe>\n</div>\n\x3c!-- /ko --\x3e\n"}),define("text!rendererIdentityControl",[],function(){
return"<div data-bind=\"template:{afterRender: afterRenderIdentity}\">\r\n    <label data-bind=\"attr: {for: domIdPrefix + id},\r\n                            text: properties.label,\r\n                            style: {'color': properties.formattedStyle().labelColor,\r\n                                'font-size': properties.formattedStyle().labelSize}\"></label>\r\n    <select data-bind=\"attr: {autofocus: properties.autoFocus() ? 'autofocus' : null,\r\n                            id: domIdPrefix + id, name: name}, ojComponent: ojIdentityObj, handleEvents: $parent\">\r\n    </select>\r\n</div>"}),define("text!rendererTemplate",[],function(){return'<div class="oj-row form-container" id="form-renderer-container" data-bind="subscribe:{afterRender: registerCustomEvents, beforeRemove: detachCustomListeners}, clean: rendererContext.getScope()">\n    <div class="oj-sm-12 oj-md-12 oj-col">\n        <form id="rForm" class="form-horizontal" role="form">\n            <div class="canvas-container">\n                <div class="canvas" data-bind="with: form()">\n                    <div id="creatorLoading" class="spinnerContainer" style="display: none">\n                        <div id="spinner" class="spinner">\n                            <div id="bounce1" class="spinner__bounce spinner-object spinner-object-1"></div>\n                            <div id="bounce2" class="spinner__bounce spinner-object spinner-object-2"></div>\n                            <div id="bounce3" class="spinner__bounce spinner-object spinner-object-3"></div>\n                        </div>\n                    </div>\n\n                    <div class="oj-panel js-renderer-container"\n                         data-bind="style: {\'border-color\' : properties.borderColor ? properties.borderColor() : \'null\',\n                                                                                         \'border-width\': properties.borderWidth ? properties.borderWidth() : \'null\',\n                                                                                         \'border-style\' : properties.borderStyle? properties.borderStyle() : \'null\',\n                                                                                         \'background-color\' : properties.backgroundColor? properties.backgroundColor() : \'null\'}">\n                        \x3c!--  if: shouldRender --\x3e\n                        <div data-bind="asyncTemplate:{name: \'rendererControl\', foreach: controls(), afterLazyRenderAll: afterRenderingRowControls.bind($data), pageSize: 1, hideLoading: true}"></div>\n                        \x3c!-- / --\x3e\n                    </div>\n                </div>\n            </div>\n        </form>\n    </div>\n</div>'}),define("text!rendererPanelControl",[],function(){return'<div class="oj-row panel" data-bind="attr: {style: $data.properties.parsedStyle}" style="width:100%; min-height: 50px;">\n    <label class="oj-label" data-bind="text:  $data.properties.label, visible: $data.properties.label() !== \'\'"></label>\n    <div data-bind="asyncTemplate: {name:\'rendererPanelItem\', foreach: $data.controls(), as: \'control\', pageSize: 2, afterLazyRenderAll: context.registerAsyncTemplate(context, $data.controls())}"></div>\n</div>'}),define("text!rendererSectionControl",[],function(){return'<div class="oj-row panel" style="width:100%; min-height: 50px;" data-bind="ojComponent: {component: \'ojCollapsible\',\n    expanded: $data.properties.expanded}, attr: {id: \'section-\' + id, style: $data.properties.parsedStyle}, handleEvents: $data" >\n    <div style="display: flex;" data-bind="template: { name: \'renderer\' + properties.headerType()[0] + \'Template\', data: {properties: properties, message: properties.label }}, css:{isContentInvalid:!isValid()}"></div>\n\n        \x3c!-- ko if: $data.renderContent --\x3e\n    <div data-bind="asyncTemplate: {name:\'rendererSectionRow\', foreach: $data.controls(), pageSize: 2, afterLazyRenderAll: $data.registerAsyncTemplate(context, $data.controls()),hideLoading: true}">\n    </div>\n    \x3c!-- /ko --\x3e\n</div>\n'}),define("text!rendererTableControl",[],function(){return'\n\n<div style="height: 25px; z-index: 1000" data-bind="visible: properties.canAddDelete">\n    <button type="button" class="definition-action delete remove-row" data-bind="event: {click: removeSelectedRow.bind($data), touchend: removeSelectedRow.bind($data)},\n    disable: (selectedRows().length === 0 || readOnly()), css: {disabled: (selectedRows().length === 0 || readOnly())}">\n        <actionable-icon params="{icon: removeColumnIcon, styleClass:  \'definition-img\', alt: msg.DELETE}"></actionable-icon>\n    </button>\n    <button type="button" class="definition-action add add-row" data-bind="disable: (!canAddRows() || readOnly()), css: {disabled: (!canAddRows() || readOnly())},\n    event:{click: addRow.bind($data),touchend: addRow.bind($data)}">\n        <actionable-icon params="{icon: addColumnIcon, styleClass:  \'definition-img\', alt: msg.CREATE}"></actionable-icon>\n    </button>\n</div>\n\n<div class="oj-table oj-table-container table-container" style="width: 100%; max-height: 100%; table-layout: fixed">\n    <label class="oj-label" data-bind="text:  properties.label, visible: properties.label() !== \'\', style: {\'color\': properties.formattedStyle().labelColor, \'font-size\': properties.formattedStyle().labelSize}"></label>\n    <table class="table-control table-control-renderer oj-table-element">\n        <thead class="oj-table-header">\n        <tr class="oj-table-header-row">\n            <th style="width: 10px"></th>\n            \x3c!-- ko foreach: controls --\x3e\n            <th class="oj-table-column-header-cell" data-bind="attr:{title: properties.label}, style: {\'width\': properties.formattedStyle().tableColumnWidth}">\n                <div class="oj-table-column-header">\n                    <div class="oj-table-column-header-text" data-bind="text: properties.label"></div>\n                </div>\n            </th>\n            \x3c!-- /ko --\x3e\n        </tr>\n        </thead>\n        <tbody class="oj-table-body" data-bind="css: {hideTableLabels: properties.hideLabels()}, asyncTemplate:{name:\'rendererTableRow\', foreach: dataSource, pageSize: 5, afterLazyRenderAll: context.registerAsyncTemplate(context, dataSource), hideLoading: true}">\n        </tbody>\n    </table>\n    \x3c!-- ko if: dataSource().length === 0 --\x3e\n    <div class="oj-table-body-row oj-table-hgrid-lines" style="padding-top: 20px">\n        <span style="padding: 5px;" data-bind="text: msg.NO_ROWS"></span>\n    </div>\n    \x3c!-- /ko --\x3e\n    \x3c!-- ko if: dataSource().length > properties.maxRows() --\x3e\n    <div class="oj-table-body-row oj-table-hgrid-lines" style="padding-top: 20px">\n        <span style="padding: 5px;" data-bind="text: StringUtils.format(msg.TOO_MANY_ROWS, properties.maxRows(), dataSource().length)"></span>\n    </div>\n    \x3c!-- /ko --\x3e\n</div>\n\n<script type="text/html" id="renderer-table-cell">\n    \x3c!-- ko if: controls().length > 0 --\x3e\n    \x3c!-- ko with: controls()[0] --\x3e\n    <div class="oj-row">\n        <div data-bind="attr: { id: \'renderer-control-\' + id }">\n            <div data-bind="template: {name: controlTemplate, data: $data, as: \'control\', afterRender: $data.afterRender}, visible: !properties.hide()"></div>\n        </div>\n    </div>\n    \x3c!-- /ko --\x3e\n    \x3c!-- /ko --\x3e\n<\/script>'}),define("text!rendererRepeatableSectionControl",[],function(){return'\n\n<div data-bind="visible: properties.canAddDelete" style="z-index: 1000">\n    <button type="button" class="definition-action delete remove-row" data-bind="event: {click: removeSelectedRow.bind($data), touchend: removeSelectedRow.bind($data)},\n    disable: (selectedRows().length === 0 || readOnly()), css: {disabled: (selectedRows().length === 0 || readOnly())}">\n        <actionable-icon params="{icon: removeColumnIcon, styleClass:  \'definition-img\', alt: msg.DELETE}"></actionable-icon>\n    </button>\n    <button type="button" class="definition-action add add-row" data-bind="disable: (!canAddRows() || readOnly()), css: {disabled: (!canAddRows() || readOnly())},\n    event: {click: addRow.bind($data), touchend: addRow.bind($data)}">\n        <actionable-icon params="{icon: addColumnIcon, styleClass:  \'definition-img\', alt: msg.CREATE}"></actionable-icon>\n    </button>\n</div>\n\n<div data-bind="asyncTemplate:{name:\'rendererRepeatableRow\', foreach: dataSource, pageSize: 1, afterLazyRenderAll: context.registerAsyncTemplate(context, dataSource), hideLoading: true}">\n</div>\n\n\x3c!-- ko if: dataSource().length === 0 --\x3e\n<div class="oj-panel oj-row panel repeatable-section" style="padding: 20px 20px 20px 30px;">\n    <span data-bind="text: msg.NO_ROWS"></span>\n</div>\n\x3c!-- /ko --\x3e\n\x3c!-- ko if: dataSource().length > properties.maxRows() --\x3e\n<div class="oj-panel oj-row panel repeatable-section" style="padding: 20px 20px 20px 30px;">\n    <span data-bind="text: StringUtils.format(msg.TOO_MANY_ROWS, properties.maxRows(), dataSource().length)"></span>\n</div>\n\x3c!-- /ko --\x3e\n'}),define("text!rendererTabControl",[],function(){return'<div class="oj-row panel" style="width:100%; min-height: 50px;"\n     data-bind="asyncTemplate: {name:\'rendererSectionRow\', foreach: $data.controls(), pageSize: 2, afterLazyRenderAll: context.registerAsyncTemplate(context, $data.controls()), hideLoading: true}">\n</div>\n\n'}),define("text!rendererTableRow",[],function(){return'<tr class="oj-table-body-row oj-table-hgrid-lines"\n    data-bind="css:{\'oj-selected\': isRowSelected},\n                attr: {id: \'renderer-control-\' + $parent.domIdPrefix + id}"> \x3c!--oj-hover && oj-selected --\x3e\n    <td>\n        <input type="checkbox" data-bind="checked: isRowSelected"/>\n    </td>\n    \x3c!-- ko foreach: controls --\x3e\n    <td class="table-cell oj-table-data-cell oj-table-vgrid-lines" data-bind="\n                css:{\'oj-selected\': $parent.isRowSelected},\n                template:{name: \'renderer-table-cell\', data: $data}"></td>\n    \x3c!-- /ko --\x3e\n</tr>'}),define("text!rendererRepeatableRow",[],function(){return'<div class="oj-panel oj-row panel repeatable-section" data-bind="attr: {style: $parent.properties.parsedStyle, id: \'renderer-control-\' + $parent.domIdPrefix + id},\n            css:{\'oj-selected\': isRowSelected}" style="width:100%; min-height: 50px;">\n    <span>\n        <input type="checkbox" data-bind="checked: isRowSelected"/>\n        <label class="oj-label" data-bind="text:  properties.label, visible: properties.label() !== \'\',style: {\'color\': $parent.properties.formattedStyle().labelColor, \'font-size\': $parent.properties.formattedStyle().labelSize}"></label>\n    </span>\n    <div data-bind="asyncTemplate: {name:\'rendererRepeatableItem\', foreach: $data.controls(), pageSize: 2, afterLazyRenderAll: context.registerAsyncTemplate(context, $data.controls())}"></div>\n</div>'}),define("text!columnControl",[],function(){return'<div class="oj-col" data-bind="css: $parent.columnSpan.getStyle($data, $data.selectedMedia().value)">\n    <div class="control-container-renderer" data-bind="attr: { id: \'renderer-control-\' + domIdPrefix + $data.id }">\n        <div data-bind="template: {name: $data.controlTemplate, data: $data, afterRender: $data.afterRender}, visible: !$data.properties.hide(), style: {\'text-align\' : $data.properties.formattedStyle().controlAlign}, css: $data.properties.formattedStyle().controlClassName"></div>\n    </div>\n</div>'}),define("text!rendererSectionRow",[],function(){return'<div data-bind="visible: !$data.properties.hide() || $data.properties.visible && $data.properties.visible()">\n    <div data-bind="attr: { id: \'renderer-control-\' + domIdPrefix + $data.id }">\n        <div data-bind="template: {name: $data.controlTemplate, data: $data, afterRender: $data.afterRender}, style: {\'text-align\' : $data.properties.formattedStyle().controlAlign}, css: $data.properties.formattedStyle().controlClassName"></div>\n    </div>\n</div>'}),define("text!rendererPanelItem",[],function(){return'<div data-bind="css: $parent.colStyle($data, $data.selectedMedia().value)">\n    <div data-bind="attr: { id: \'renderer-control-\' + domIdPrefix + $data.id }">\n        <div data-bind="template: {name: $data.controlTemplate, data: $data, afterRender: $data.afterRender}, visible: !$data.properties.hide(), style: {\'text-align\' : $data.properties.formattedStyle().controlAlign}, css: $data.properties.formattedStyle().controlClassName"></div>\n    </div>\n</div>'}),define("text!rendererRepeatableItem",[],function(){return'<div data-bind="css: $parents[1].colStyle($data, $data.selectedMedia().value)">\n    <div data-bind="attr: { id: \'renderer-control-\' + domIdPrefix + $data.id }">\n        <div data-bind="template: {name: $data.controlTemplate, data: $data, afterRender: $data.afterRender}, visible: !$data.properties.hide()"></div>\n    </div>\n</div>\n\n\x3c!--TODO check how to merge with rendererPanelItem--\x3e'}),define("text!rendererTabContainerControl",[],function(){return'\x3c!-- tablet and desktop version --\x3e\n<div data-bind="ifMedia: \'oj-md\'" data-bind="handleEvents: $data">\n    <div class="tab-container" data-bind="ojComponent:{component: \'ojTabs\', disabledTabs: $data.disabledTabs, \'selected\': properties.selectedPosition}">\n        \x3c!-- tab bar --\x3e\n        <ul>\n            \x3c!-- ko foreach: { data: $data.controls(), as: \'control\'} --\x3e\n                <li data-bind="visible: !control.properties.hide()">\n                    <span data-bind="text: control.properties.label, css:{isContentInvalid:!control.isValid()}"></span>\n                </li>\n            \x3c!-- /ko --\x3e\n        </ul>\n\n        \x3c!-- tab contents --\x3e\n        \x3c!-- ko foreach: { data: $data.controls(), as: \'control\'} --\x3e\n            <div data-bind="visible: !control.properties.hide(), style: {\'text-align\' : control.properties.formattedStyle().controlAlign}, css: control.properties.formattedStyle().controlClassName, handleEvents: control">\n                \x3c!-- ko if: control.rendered --\x3e\n                <div data-bind="template: {name: control.controlTemplate, data: control, afterRender: control.afterRender}"></div>\n                \x3c!-- /ko --\x3e\n            </div>\n        \x3c!-- /ko --\x3e\n    </div>\n</div>\n\n\x3c!-- mobile version (accordion) --\x3e\n<div data-bind="ifMedia: \'oj-sm-only\'">\n    <div class="tab-container" data-bind="ojComponent: {component: \'ojAccordion\', \'expanded\': properties.selectedPositionAsArrayComputed}">\n        \x3c!-- ko foreach: { data: $data.controls(), as: \'control\'} --\x3e\n        <div data-bind="visible: !control.properties.hide(), ojComponent: {component: \'ojCollapsible\', disabled: control.properties.disabled}">\n            <span data-bind="text: control.properties.label"></span>\n            <div data-bind="style: {\'text-align\' : control.properties.formattedStyle().controlAlign}, css: control.properties.formattedStyle().controlClassName">\n                \x3c!-- ko if: control.rendered --\x3e\n                <div data-bind="template: {name: control.controlTemplate, data: control, afterRender: control.afterRender}"></div>\n                \x3c!-- /ko --\x3e\n            </div>\n        </div>\n        \x3c!-- /ko --\x3e\n    </div>\n</div>'}),define("ojidentity",["require","ojs/ojcore","jquery","ojs/ojeditablevalue"],function(a){var b=a("ojs/ojcore"),c=a("jquery");a("ojs/ojeditablevalue");var d={GENERATED_OPTIONS_SELECTOR:"oj-select-options-generated",KEY:{TAB:9,ENTER:13,ESC:27,SPACE:32,LEFT:37,UP:38,RIGHT:39,DOWN:40,SHIFT:16,CTRL:17,ALT:18,PAGE_UP:33,PAGE_DOWN:34,HOME:36,END:35,BACKSPACE:8,DELETE:46,isControl:function(a){switch(a.which){case d.KEY.SHIFT:case d.KEY.CTRL:case d.KEY.ALT:return!0}return!(!a.metaKey&&!a.ctrlKey)},isFunctionKey:function(a){return(a=a.which?a.which:a)>=112&&a<=123}},DEFAULT_QUERY_DELAY:70,ValueChangeTriggerTypes:{ENTER_PRESSED:"enter_pressed",OPTION_SELECTED:"option_selected",OPTION_REMOVED:"option_removed",BLUR:"blur",SEARCH_ICON_CLICKED:"search_icon_clicked"},lastMousePosition:{x:0,y:0},nextUid:function(){var a=1;return function(){return a++}}(),scrollBarDimensions:null,each2:function(a,b){for(var d=c(c.isFunction(a[0])?a[0]():a[0]),e=-1,f=a.length;++e<f&&(d.context=d[0]=c.isFunction(a[0])?a[e]():a[e])&&!1!==b.call(d[0],e,d););return a},measureScrollbar:function(){var a=c("<div class='oj-listbox-measure-scrollbar'></div>");a.appendTo("body");var b={width:a.width()-a[0].clientWidth,height:a.height()-a[0].clientHeight};return a.remove(),b},splitVal:function(a,b){var d,e,f;if(null===a||a.length<1)return[];for(d=a.split(b),e=0,f=d.length;e<f;e+=1)d[e]=c.trim(d[e]);return d},getSideBorderPadding:function(a){return a.outerWidth(!1)-a.width()},installKeyUpChangeEvent:function(a){var b="keyup-change-value";a.on("keydown",function(){void 0===c.data(a,b)&&c.data(a,b,a.val())}),a.on("keyup",function(e){if(e.which===d.KEY.ENTER)return void e.stopPropagation();var f=c.data(a,b);void 0!==f&&a.val()!==f&&(c.removeData(a,b),a.trigger("keyup-change"))})},installFilteredMouseMove:function(a){a.on("mousemove",function(a){var b=d.lastMousePosition;void 0!==b&&b.x===a.pageX&&b.y===a.pageY||(c(a.target).trigger("mousemove-filtered",a),d.lastMousePosition.x=a.pageX,d.lastMousePosition.y=a.pageY)})},thunk:function(a){var b,c=!1;return function(){return!1===c&&(b=a(),c=!0),b}},_focus:function(a){a[0]!==document.activeElement&&window.setTimeout(function(){var b,c=a[0],d=a.val().length;a.focus(),a.is(":visible")&&c===document.activeElement&&(c.setSelectionRange?c.setSelectionRange(d,d):c.createTextRange&&(b=c.createTextRange(),b.collapse(!1),b.select()))},40)},getCursorInfo:function(a){a=c(a)[0];var b=0,d=0;if("selectionStart"in a)b=a.selectionStart,d=a.selectionEnd-b;else if("selection"in document){a.focus();var e=document.selection.createRange();d=document.selection.createRange().text.length,e.moveStart("character",-a.value.length),b=e.text.length-d}return{offset:b,length:d}},killEvent:function(a){a.preventDefault(),a.stopPropagation()},killEventImmediately:function(a){a.preventDefault(),a.stopImmediatePropagation()},defaultEscapeMarkup:function(a){var b={"\\":"&#92;","&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};return String(a).replace(/[&<>"'\\]/g,function(a){return b[a]})},local:function(a,b){var e,f,g=a,h=function(a){return""+a.label};c.isArray(g)&&(f=g,g={results:f}),!1===c.isFunction(g)&&(f=g,g=function(){return f});var i=g();return i&&i.text&&(h=i.text,c.isFunction(h)||(e=i.text,h=function(a){return a[e]})),function(a){var e=a.term,f={results:[]};if(""===e&&!b)return void a.callback(g());g()&&d.each2(c(g().results),function(c,e){d._processData(a,e,f.results,b,!0,h)}),a.callback(f)}},cleanupResults:function(a){a.children().remove(),a.removeClass("oj-listbox-result-with-children")},remote:function(a,e){return function(f){var g={},h=this,i=function(a){var b={results:[]};h.inputSearch=g.searchPattern,d.each2(c(a),function(a,c){d._processData(f,c,b.results,e,!1)}),f.callback(b)};if(f.value)i(f.value);else{var j=c.trim(f.term);if(j&&(g.searchPattern="*"!==j?"*"+f.term+"*":j),c.extend(!0,g,{scope:this.defaultScope}),!g.searchPattern)return void i(this.results||[]);this.inputSearch&&this.inputSearch===g.searchPattern?i(this.results):(clearTimeout(this.queryTimer),this.queryTimer=setTimeout(function(){h.loading.hasClass("identity-show-inline")||h.loading.addClass("identity-show-inline"),a(g).then(function(a){h.results=a&&Array.isArray(a)?a:[],i(h.results),h.loading.removeClass("identity-show-inline"),h.ojContext._setOption("messagesCustom",[])}).catch(function(a){h.loading.removeClass("identity-show-inline"),h.ojContext._setOption("messagesCustom",[new b.Message(a)])})},1e3))}}},_processData:function(a,b,e,f,g,h){var i,j,k={};if(c.extend(!0,k,b[0]),b[0].label&&f&&f.label&&"label"!==f.label&&(k[f.label]=b[0].label,delete k.label),b[0].value&&f&&f.value&&"value"!==f.label&&(k[f.value]=b[0].value,delete k.value),!k.children&&f&&f.children&&(k.children=k[f.children],delete k[f.children]),k.children){i={};for(j in k)k.hasOwnProperty(j)&&(i[j]=k[j]);i.children=[],d.each2(c(k.children),function(b,c){d._processData(a,c,i.children,f&&f.childKeys?f.childKeys:null,g,h)}),(!g||i.children.length||a.matcher(a.term,i[f.label],k))&&e.push(i)}else g&&!a.matcher(a.term,k[f.label],k)||e.push(k)},clazz:function(a,d){var e=function(){};return b.Object.createSubclass(e,a,""),e.prototype=c.extend(e.prototype,d),e},LAST_QUERY_RESULT:"last-query-result",getLastQueryResult:function(a){return c.data(a.container,a._classNm+"-"+d.LAST_QUERY_RESULT)},saveLastQueryResult:function(a,b){c.data(a.container,a._classNm+"-"+d.LAST_QUERY_RESULT,b)}},e=d.clazz(Object,{_bind:function(a){var b=this;return function(){a.apply(b,arguments)}},_init:function(a){var b,e=this._classNm,f=this._elemNm,g=".oj-listbox-results";this.ojContext=a.ojContext,this.opts=a=this._prepareOpts(a),this.id=a.id,this.headerInitialized=!1,void 0!==a.element.data(f)&&null!==a.element.data(f)&&a.element.data(f)._destroy(),this.container=this._createContainer();var h=this.opts.rootAttributes;this.containerId=h&&h.id?h.id:"ojChoiceId_"+(a.element.attr("id")||"autogen"+d.nextUid()),this.containerSelector="#"+this.containerId.replace(/([;&,\.\+\*\~':"\!\^#$%@\[\]\(\)=>\|])/g,"\\$1"),this.container.attr("id",this.containerId),this.body=d.thunk(function(){return c("#__oj_zorder_container").length?c("#__oj_zorder_container"):a.element.closest("body")}),this.container.attr("style",a.element.attr("style")),this.elementTabIndex=this.opts.element.attr("tabindex"),this.opts.showScopeFilter&&(this.container.addClass("hasFilter"),this.container.find(".oj-identity-filter").addClass("showFilter")),this.opts.element.data(f,this).attr("tabindex","-1").before(this.container),this.container.data(f,this),this.dropdown=this.container.find(".oj-listbox-drop"),this.dropdown.data("ojlistbox",this),this.opts.showScopeFilter&&this.container.on("click",".oj-identity-filter",c.proxy(this._showFilter,this)),this.opts.loading=this.container.find(".oj-identity-loading-container");var i=this.containerId;if(this.dropdown.attr("data-oj-containerid",i),this.results=this.container.find(g),this.results.on("click",d.killEvent),a.list&&c("#"+a.list).is("ul")){var j=c("#"+a.list);this.dropdownListParent=j.parent(),j.addClass("oj-listbox-results").attr("role","listbox"),this.results.replaceWith(j),this.results=this.container.find(g),this.results.css("display","")}b="oj-select"==e?this.container.find("input.oj-listbox-input"):this.container.find("input."+e+"-input"),this.search=b,this.queryCount=0,this.resultsPage=0,this.context=null,this._initContainer(),this.container.on("click",d.killEvent),d.installFilteredMouseMove(this.results),this.dropdown.on("mousemove-filtered touchstart touchmove touchend",g,this._bind(this._highlightUnderEvent)),c(this.container).on("change","."+e+"-input",function(a){a.stopPropagation()}),c(this.dropdown).on("change","."+e+"-input",function(a){a.stopPropagation()});var k=this;d.installKeyUpChangeEvent(b),b.on("keyup-change input paste",this._bind(this._updateResults)),b.on("focus",function(){b.addClass(e+"-focused"),"oj-select"!==e&&k.container.addClass("oj-focus")}),b.on("blur",function(){b.removeClass(e+"-focused"),"oj-select"!==e&&k.container.removeClass("oj-focus")}),this.dropdown.on("mouseup",g,this._bind(function(a){var b=c(a.target);if(this._selectionEvent=a,b.closest(".oj-listbox-result-selectable").length>0){if(this.opts.multiple&&this.opts.selectAll&&b.hasClass("oj-identity-checkbox")){var e=this.getVal(),f=b.closest(".oj-listbox-result").data(this._elemNm),g=e?e.slice(0):[],h={optionMetadata:{trigger:d.ValueChangeTriggerTypes.OPTION_SELECTED}};b.hasClass("selected")?(g.splice(this.opts.indexOf.call(g,f),1),h.optionMetadata.trigger=d.ValueChangeTriggerTypes.OPTION_REMOVED,b.attr("checked",!1)):g.push(f),this.opts.contains.call(this.opts.results,g)?this.opts.checkAll.addClass("selected"):this.opts.checkAll.removeClass("selected"),b.toggleClass("selected"),this.setVal(g,a,h)}else this._highlightUnderEvent(a),this._selectHighlighted(null,a)}else if(this.opts.multiple&&this.opts.selectAll&&b.hasClass("oj-identity-checkbox")){var i=b.parent().nextAll().find(".oj-identity-checkbox"),j=this,e=this.getVal(),g=e?e.slice(0):[],h={optionMetadata:{trigger:d.ValueChangeTriggerTypes.OPTION_SELECTED}};b.toggleClass("selected");var k=b.hasClass("selected");i.each(function(){var a=c(this.parentNode).data(j._elemNm);k?g.push(a):g.splice(j.opts.indexOf.call(g,a),1)}),k?i.addClass("selected"):(h.optionMetadata.trigger=d.ValueChangeTriggerTypes.OPTION_REMOVED,b.attr("checked",!1),i.removeClass("selected")),this.setVal(g,a,h)}})),this.dropdown.on("click mouseup mousedown",function(a){a.stopPropagation()}),c.isFunction(this.opts.initSelection)&&this._initSelection();var l=a.element.prop("disabled");void 0===l&&(l=!1),this._enable(!l);var m=a.element.prop("readonly");void 0===m&&(m=!1),this._readonly(m),d.scrollBarDimensions=d.scrollBarDimensions||d.measureScrollbar(),this.autofocus=a.element.prop("autofocus"),a.element.prop("autofocus",!1),this.autofocus&&this._focus()},_showFilter:function(a){var b=a.target;if(a=c.Event(a),this._enabled){if(!this.filterDropdown){var e=this,f=this.opts.scopesOptions||[],g=d.nextUid();this.filterDropdown=c('<div class="oj-identity-filter-drop"></div>'),this.filterDropdown.appendTo(document.body),this.filterDropdown.ojPopup(),this.filterDropdown.ojPopup("option",{tail:"none",modality:"modeless"});for(var h=0,i=f.length;h<i;h++){var j=c('<div><input type="radio" name="oj-identity-'+g+'" value="'+f[h].value+'" '+(f[h].value==e.opts.defaultScope?"checked ":"")+"/> "+f[h].label+"</div>");this.filterDropdown.append(j)}this.filterDropdown.on("click","input",function(){e.opts.defaultScope=c(this).val()})}this.filterDropdown.ojPopup("open",b)}},_clickAwayHandler:function(a){var b,d=this.dropdown;c(a.target).closest(d).length||c(a.target).closest("#"+d.attr("data-oj-containerid")).length||d.length>0&&(b=d.data("ojlistbox"))&&b.close(a)},_surrogateRemoveHandler:function(){this.dropdown&&this.dropdown.remove()},_destroy:function(){var a=this._closeDelayTimer;isNaN(a)||(delete this._closeDelayTimer,window.clearTimeout(a));var b=this.opts.element,c=b.data(this._elemNm);this.close(),this.propertyObserver&&(delete this.propertyObserver,this.propertyObserver=null),this.opts.list&&this.results&&(this._cleanupList(this.results),this.dropdownListParent&&this.dropdownListParent.append(this.results)),void 0!==c&&(c.container.remove(),c.dropdown.remove(),b.removeAttr("aria-hidden").removeData(this._elemNm).off("."+this._classNm).prop("autofocus",this.autofocus||!1),this.elementTabIndex?b.attr({tabindex:this.elementTabIndex}):b.removeAttr("tabindex"),b.show())},_cleanupList:function(a){if(a&&a.is("ul")){a.removeClass("oj-listbox-results oj-listbox-result-sub"),a.removeAttr("role");for(var b=a.children().length-1;b>=0;b--)this._cleanupList(c(a.children()[b]))}else if(a.is("li")){(a.hasClass("oj-listbox-placeholder")||a.hasClass("oj-listbox-no-results"))&&a.remove(),a.attr("class")&&a.attr("class",a.attr("class").replace(/\oj-listbox-\S+/g,""));var d=a.children(".oj-listbox-result-label");d&&d.contents().unwrap(),"none"==a.css("display")&&a.css("display",""),this._cleanupList(a.children("ul"))}},_optionToData:function(a){if(a.is("option"))return{value:a.prop("value"),label:a.text(),element:a.get(),css:a.attr("class"),disabled:a.prop("disabled"),locked:"locked"===a.attr("locked")||!0===a.data("locked")};if(a.is("optgroup"))return{label:a.attr("label"),children:[],element:a.get(),css:a.attr("class")};if(a.is("li")){var b,c=null,d=a.children();return d&&d.length>0&&d.is("ul")?(b=a.attr("oj-data-label")?a.attr("oj-data-label"):a.clone().children().remove().end().text().trim(),c=[]):b=a.attr("oj-data-label")?a.attr("oj-data-label"):a.text().trim(),{value:a.attr("oj-data-value"),label:b,element:a.get(),css:a.attr("class"),children:c}}},_prepareOpts:function(a){var b,e,g=this;a.options&&Array.isArray(a.options)&&a.optionsKeys&&(a.options=c.extend(!0,[],a.options)),b=a.element;var h=b.get(0).tagName.toLowerCase();return"input"===h&&b.attr("list")?this.datalist=e=c("#"+b.attr("list")):"select"===h&&b.children().length>0?this.datalist=e=b:a.list&&(this.datalist=e=c("#"+a.list)),a=c.extend({},{populateResults:function(b,e,f,g){var h,i=c.proxy(this.opts.id,this),j=this,k=this.opts.optionRenderer;"function"!=typeof k&&(k=null),(h=function(b,e,g,l,m){var n,o,p,q,r,s,t,u,v=function(a,b){if(b.children&&b.children.length>0){var d=b.element&&c(b.element[0]).is("li")&&c(b.element[0]).children("ul"),e=d?c(b.element[0]).children("ul"):c("<ul></ul>");e.hasClass("oj-listbox-result-sub")||e.addClass("oj-listbox-result-sub"),h(b,b.children,e,l+1,!1),d||a.append(e)}},w=function(a,b,c){function d(a,c){var e=0;if(3===a.nodeType){var f=a.data.toUpperCase().indexOf(c);if(f>=0){var g=document.createElement("span");g.className=b;var h=a.splitText(f),i=(h.splitText(c.length),h.cloneNode(!0));g.appendChild(i),h.parentNode.replaceChild(g,h),e=1}}else if(1===a.nodeType&&a.childNodes&&!/(script|style)/i.test(a.tagName))for(var j=0;j<a.childNodes.length;++j)j+=d(a.childNodes[j],c);return e}a.length&&c&&c.length&&a.each(function(){d(this,c.toUpperCase())})},x=function(c,d){if(k){var e={index:n,depth:l,leaf:!d.children,parent:b,data:d,component:a.ojContext,parentElement:c.get(0)},g=k.call(a.ojContext,e);null!==g&&(null===g.parentNode||g.parentNode instanceof DocumentFragment)&&c.appendChild(g)}else void 0!==(u=a.formatResult(d))&&c.text(u);if(!0!==f.initial){var h=c.find(".oj-listbox-highlighter-section");h.length||(h=c),w(h,"oj-listbox-highlighter",f.term)}},y=function(b){a._placeholderData||(p={},p[a.optionsKeys.label]=b,a.optionsKeys.label!==a.optionsKeys.value&&(p[a.optionsKeys.value]=""),a._placeholderData=p),s=c("<li></li>"),s.addClass("oj-listbox-placeholder oj-listbox-results-depth-0 oj-listbox-result oj-listbox-result-selectable"),s.attr("role","presentation"),t=c(document.createElement("div")),t.addClass("oj-listbox-result-label"),t.attr("id","oj-listbox-result-label-"+d.nextUid()),t.attr("role","option"),t.text(a._placeholderData[a.optionsKeys.label]),s.append(t),s.data(j._elemNm,a._placeholderData),g.prepend(s)},z=j._getPlaceholder(),A=j.getVal();A&&0!==A.length&&(m&&z&&!f.term?y(z):a.multiple||(y(""),a.placeholder=""));var B=a.multiple&&a.selectAll;if(a.results=e,A=j.getVal(),B){var C=c("<li class='oj-listbox-results-depth-0' role='presentation'></li>"),D=d.nextUid(),E=c(document.createElement("input")),F=!1;A&&Array.isArray(A)&&(F=a.contains.call(e,A));var G=c(document.createElement("span"));G.addClass("oj-listbox-result-label"),G.attr("id","oj-listbox-result-label-"+D),G.attr("role","option"),G.text(a.selectLabel),E.attr({id:"oj-checkbox-"+D,class:"oj-identity-checkbox",type:"checkbox",checked:F});var H=c(document.createElement("label"));H.attr({for:"oj-checkbox-"+D,class:"oj-identity-checkbox"+(F?" selected":""),"aria-label":F?"selected":"unselected"}),a.checkAll=H,C.append([H,G]),g.prepend(C)}var I=!(!a.resultTemplateKeys||!Array.isArray(a.resultTemplateKeys));for(n=0,o=e.length;n<o;n+=1){p=e[n],r=!0===p.disabled,q=!r&&void 0!==i(p);var J=p.element&&c(p.element[0]).is("li");if(s=c(J?p.element[0]:"<li></li>"),s.hasClass("oj-listbox-result"))p.children&&p.children.length>0&&v(s,p),c(p.element[0]).css("display","");else{var K=d.nextUid();if(s.addClass("oj-listbox-results-depth-"+l),s.addClass("oj-listbox-result"),s.addClass(q?"oj-listbox-result-selectable":"oj-listbox-result-unselectable"),r&&s.addClass("oj-disabled"),p.children&&s.addClass("oj-listbox-result-with-children"),s.attr("role","presentation"),B){var F=!1;A&&Array.isArray(A)&&(F=-1!==a.indexOf.call(A,p));var H=c(document.createElement("label"));H.attr({for:"oj-checkbox-"+K,
class:"oj-identity-checkbox"+(F?" selected":""),"aria-label":F?"selected":"unselected"}),s.append(H)}var L=p.identityType?p.identityType:"";if(L||(L=p.type||""),L){var M=c(document.createElement("span"));M.attr("class","oj-identity-type "+L),s.append(M)}if(t=c(document.createElement("div")),t.addClass("oj-listbox-result-label"),t.attr("id","oj-listbox-result-label-"+K),t.attr("role","option"),r&&t.attr("aria-disabled","true"),!J){if(x(t,p),I)for(var N=a.resultTemplateKeys,O=0,P=N.length;O<P;O++)p.hasOwnProperty(N[O])&&p[N[O]]&&t.append([c("<span> | </span>"),c("<span class='info'> "+p[N[O]]+"</span>")]);else p.email&&t.append([c("<span> | <span>"),c("<span class='info'> "+p.email+"</span>")]);t[0].title=t.text(),s.append(t)}p.children&&p.children.length>0&&v(s,p),s.data(j._elemNm,p),J?(c(p.element[0]).contents().filter(function(){return"UL"!==this.tagName}).wrapAll(t),c(p.element[0]).css("display","")):g.append(s)}}})(null,e,b,0,g)}},f,a),a.id=function(a){return a[this.opts.optionsKeys.value]},a.formatResult=function(a){return isNaN(a[this.optionsKeys.label])?a[this.optionsKeys.label]:this.ojContext._formatValue(a[this.optionsKeys.label])},a.formatSelection=function(a){return a&&a[this.optionsKeys.label]?isNaN(a[this.optionsKeys.label])?a[this.optionsKeys.label]:this.ojContext._formatValue(a[this.optionsKeys.label]):void 0},"select"!==h&&null!==a.manageNewEntry&&(a.manageNewEntry=function(b){var d={};return d[a.optionsKeys.value]=d[a.optionsKeys.label]=c.trim(b),d}),e?a.query=this._bind(function(a){var b,c,f={results:[],more:!1},h=a.term;c=function(b,e){var f,i=b.children()&&b.children().length>0&&b.children().is("ul");b.is("option")||b.is("li")&&!i?a.matcher(h,b.text(),b)&&e.push(g._optionToData(b)):(b.is("optgroup")||b.is("li")&&i)&&(f=g._optionToData(b),d.each2(b.is("optgroup")?b.children():b.children("ul").children(),function(a,b){c(b,f.children)}),f.children.length>0&&e.push(f))},b=e.children(),void 0!==this._getPlaceholder()&&b.length>0&&""==b.first().attr("value")&&(b=b.slice(1)),d.each2(b,function(a,b){c(b,f.results)}),a.callback(f)}):"options"in a&&(c.isFunction(a.options)?a.query=d.remote(a.options,a.optionsKeys?a.optionsKeys:null):a.query=d.local(a.options,a.optionsKeys?a.optionsKeys:null)),a},_createHeader:function(){var a=this.opts.element.find(".oj-listbox-header");if(a.length){this.header=c("<li>",{class:"oj-listbox-result-header oj-listbox-result-unselectable",role:"presentation"}),this.header.append(a.children()),this._initializeHeaderItems();var b=c("<ul>",{class:"oj-listbox-results-with-header",role:"listbox"});b.append(this.header),b.appendTo(this.results.parent());var d=c("<li>",{role:"presentation"});b.append(d),this.results.attr("role","presentation"),this.results.appendTo(d)}this.headerInitialized=!0},_initializeHeaderItems:function(){this.headerItems=this.header.find("li[role='option'], li:not([role])"),this.headerItems.uniqueId(),this.header.find("ul").attr("role","presentation"),this.header.find("li:not([role])").attr("role","option"),this.header.find("a, input, select, textarea, button, object, .oj-component-initnode").each(function(){c(this).attr("tabIndex",-1)})},_isHeaderItem:function(a){var b=!1;return this.headerItems.each(function(){if(c(this).attr("id")===a)return b=!0,!1}),b},_getNextHeaderItem:function(a){if(!this.headerItems)return null;if(!a)return this.headerItems.first();var b=!1,d=null;return this.headerItems.each(function(){if(b)return d=c(this),!1;b=c(this).attr("id")===a}),d},_getPreviousHeaderItem:function(a){if(!this.headerItems)return null;var b=null;return this.headerItems.each(function(){if(c(this).attr("id")===a)return!1;b=c(this)}),b},_setFocusOnHeaderItem:function(a){var b=a.find(".oj-component .oj-enabled").first();if(0===b.length){b=a.find("a, input, select, textarea, button, object, .oj-component-initnode").first(),0===b.length&&(b=a.children().first())}b&&b.addClass("oj-focus")},_removeHighlightFromHeaderItems:function(){this.headerItems&&this.headerItems.find(".oj-focus").removeClass("oj-focus")},_triggerSelect:function(a){var b=c.Event(this._elemNm+"-selecting",{val:this.id(a),object:a});return this.opts.element.trigger(b),!b.isDefaultPrevented()},_isInterfaceEnabled:function(){return!0===this.enabledInterface},_enableInterface:function(){var a=this._enabled&&!this._readonly,b=!a;return a!==this.enabledInterface&&(this.container.toggleClass("oj-disabled",b),this.close(),this.enabledInterface=a,!0)},_enable:function(a){void 0===a&&(a=!0),this._enabled!==a&&(this._enabled=a,this.opts.element.prop("disabled",!a),this.container.toggleClass("oj-enabled",a),this.container.find(".oj-identity-filter").toggleClass("disabled-filter",!a),this._enableInterface())},_disable:function(){this._enable(!1)},_readonly:function(a){return void 0===a&&(a=!1),this._readonly!==a&&(this._readonly=a,this.opts.element.prop("readonly",a),this._enableInterface(),!0)},_opened:function(){return this.container.hasClass("oj-listbox-dropdown-open")},_usingHandler:function(a,b){if(o(b))return void(this._closeDelayTimer=window.setTimeout(c.proxy(this.close,this),1));var d=this.container,e=b.element.element;e.css(a),"bottom"===b.vertical?(d.addClass("oj-listbox-drop-above"),e.addClass("oj-listbox-drop-above")):(d.removeClass("oj-listbox-drop-above"),e.removeClass("oj-listbox-drop-above"))},_getDropdownPosition:function(){var a={my:"start top",at:"start bottom",of:this.container.children().first(),collision:"flip",using:c.proxy(this._usingHandler,this)},b="rtl"===l();return p(a,b)},_positionDropdown:function(){this.dropdown.css("width",this.container.outerWidth()),this.dropdown.position(this._getDropdownPosition())},_shouldOpen:function(a){if(this._opened())return c.isFunction(this.opts.options);if(!1===this._enabled||!0===this._readonly)return!1;var b={component:this.opts.element};return this.ojContext._trigger("beforeExpand",a,b)},_clearDropdownAlignmentPreference:function(){this.container.removeClass("oj-listbox-drop-above"),this.dropdown.removeClass("oj-listbox-drop-above")},open:function(a,b){return!!this._shouldOpen(a)&&(this._opening(a,b),!0)},_opening:function(){this.headerInitialized||this._createHeader(),this.container.addClass("oj-listbox-dropdown-open")},_showDropDown:function(){if(this._opened()){this.windowEventBind=c.proxy(this._positionDropdown,this),this.documentEventBind=c.proxy(this._clickAwayHandler,this),window.addEventListener("resize",this.windowEventBind,!0),window.addEventListener("scroll",this.windowEventBind,!0),document.documentElement.addEventListener("mousedown",this.documentEventBind,!0);if("true"!==this._getActiveContainer().attr("aria-expanded")){this._clearDropdownAlignmentPreference(),this.dropdown[0]!==this.body().children().last()[0]&&this.dropdown.detach().appendTo(this.body()),this.dropdown.appendTo(this.body()),this.header&&(this.dropdown.find(".oj-listbox-results-with-header").prepend(this.header),this.header.show()),this.dropdown.position(this._getDropdownPosition()).show(),c("#oj-listbox-drop").removeAttr("id"),this.dropdown.attr("id","oj-listbox-drop");var a=this.containerId;this.dropdown.attr("data-oj-containerid",a),this._positionDropdown(),this._getActiveContainer().attr("aria-expanded",!0)}}},close:function(a){if(this._opened()){if(this._selectionEvent&&this._selectionEvent.target&&c(this._selectionEvent.target).hasClass("oj-identity-checkbox"))return void(this._selectionEvent=null);this.container.removeClass("oj-listbox-dropdown-open");var b=this._getActiveContainer().attr("aria-expanded");if(b&&"false"!==b){window.removeEventListener("resize",this.windowEventBind,!0),window.removeEventListener("scroll",this.windowEventBind,!0),document.documentElement.removeEventListener("mousedown",this.documentEventBind,!0);var d=this.containerId,e="scroll."+d,f="resize."+d,g="orientationchange."+d;this.container.parents().add(window).each(function(){c(this).off(e).off(f).off(g)}),this._clearDropdownAlignmentPreference(),this.header&&(this.header.hide(),this.header.appendTo(this.container)),this.dropdown.removeAttr("data-oj-containerid"),this.dropdown.removeAttr("id"),this.opts.list?this._removeHighlight():(this.dropdown.detach(),this.results.empty()),this._getActiveContainer().attr("aria-expanded",!1),this.ojContext._IsRequired()&&this.ojContext.validate()}}},_clearSearch:function(){},_ensureHighlightVisible:function(){var a,b,d,e,f,g,h,i=this.results;if(!((b=this._highlight())<0)){if(0==b)return void i.scrollTop(0);a=this._findHighlightableChoices().find(".oj-listbox-result-label"),d=c(a[b]),e=d.offset().top+d.outerHeight(!0),b===a.length-1&&(h=i.find("li.oj-listbox-more-results"),h.length>0&&(e=h.offset().top+h.outerHeight(!0))),f=i.offset().top+i.outerHeight(!0),e>f&&i.scrollTop(i.scrollTop()+(e-f)),g=d.offset().top-i.offset().top,g<0&&"none"!=d.css("display")&&i.scrollTop(i.scrollTop()+g)}},_findHighlightableChoices:function(){return this.results.find(".oj-listbox-result-selectable:not(.oj-disabled, .oj-selected)").filter(function(){return"none"!=c(this).css("display")})},_moveHighlight:function(a){var b=this._findHighlightableChoices(),d=this._highlight();if(this.header&&(d<=0||d===b.length-1)){var e=this._getActiveContainer().attr("aria-activedescendant"),f=this._isHeaderItem(e);f||(e=null);var g=null;if(a>0&&(d<0||d===b.length-1)?g=this._getNextHeaderItem(e):a<0&&(f&&d<0||0===d)&&(g=this._getPreviousHeaderItem(e)),g)return this._removeHighlight(),this._setFocusOnHeaderItem(g),void this._getActiveContainer().attr("aria-activedescendant",g.attr("id"));f&&a<0&&(d=0)}for(;d>=-1&&d<b.length;){d+=a,d==b.length?d=0:-1==d&&(d=b.length-1);var h=c(b[d]);if(h.hasClass("oj-listbox-result-selectable")&&!h.hasClass("oj-disabled")&&!h.hasClass("oj-selected")){this._highlight(d);break}}},_highlight:function(a){var b,d=this._findHighlightableChoices();if(0===arguments.length){var e=d.filter(".oj-hover");return e.length||(e=d.children(".oj-hover").closest(".oj-listbox-result")),d.get().indexOf(e[0])}a>=d.length&&(a=d.length-1),a<0&&(a=0),this._removeHighlight(),b=c(d[a]),b.hasClass("oj-listbox-result-with-children")?b.children(".oj-listbox-result-label").addClass("oj-hover"):b.addClass("oj-hover"),this._getActiveContainer().attr("aria-activedescendant",b.find(".oj-listbox-result-label").attr("id")),this._ensureHighlightVisible()},_removeHighlight:function(){this.results.find(".oj-hover").removeClass("oj-hover"),this._removeHighlightFromHeaderItems()},_highlightUnderEvent:function(a){var b=c(a.target).closest(".oj-listbox-result-selectable");if(b.length>0&&!b.is(".oj-hover")){var d=this._findHighlightableChoices();this._highlight(d.index(b))}else 0==b.length&&this._removeHighlight()},_updateResults:function(a){var b=this.search,e=this,f=b.val(),g=c.data(this.container,this._classNm+"-last-term");if((!0===a||!g||f!==g)&&(g||f||!a||"input"!==a.type)){c.data(this.container,this._classNm+"-last-term",f);var h=this.opts.minLength||0;f.length>=h?(clearTimeout(this.queryTimer),a&&!0!==a?this.queryTimer=setTimeout(function(){e._queryResults(a)},d.DEFAULT_QUERY_DELAY):this._queryResults(a)):this.close()}},_queryResults:function(a){function b(){if(i._positionDropdown(),i.header&&i.headerItems.length){var a=i._findHighlightableChoices(),b=i.headerItems.length+a.length;if(i.headerItems.attr("aria-setsize",b),a.length){var c=a.children("[role='option']");c.attr("aria-setsize",b),c.first().attr("aria-posinset",i.headerItems.length+1)}}}var e,f=this.search,g=this.results,h=this.opts,i=this,j=f.val();if((h.minLength||0)>j.length)return void this.close();this.open(null,!0),++this.queryCount,this._removeHighlight(),e=this.search.val(),j=void 0!==e&&null!==e&&(!0!==a||h.inputSearch||h.minLength>0)?e:"",this.resultsPage=1,h.query({element:h.element,term:j,page:this.resultsPage,context:null,matcher:h.matcher,callback:this._bind(function(e){if(this._opened())if(this.context=e&&void 0!==e.context?e.context:null,e&&0!==e.results.length)d.saveLastQueryResult(this,e.results),this._showDropDown(),this._preprocessResults(g),i.opts.populateResults.call(this,g,e.results,{term:f.val(),page:this.resultsPage,context:null,initial:a},this._showPlaceholder()),this._postprocessResults(e,a),b();else if("oj-select"===this._classNm&&!0!==this.opts.multiple||this.opts.inputSearch&&""!==c.trim(this.opts.inputSearch)||this.header){var j=c("<li>");j.addClass("oj-listbox-no-results"),j.text(h.noMatchesFound),this._showDropDown(),this._preprocessResults(g),g.append(j),b()}})})},_preprocessResults:function(a){if(this.opts.list){var b=a.children();this._hideResultList(b)}else a.empty()},_hideResultList:function(a){for(var b=0;b<a.length;b++){c(a[b]).is("LI")&&((c(a[b]).hasClass("oj-listbox-no-results")||c(a[b]).hasClass("oj-listbox-placeholder"))&&c(a[b]).remove(),c(a[b]).css("display","none"),c(a[b]).hasClass("oj-selected")&&c(a[b]).removeClass("oj-selected"));var d=c(a[b]).children("ul");d&&d.children()&&this._hideResultList(d.children())}},_cancel:function(a){this.close(a)},_focusSearch:function(){d._focus(this.search)},_selectHighlighted:function(a,b){if(this.header){var e=this._getActiveContainer().attr("aria-activedescendant");if(this._isHeaderItem(e)){var f=c("#"+e),g="a, input, select, textarea, button, object",h=f.find(g).first();return 0===h.length&&(h=f.children()),h.length&&h[0].click(),void this.close(b)}}var i=this._highlight(),j=this.results.find(".oj-hover"),k=j.closest(".oj-listbox-result").data(this._elemNm);k?(this._highlight(i),a=a||{},a.trigger=d.ValueChangeTriggerTypes.OPTION_SELECTED,k!==this.opts._placeholderData?this._onSelect(k,a,b):this._onSelect([],a,b)):a&&a.noFocus&&this.close(b)},_getPlaceholder:function(){return this.opts.element.attr("placeholder")||this.opts.element.attr("data-placeholder")||this.opts.element.data("placeholder")||this.opts.placeholder},_setPlaceholder:function(){var a=this._getPlaceholder();a&&(this.search.attr("placeholder",a),this.container.removeClass(this._classNm+"-allowclear"))},_initContainerWidth:function(){function a(){var a,b,c,d,e,f;if(void 0!==(a=this.opts.element.attr("style")))for(b=a.split(";"),d=0,e=b.length;d<e;d+=1)if(f=b[d].replace(/\s/g,""),null!==(c=f.match(/^width:(([-+]?([0-9]*\.)?[0-9]+)(px|em|ex|%|in|cm|mm|pt|pc))/i))&&c.length>=1)return c[1]}var b=a.call(this);null!==b&&this.container.css("width",b)},getVal:function(){return this.ojContext.option("value")},setVal:function(a,b,c){var d={doValueChangeCheck:!1};c&&(d._context=c),"string"!=typeof a&&Array.isArray(a)||(a=[a]),this.opts.element.val(0!==a.length?a:null),this.ojContext._updateValue(a,b,d)},_showPlaceholder:function(){return!1},_getActiveContainer:function(){return this.search},_hasSearchBox:function(){return void 0!==this.opts.minimumResultsForSearch&&void 0!==this.container._hasSearchBox},_findItem:function(a,b){for(var d=0;d<a.length;d++)if(c(a[d]).data(this._elemNm).value===b)return a[d];return null}}),f={closeOnSelect:!0,openOnEnter:!0,id:function(a){return a.id},matcher:function(a,b){return(""+b).toUpperCase().indexOf((""+a).toUpperCase())>=0},separator:","},g=d.clazz(e,{_enableInterface:function(){g.superclass._enableInterface.apply(this,arguments)&&this.search.prop("disabled",!this._isInterfaceEnabled())},_focus:function(){this._opened()&&this.close()},_destroy:function(){c("label[for='"+this.search.attr("id")+"']").attr("for",this.opts.element.attr("id")),g.superclass._destroy.apply(this,arguments)},_clear:function(a){this.selection.data(this._elemNm);this.search.val(""),this.selection.removeData(this._elemNm),this._setPlaceholder()},_initSelection:function(){var a=this.opts.element;this.opts.initSelection.call(null,a,this._bind(this._updateSelectedOption))},_containerKeydownHandler:function(a){if(this._isInterfaceEnabled()){if(a.which===d.KEY.PAGE_UP||a.which===d.KEY.PAGE_DOWN)return void d.killEvent(a);switch(a.which){case d.KEY.UP:case d.KEY.DOWN:return this._opened()?this._moveHighlight(a.which===d.KEY.UP?-1:1):this.open(a),void d.killEvent(a);case d.KEY.ENTER:return this._selectHighlighted(null,a),d.killEvent(a),void(this._opened()||(this._userTyping=!1));case d.KEY.TAB:return this.close(a),void(this._userTyping=!1);case d.KEY.ESC:return this._opened()&&(this._cancel(a),d.killEvent(a)),void(this._userTyping=!1)}this._userTyping=!0}},_containerKeyupHandler:function(a){this._isInterfaceEnabled()&&(this._opened()||this.open(a))},_initContainer:function(){var a,b,e=this.container,f=(this.dropdown,this.opts.rootAttributes),g=f&&f.id?f.id:this.opts.element.attr("id")||d.nextUid();this.selection=a=e.find("."+this._classNm+"-choice"),a.attr("id",this._classNm+"-choice-"+g),b=c("label[for='"+this.opts.element.attr("id")+"']"),b.attr("id")||b.attr("id",this._classNm+"-label-"+g),a.find("."+this._classNm+"-input").attr("id",this._classNm+"-input-"+g),this.results.attr("id")||this.results.attr("id","oj-listbox-results-"+g),this.search.attr("aria-owns",this.results.attr("id")),this.search.attr("aria-labelledby",b.attr("id")),this.opts.element.attr("aria-labelledby",b.attr("id")),this.search.attr("id")&&b.attr("for",this.search.attr("id")),this.opts.element.attr("aria-label")&&this.search.attr("aria-label",this.opts.element.attr("aria-label")),this.opts.element.attr("aria-controls")&&this.search.attr("aria-controls",this.opts.element.attr("aria-controls")),a.on("keydown",this._bind(this._containerKeydownHandler)),a.on("mousedown","abbr",this._bind(function(a){this._isInterfaceEnabled()&&(this._clear(a),d.killEventImmediately(a),this.close(a),this.selection.focus())})),a.on("mousedown",this._bind(function(a){this.opts.element.prop("disabled")&&d.killEvent(a),this._opened()?this.close(a):this._isInterfaceEnabled()&&this.open(a);var b=this.search.parent().attr("aria-hidden");b&&"true"==b?this.selection.focus():this.search.focus(),this.container.addClass("oj-active")})),a.on("mouseup",this._bind(function(a){this.container.removeClass("oj-active")})),a.on("focus",this._bind(function(a){d.killEvent(a)})),this.search.on("blur keyup",this._bind(function(a){if("keyup"!==a.type||10===a.keyCode||13===a.keyCode){if(void 0!==this.search.val()&&this.results.find(".oj-hover").length<=0)if(this.opts.manageNewEntry){var b=this.selection.data(this._elemNm);if(!b&&""!==this.search.val()||b&&(b.label!==this.search.val()||!this.ojContext.isValid())){var c=this.opts.manageNewEntry(this.search.val()),e="blur"===a.type?d.ValueChangeTriggerTypes.BLUR:d.ValueChangeTriggerTypes.ENTER_PRESSED,f={trigger:e};this._onSelect(c,f,a)}}else if(null==this.opts.manageNewEntry){var c=this.selection.data(this._elemNm);if(""==this.search.val())this._clear(a);else if("oj-select"!==this._classNm){var g=this.opts.formatSelection(c);void 0!==g&&this.search.val(g)}}this.search.removeClass(this._classNm+"-focused"),this.container.removeClass("oj-focus")}})),this._initContainerWidth(),this.opts.element.hide().attr("aria-hidden",!0),this._setPlaceholder()},_prepareOpts:function(){var a=g.superclass._prepareOpts.apply(this,arguments),b=this,e=this.getVal(),f=a.element.get(0).tagName.toLowerCase();if("input"===f&&a.element.attr("list")||"select"===f&&a.element.children().length>0||a.list){var h=a.list?"li":"option";a.initSelection=function(a,c){var d,e=b.getVal();Array.isArray(e)&&(e=e[0]),d=void 0!==e&&null!==e?b._optionToData(a.find(h).filter(function(){return"li"==h?this.getAttribute("oj-data-value")===e:"option"==h?this.value===e:void 0})):b._optionToData(a.find(h).filter(function(){return"li"==h?!0===this.getAttribute("oj-data-selected"):"option"==h?this.selected:void 0})),c(d)},a.validate=function(a,c){var d;return void 0!==c&&null!==c&&(d=b._optionToData(a.find(h).filter(function(){return"li"==h?this.getAttribute("oj-data-value")===c:"option"==h?this.value===c:void 0}))),!!d}}else("options"in a||e&&e.length>0)&&(c.isFunction(a.options)?(a.initSelection=function(f,g){var h=function(a,b){for(var c=0,d=a.length;c<d;c++){var e=a[c];if(JSON.stringify(b)===JSON.stringify(e))return e;if(e.children){var f=h(e.children,b);if(f)return f}}return null};e=b.getVal();var i="";e&&e.length&&(i=e[0]);var j=null;if(!i)return void g(j);var k=d.getLastQueryResult(b);if(k&&(j=h(k,i)),!j){var l=b.currentItem;l&&l.length&&i===l[0]&&(j=l[0])}j||b.valueChangeTrigger?g(j):a.query({value:[i],callback:c.isFunction(g)?function(a){a&&a.results&&(j=h(a.results,i)),g(j)}:c.noop})},a.validate||(a.validate=function(a,b){return!0})):(a.initSelection=function(d,g){var h="";(e=b.getVal())&&e.length&&(h=e[0]);var i="select"==f&&b.ojContext._HasPlaceholderSet()&&!b.ojContext._IsRequired(),j=i?b._getPlaceholder():null,k=null;a.query({matcher:function(a,b,c){var d=JSON.stringify(h)===JSON.stringify(c);return d&&(k=c),null==j&&(j=c),d},callback:c.isFunction(g)?function(){k||"select"!==f||(k=j),g(k)}:c.noop})},a.validate=function(b,d){var e=d,f=null;return a.query({matcher:function(a,b,c){var d=JSON.stringify(e)===JSON.stringify(c);return d&&(f=c),d},callback:c.noop}),!!f}));return a},_postprocessResults:function(a,b,c){var e,f=-1,g=this;e=this._findHighlightableChoices(),d.each2(e,function(a,b){var c=g.getVal();if(c&&c[0]===g.id(b.data(g._elemNm)))return f=a,!1}),!1!==c&&!0===b&&f>=0&&this._highlight(f)},_onSelect:function(a,b,c){if(this._triggerSelect(a)){var d;b&&b.trigger&&(d={optionMetadata:{trigger:b.trigger}}),this.setVal(a||[],c,d),this.close(c),this._focusSearch()}},_clearSearch:function(){this.search.val("")}}),h=d.clazz(g,{_elemNm:"ojidentity",_classNm:"oj-select",_userTyping:!1,_createContainer:function(){return c(document.createElement("div")).attr({class:"oj-identity oj-select oj-component"}).html(["<div class='oj-select-choice' tabindex='0' role='combobox' ","     aria-autocomplete='none' aria-expanded='false' aria-ready='true'>","  <span class='oj-select-chosen'></span>","  <abbr class='oj-select-search-choice-close' role='presentation'></abbr>","  <a class='oj-select-arrow oj-component-icon oj-clickable-icon-nocontext oj-select-open-icon' role='presentation'>","</a></div>","<span class='oj-identity-filter'></span>","<div class='oj-listbox-drop oj-identity-container' style='display:none' role='presentation'>","  <div class='oj-listbox-search-wrapper'>","  <div class='oj-listbox-search'>","    <input type='text' autocomplete='off' autocorrect='off' autocapitalize='off'","           spellcheck='false' class='oj-listbox-input' title='Search field' ","           role='combobox' aria-expanded='false' aria-autocomplete='list' />","    <span class='oj-listbox-spyglass-box'>","      <span class='oj-component-icon oj-clickable-icon-nocontext oj-listbox-search-icon' role='presentation'>","       <b role='presentation'></b></span>","    </span>","    <span class='oj-identity-loading-container oj-select-loading'>","      <span class='oj-identity-loading' role='presentation'>","       &nbsp;</span>","    </span>","  </div>","  </div>","   <ul class='oj-listbox-results' role='listbox'>","   </ul>","</div>"].join(""))},_enable:function(a){h.superclass._enable.apply(this,arguments),this._enabled?(this.container.find(".oj-select-choice").attr("tabindex","0"),this.container.find(".oj-select-arrow").removeClass("oj-disabled")):(this.container.find(".oj-select-choice").attr("tabindex","-1"),this.container.find(".oj-select-arrow").addClass("oj-disabled"))},close:function(a){this._opened()&&(h.superclass.close.apply(this,arguments),this.container.find(".oj-select-choice").attr("aria-expanded",!1),this._testClear(a)||this._clearSearch(),a instanceof MouseEvent&&a.target!=this.selection&&a.target!=this.search||d._focus(this.selection),this.container.find(".oj-listbox-spyglass-box").off("mouseup click"))},_opening:function(a,b){h.superclass._opening.apply(this,arguments);var c;a&&"keydown"==a.type&&a.which!=d.KEY.UP&&a.which!=d.KEY.DOWN&&a.which!=d.KEY.LEFT&&a.which!=d.KEY.RIGHT&&(c=String.fromCharCode(a.which),d.killEvent(a)),this._opened()&&(c=this.search.val()),this._showSearchBox(c),b||(c?this._updateResults():this._updateResults(!0))},_showDropDown:function(){if(this._opened()){h.superclass._showDropDown.apply(this,arguments),this.container.find(".oj-select-choice").attr("aria-expanded",!0);var a,b,c;this._hasSearchBox()&&(a=this.search.get(0),a.createTextRange?(b=a.createTextRange(),b.collapse(!1),b.select()):a.setSelectionRange&&(c=this.search.val().length,a.setSelectionRange(c,c)))}},_initContainer:function(){var a=this.containerId+"_selected";this.text=this.container.find(".oj-select-chosen").attr("id",a),h.superclass._initContainer.apply(this,arguments),this.container.find(".oj-select-choice").attr({"aria-owns":this.search.attr("aria-owns"),"aria-labelledby":this.search.attr("aria-labelledby"),"aria-describedby":a});var b=this.opts.element.attr("aria-label");b&&this.selection.attr("aria-label",b),this.search.on("keydown",this._bind(this._containerKeydownHandler)),this.search.on("keyup-change input",this._bind(this._containerKeyupHandler));var c=this;this.selection.on("blur",function(a){c._testClear(a)})},_initSelection:function(){this._isPlaceholderOptionSelected()?(this._updateSelection(null),this.close(),this._setPlaceholder()):h.superclass._initSelection.apply(this,arguments)},_updateSelectedOption:function(a){if(void 0!==a&&null!==a){var b=this.getVal();b=Array.isArray(b)?b[0]:b,JSON.stringify(b)!==JSON.stringify(a)&&(void 0===b||null===b?this.ojContext.options.value=Array.isArray(a)?a:[a]:this.setVal(Array.isArray(a)?a:[a])),this._updateSelection(a),this.close()}},_updateSelection:function(a){this.selection.data(this._elemNm,a),null!==a&&this.text.text(a[this.opts.optionsKeys.label]),a&&""!=a.id&&this.text.removeClass(this._classNm+"-default"),this.opts.allowClear&&this.container.addClass(this._classNm+"-allowclear")},_getActiveContainer:function(){return this.search.attr("aria-expanded")&&this._hasSearchBox()?this.search:this.selection},_isPlaceholderOptionSelected:function(){if(null===this._getPlaceholder())return!1;var a=this.getVal();return""===(a=Array.isArray(a)?a[0]:a)||void 0===a||null===a},_getPlaceholder:function(){return this.opts.placeholder},_showPlaceholder:function(){return!0},_setPlaceholder:function(){var a=this._getPlaceholder();this._isPlaceholderOptionSelected()&&void 0!==a&&(void 0===a&&(a=""),this.text.text(a).addClass(this._classNm+"-default"),this.container.removeClass(this._classNm+"-allowclear"))},setVal:function(a,b,c){h.superclass.setVal.call(this,a,b,c),this.selection.data("selectVal",a)},_containerKeydownHandler:function(a){if(!(d.KEY.isControl(a)&&a.which!=d.KEY.SHIFT||d.KEY.isFunctionKey(a))){switch(a.which){case d.KEY.TAB:return this.close(a),this.selection.focus(),void this._testClear(a);case d.KEY.ENTER:if(a.target===this.selection[0]&&!this._opened())return this.open(a),void d.killEvent(a)}var b=this._hasSearchBox();if(h.superclass._containerKeydownHandler.apply(this,arguments),this._userTyping&&!this._opened()&&this.open(a),!b&&this._userTyping){var c;a.which!=d.KEY.LEFT&&a.which!=d.KEY.RIGHT&&(c=String.fromCharCode(a.which)),this._showSearchBox(c),this._updateResults(),d.killEvent(a)}}},_testClear:function(a){return""==this.text.text()&&(this._clear(a),!0)},_showSearchBox:function(a){var b=!1,e=this.dropdown.find(".oj-listbox-search");if(e&&(this._hasSearchBox()?(this.dropdown.find(".oj-listbox-search-wrapper").removeClass("oj-helper-hidden-accessible"),c(e).removeAttr("aria-hidden"),this.search.val(a),b=!0):(this.dropdown.find(".oj-listbox-search-wrapper").addClass("oj-helper-hidden-accessible"),c(e).attr("aria-hidden","true"))),d._focus(b?this.search:this.selection),b){var f=this;e.find(".oj-listbox-spyglass-box").on("mouseup click",function(a){f.search.focus(),a.stopPropagation()})}},_hasSearchBox:function(){var a=this.opts.minimumResultsForSearch;return(this.opts.list?c("#"+this.opts.list).find("li").length:this.datalist?this.datalist[0].length:this.opts.options?this.opts.options.length:0)>a||this._userTyping||c.isFunction(this.opts.options)}}),i=d.clazz(e,{_prepareOpts:function(){var a=i.superclass._prepareOpts.apply(this,arguments),b=this,e=a.element.get(0).tagName.toLowerCase();if("input"===e&&a.element.attr("list")||"select"===e&&a.element.children().length>0||a.list){var f=a.list?"li":"option";a.initSelection=function(a,c){var g,h=[],i=b.getVal();if(i)for(var j=i,k=0;k<j.length;k++){var l=j[k];g=a.find(f).filter(function(){return"option"===f?this.value===l:"li"===f?this.getAttribute("oj-data-value")===l:void 0}),g&&g.length?h.push(b._optionToData(g)):h.push({value:l,label:l})}else"select"!==e&&(g=a.find(f).filter(function(){return"option"===f?this.selected:"li"===f?!0===this.getAttribute("oj-data-selected"):void 0}),d.each2(g,function(a,c){h.push(b._optionToData(c))}));c(h)}}else"options"in a&&(c.isFunction(a.options)?a.initSelection=function(e,f){var g=function(b,d){for(var e=[],f=0,h=b.length;f<h;f++){var i=b[f];if(a.indexOf.call(b,i)>=0&&e.push(i),i.children){var j=g(i.children,d);j&&j.length&&c.merge(e,j)}}return e},h=b.getVal(),i=[],j=d.getLastQueryResult(b);j&&(i=g(j,h));var k=function(){for(var a=[],c=0;c<h.length;c++){for(var d=h[c],e=!1,g=0;g<i.length;g++){var j=i[g];if(JSON.stringify(d)===JSON.stringify(j)){a.push(j),i.splice(g,1),e=!0;break}}if(!e){var k=b.currentItem;if(k&&k.length)for(var l=0;l<k.length;l++)if(JSON.stringify(d)===JSON.stringify(k[l])){a.push(k[l]),e=!0;break}e||a.push(d)}}f(a)};b.valueChangeTrigger?k():a.query({value:h,callback:function(a){if(a&&a.results){var b=g(a.results,h);b&&b.length&&c.merge(i,b)}k()}})}:a.initSelection=a.initSelection||function(d,e){var f=b.getVal(),g=[];a.query({matcher:function(a,b,d){var e=c.grep(f,function(a){return JSON.stringify(a)===JSON.stringify(d)}).length;return e&&g.push(d),e},callback:c.isFunction(e)?function(){for(var a=[],b=0;b<f.length;b++){for(var c=f[b],d=!1,h=0;h<g.length;h++){var i=g[h];if(JSON.stringify(c)===JSON.stringify(i)){a.push(i),g.splice(h,1),d=!0;break}}d||a.push(c)}e(a)}:c.noop})});return a},_selectChoice:function(a){var b=this.container.find("."+this._classNm+"-selected-choice.oj-focus");b.length&&a&&a[0]==b[0]||(b.length&&this.opts.element.trigger("choice-deselected",b),b.removeClass("oj-focus"),a&&a.length&&(this.close(),a.addClass("oj-focus"),this.container.find("."+this._classNm+"-description").text(a.attr("valueText")+". Press back space to delete.").attr("aria-live","assertive"),this.opts.element.trigger("choice-selected",a)))},_destroy:function(){c("label[for='"+this.search.attr("id")+"']").attr("for",this.opts.element.attr("id")),i.superclass._destroy.apply(this,arguments)},_initContainer:function(){var a,b,e="."+this._classNm+"-choices",f=d.nextUid();this.searchContainer=this.container.find("."+this._classNm+"-search-field"),this.selection=a=this.container.find(e);var g=this;this.selection.on("click","."+this._classNm+"-selected-choice:not(."+this._classNm+"-locked)",function(a){g.search[0].focus(),g._selectChoice(c(this))}),b=c("label[for='"+this.opts.element.attr("id")+"']"),b.attr("id")||b.attr("id",this._classNm+"-label-"+f),a.find("."+this._classNm+"-input").attr("id",this._classNm+"-input-"+f),this.results.attr("id")||this.results.attr("id","oj-listbox-results-"+f),this.search.attr("aria-owns",this.results.attr("id")),this.search.attr("aria-labelledby",b.attr("id")),this.opts.element.attr("aria-labelledby",b.attr("id")),this.search.attr("id")&&b.attr("for",this.search.attr("id")),this.opts.element.attr("aria-label")&&this.search.attr("aria-label",this.opts.element.attr("aria-label")),this.opts.element.attr("aria-controls")&&this.search.attr("aria-controls",this.opts.element.attr("aria-controls")),this.search.attr("tabindex",this.elementTabIndex),this.keydowns=0,this.search.on("keydown",this._bind(function(b){if(this._isInterfaceEnabled()){++this.keydowns;var c=a.find("."+this._classNm+"-selected-choice.oj-focus"),e=c.prev("."+this._classNm+"-selected-choice:not(."+this._classNm+"-locked)"),f=c.next("."+this._classNm+"-selected-choice:not(."+this._classNm+"-locked)"),g=d.getCursorInfo(this.search);if(c.length&&(b.which==d.KEY.LEFT||b.which==d.KEY.RIGHT||b.which==d.KEY.BACKSPACE||b.which==d.KEY.DELETE||b.which==d.KEY.ENTER)){var h=c
;return b.which==d.KEY.LEFT&&e.length?h=e:b.which==d.KEY.RIGHT?h=f.length?f:null:b.which===d.KEY.BACKSPACE?(this._unselect(c.first(),b),this.search.width(10),h=e.length?e:f):b.which==d.KEY.DELETE?(this._unselect(c.first(),b),this.search.width(10),h=f.length?f:null):b.which==d.KEY.ENTER&&(h=null),this._selectChoice(h),d.killEvent(b),void(h&&h.length||this.open())}if((b.which===d.KEY.BACKSPACE&&1==this.keydowns||b.which==d.KEY.LEFT)&&0==g.offset&&!g.length)return this._selectChoice(a.find("."+this._classNm+"-selected-choice:not(."+this._classNm+"-locked)").last()),void d.killEvent(b);if(this._selectChoice(null),this._opened())switch(b.which){case d.KEY.UP:case d.KEY.DOWN:return this._moveHighlight(b.which===d.KEY.UP?-1:1),void d.killEvent(b);case d.KEY.ENTER:return this._selectHighlighted(null,b),void d.killEvent(b);case d.KEY.TAB:return void this.close(b);case d.KEY.ESC:return this._cancel(b),void d.killEvent(b)}if(!(b.which===d.KEY.TAB||d.KEY.isControl(b)||d.KEY.isFunctionKey(b)||b.which===d.KEY.ESC||b.which===d.KEY.ENTER&&this.search.val()&&"ojcombobox"===this._elemNm))switch(b.which){case d.KEY.UP:case d.KEY.DOWN:return this.open(),void d.killEvent(b);case d.KEY.PAGE_UP:case d.KEY.PAGE_DOWN:case d.KEY.ENTER:return void d.killEvent(b)}}})),this.search.on("keyup",this._bind(function(a){this.keydowns=0})),this.search.on("blur keyup",this._bind(function(a){if("keyup"!==a.type||10===a.keyCode||13===a.keyCode){if(this.opts.manageNewEntry&&this.search.val()&&this.results.find(".oj-hover").length<=0){var b=this.opts.manageNewEntry(this.search.val()),c="blur"===a.type?d.ValueChangeTriggerTypes.BLUR:d.ValueChangeTriggerTypes.ENTER_PRESSED,e={trigger:c};this._onSelect(b,e,a)}this.search.removeClass(this._classNm+"-focused"),this.container.removeClass("oj-focus"),this._selectChoice(null),this._opened()||this._clearSearch(),a.stopImmediatePropagation()}})),this.container.on("click touchstart",e,this._bind(function(a){this._isInterfaceEnabled()&&(c(a.target).closest("."+this._classNm+"-selected-choice").length>0||(this._selectChoice(null),this._opened()?this.close(a):(this.open(),this._focusSearch()),a.preventDefault()))})),this.container.on("focus",e,this._bind(function(){this._isInterfaceEnabled()})),this._initContainerWidth(),this.opts.element.hide().attr("aria-hidden",!0),this._clearSearch()},_enableInterface:function(){i.superclass._enableInterface.apply(this,arguments)&&this.search.prop("disabled",!this._isInterfaceEnabled())},_initSelection:function(){var a=this.getVal();if(null!==a&&0!==a.length||"oj-select"!==this._classNm&&""!==this.opts.element.text()||(this._updateSelection([]),this.close(),this._clearSearch()),null!==a&&a.length){var b=this,c=this.opts.element;this.opts.initSelection.call(null,c,function(a){void 0!==a&&null!==a&&0!==a.length&&(b._updateSelection(a),b.close(),b._clearSearch())})}},_clearSearch:function(){var a=this._getPlaceholder(),b=this._getMaxSearchWidth(),c=this.getVal();void 0===a||c&&0!==c.length?(this.search.attr("placeholder",""),this.search.val("").width(10),this.searchContainer.width("auto")):(this.search.attr("placeholder",a),this.search.val("").width(b>0?b:this.container.css("width")),this.searchContainer.width("100%"))},_opening:function(a,b){this._resizeSearch(),i.superclass._opening.apply(this,arguments),this._focusSearch(),b||this._updateResults(!0),this.search.focus()},close:function(a){this._opened()&&i.superclass.close.apply(this,arguments)},_focus:function(){this.close(),this.search.focus()},_updateSelection:function(a){var b=[],d=[],e=this;c(a).each(function(){e.opts.indexOf.call(b,this)<0&&(b.push(this),d.push(this))}),a=d,this.selection.find("."+this._classNm+"-selected-choice").remove(),c(a).each(function(){e._addSelectedChoice(this)}),this.currentItem=a,this.opts.element.val(0===b.length?[]:b),e._postprocessResults(),setTimeout(function(){e._positionDropdown()},0)},_onSelect:function(a,b,d){if(this._triggerSelect(a)){var e,f=this;b&&b.trigger&&(e={optionMetadata:{trigger:b.trigger}});var g=this.getVal(),h=g?g.slice(0):[];c(a).each(function(){f.opts.indexOf.call(h,this)<0&&h.push(this)}),this.setVal(h,d,e),!this.select&&this.opts.closeOnSelect||this._postprocessResults(a,!1,!0===this.opts.closeOnSelect),this.opts.closeOnSelect&&(this.close(d),this.search.width(10)),b&&b.noFocus||this._focusSearch()}},_cancel:function(a){this.close(a),this._focusSearch()},_addSelectedChoice:function(a){var b,e=!a.locked,f=c("<li class='"+this._classNm+"-selected-choice'>    <div></div>    <a href='#' onclick='return false;' role='button' aria-label='remove' class='"+this._classNm+"-clear-entry       oj-component-icon oj-clickable-icon-nocontext "+this._classNm+"-clear-entry-icon' tabindex='-1'>    </a></li>"),g=c("<li class='"+this._classNm+"-selected-choice "+this._classNm+"-locked'><div></div></li>"),h=e?f:g;this.id(a);b=this.opts.formatSelection(a),void 0!==b&&(h.find("div").addClass(this._classNm+"-selected-choice-label").text(b),h.find("."+this._classNm+"-clear-entry").attr("aria-label",b+" remove"),h.attr("valueText",b)),e&&h.find("."+this._classNm+"-clear-entry").on("mousedown",d.killEvent).on("click dblclick",this._bind(function(a){this._isInterfaceEnabled()&&(c(a.target).closest("."+this._classNm+"-selected-choice").fadeOut("fast",this._bind(function(){this._unselect(c(a.target),a),this.selection.find("."+this._classNm+"-selected-choice.oj-focus").removeClass("oj-focus"),this.close(a),this._focusSearch()})).dequeue(),d.killEvent(a))})),h.data(this._elemNm,a),h.insertBefore(this.searchContainer)},_unselect:function(a,b){var c,d,e=this.getVal(),f=e?e.slice(0):[],g=this;if(a=a.closest("."+this._classNm+"-selected-choice"),0===a.length)throw"Invalid argument: "+a+". Must be ."+this._classNm+"-selected-choice";if(c=a.data(this._elemNm)){for(;(d=g.opts.indexOf.call(f,c))>=0;)f.splice(d,1),this.setVal(f,b),this.select&&this._postprocessResults();this.ojContext._IsRequired()&&0===f.length||a.remove(),this.ojContext._IsRequired()&&this.ojContext.validate()}},_postprocessResults:function(a,b,c){var e=this.getVal(),f=e&&(this.opts.element.val()||this.ojContext.isValid())?e:[],g=this.results.find(".oj-listbox-result"),h=this;d.each2(g,function(a,b){var c=h.id(b.data(h._elemNm));f&&h.opts.indexOf.call(f,c)>=0&&(b.addClass("oj-selected"),b.find(".oj-listbox-result-selectable").addClass("oj-selected"))}),!g.filter(".oj-listbox-result:not(.oj-selected)").length>0&&this.close()},_getMaxSearchWidth:function(){return this.selection.width()-d.getSideBorderPadding(this.search)},_textWidth:function(a){var b=document.createElement("span"),d=document.createTextNode(a);b.style.display="none",b.appendChild(d),c("body").append(b);var e=c("body").find("span:last").width();return c("body").find("span:last").remove(),e},_resizeSearch:function(){var a,b,c,e,f,g=d.getSideBorderPadding(this.search);a=this._textWidth(this.search.val())+10,b=this.search.offset().left,c=this.selection.width(),e=this.selection.offset().left,f=c-(b-e)-g,f<a&&(f=c-g),f<40&&(f=c-g),f<=0&&(f=a),this.search.width(Math.floor(f))},setVal:function(a,b,c){var e=[],f=this;"string"==typeof a&&(a=d.splitVal(a,this.opts.separator));for(var g=0;g<a.length;g++)f.opts.indexOf.call(e,a[g])<0&&e.push(a[g]);var h={doValueChangeCheck:!1};c&&(h._context=c),this.opts.element.val(0!==a.length?a:null),this.ojContext._updateValue(e,b,h),this.search.attr("aria-activedescendant",this.opts.element.attr("id"))}}),j=d.clazz(i,{_elemNm:"ojidentity",_classNm:"oj-select",_createContainer:function(){return c(document.createElement("div")).attr({class:"oj-identity oj-select oj-select-multi oj-component"}).html(["<div class='oj-identity-select'>","  <ul class='oj-select-choices'>","    <li class='oj-select-search-field'>","      <input type='text' role='combobox' aria-expanded='false' aria-autocomplete='list' autocomplete='off' autocorrect='off' autocapitalize='off' spellcheck='false' class='oj-listbox-input'>","    <span class='oj-identity-loading-container oj-multi-loading'>","      <span class='oj-identity-loading' role='presentation'>","       &nbsp;</span>","    </li>","  </ul>","</div>","<span class='oj-identity-filter multiple'></span>","<div class='oj-select-description oj-helper-hidden-accessible'/>","<div class='oj-listbox-drop oj-identity-container oj-listbox-drop-multi' style='display:none'>","   <ul class='oj-listbox-results' role='listbox'>","   </ul>","</div>"].join(""))}}),k=function(a,b,d,e){if(c.widget(a,b,d),e){var f=a.split(".")[1];delete c.fn[f]}if("oj.oj"===a.substring(0,5)||"oj._oj"===a.substring(0,6))var g=a.split(".");var h,i=g[0],j=g[1],k=i+"-"+j,l="_"===j.substring(0,1);h=l?"_"+i+"-"+j.substring(3):i+"-"+j.substring(2),c.expr[":"][h.toLowerCase()]=function(a){return!!c.data(a,k)}},l=function(){var a=document.documentElement.getAttribute("dir");return a&&(a=a.toLowerCase()),"rtl"===a?"rtl":"ltr"},m=function(){var a=20;if(c.isNumeric(a))return a;var b=c("<div />");c(document.body).append(b),b.width(50).height(50).css({overflow:"scroll",visibility:"hidden",position:"absolute"});var d=c("<div />");d.height(1),b.append(d);var e=d.width(),f=b.width();return b.remove(),a=f-e}(),n=function(a,b){function d(a,b){if(a.bottom-b.top<-1)return!1;var c="auto"===b.overflowY||"scroll"===b.overflowY?m:0;return!(b.bottom-c-a.top<1)&&(c="auto"!==b.overflowX&&"scroll"!==b.overflowX||"rtl"!==l()?0:m,!(a.right-(b.left+c)<-1)&&(c="auto"!==b.overflowX&&"scroll"!==b.overflowX||"ltr"!==l()?0:m,!(a.left-(b.right-c)>-1)))}function e(a){return"visible"!==a.css("overflow-x")||"visible"!==a.css("overflow-y")}function f(a){var b=a[0];if(1===b.nodeType){var d=b.getBoundingClientRect();return d.overflowX=a.css("overflow-x"),d.overflowY=a.css("overflow-y"),d}if(c.isWindow(b)){var d={width:b.innerWidth,height:b.innerHeight,top:0,bottom:b.innerHeight,left:0,right:b.innerWidth};return d}return{height:0,width:0}}if(!a)return!1;var g=f(a);if(b&&!d(g,f(c(window))))return!1;for(var h=!0,i=a.parent();h&&i&&i.length>0&&1===i[0].nodeType;){if(e(i)){var j=f(i);j.height>0&&j.width>0&&(h=d(g,j))}i=i.parent()}return h},o=function(a){if(a.target&&a.target.height>0&&a.target.width>0){var b=a.target.element;return!n(b)}return!1},p=function(a,b){for(var d=c.extend({},a),e=0;e<q.length;e++){var f=q[e],g=d[f];g&&(d[f]=g.replace("start",b?"right":"left").replace("end",b?"left":"right").replace("<",b?"+":"-").replace(">",b?"-":"+"))}return d},q=["my","at"],r={defaultElement:"<select>",widgetEventPrefix:"oj",options:{minimumResultsForSearch:10,noMatchesFound:"No matches found",placeholder:null,list:void 0,multiple:!0,options:null,optionsKeys:{label:"id",value:"id"},beforeExpand:null,selectAll:!0,selectLabel:"Select All",defaultScope:"user",showScopeFilter:!1,scopesOptions:[{label:"All",value:"all"},{label:"User",value:"user"},{label:"Group",value:"group"},{label:"Role",value:"role"}],indexOf:function(a){if(!a)return-1;var b=this.length,c=0;for(a=JSON.stringify(a);c<b;c++){if(JSON.stringify(this[c])===a)return c}return-1},contains:function(a){if(!a)return!1;for(var b=a.length,c=this.length,d=0,e=0,f=0;d<c;d++){var g=JSON.stringify(this[d]);for(e=0;e<b;e++){if(g===JSON.stringify(a[e])){++f;break}}}return f===c}},widget:function(){return this.select?this.select.container:this.element.parent()},_ComponentCreate:function(){this._super(),this._setup()},_nativeSetDisabled:function(a){a?(this.element.attr("disabled",""),this.element.parent().addClass("oj-disabled").removeClass("oj-enabled")):(this.element.removeAttr("disabled"),this.element.parent().removeClass("oj-disabled").addClass("oj-enabled"))},_nativeChangeHandler:function(a){},_jetSetup:function(){var a={},b=this.options.multiple;a.element=this.element,a.ojContext=this,a=c.extend(this.options,a),this.select=b?new j:new h,this.select._init(a);var d=this.select.opts;this.select.container.addClass("oj-select-jet oj-form-control"),this.element.val=function(a){return arguments.length&&(d.value=a),d.value||[]}},_setup:function(){this._jetSetup()},refresh:function(){this._super(),this._cleanup(),this._setup()},_destroy:function(){this._super(),this._cleanup()},_NotifyDetached:function(){this.select.close()},_NotifyHidden:function(){this.select.close()},_SetPlaceholder:function(a){},_updateValue:function(a,b,d){b&&(d._context=d._context||{},c.extend(!0,d._context,{optionMetadata:{trigger:"option_selected",writeback:"shouldWrite"},originalEvent:b.originalEvent||b}),this.valueUpdated=!0,this.option({value:a},d),this.select._initSelection()),this._IsRequired()&&0!==a.length&&(this.select.container.removeClass("oj-invalid"),this.select.container.find(".oj-messaging-inline-container").remove())},_SetPlaceholderOption:function(a){this._super(a)},_HasPlaceholderSet:function(){return"string"==typeof this.options.placeholder},_IsRequired:function(){return this.options.required},_ClearPlaceholder:function(){this._SetPlaceholderOption(null),this._SetPlaceholder(null)},_InitOptions:function(a,c){var e=[{attribute:"disabled",validateOption:!0},{attribute:"placeholder"},{attribute:"required",coerceDomValue:!0,validateOption:!0},{attribute:"title"}];if(this._super(a,c),b.EditableValueUtils.initializeOptionsFromDom(e,c,this),void 0===this.options.value)this.options.value=void 0!==this.element.attr("value")?d.splitVal(this.element.val(),","):null;else{var f=this.options.value;Array.isArray(f)&&(f=f.slice(0)),this.options.value=f}},_SetDisplayValue:function(a){},_GetDisplayValue:function(){return this.select.opts.value},_updateDisplayValue:function(){this.valueUpdated?this.valueUpdated=!1:this.select._initSelection()},_setOption:function(a,b,c){if("value"===a){var d=this.select.opts.element;b||(b=[]),Array.isArray(b)||(b=[b]);for(var e=[],f=0;f<b.length;f++)(this.options.multiple||this.select.opts.validate(d,b[f]))&&e.push(b[f]);return this._super(a,e,c),void this._updateDisplayValue()}"placeholder"===a?(this.select.opts.placeholder=b||null,this.select._setPlaceholder()):"minimumResultsForSearch"===a?this.select.opts.minimumResultsForSearch=b:"multiple"===a?(this.options.multiple=b,this.refresh()):"defaultScope"===a&&(this.options.defaultScope=b,this.refresh()),"disabled"===a?b?this.select._disable():this.select._enable():"options"===a?(this.select.opts.options=b,this.select.opts=this.select._prepareOpts(this.select.opts),this._super("value",this.select.getVal())):this._super(a,b,c)},_getDropdown:function(){if(this.select&&this.select._opened()){var a=this.select.dropdown;if(a&&a.attr("data-oj-containerid")===this.select.containerId)return a}return null},_cleanup:function(){this.select._destroy(),this.select=void 0},getNodeBySubId:function(a){var b,d=null;if(null==a){var e=this.widget();return e?e[0]:null}if(this._isNative())return null;if(!(d=this._super(a))){var f=this._getDropdown();switch(b=a.subId){case"oj-select-drop":f&&(d=f[0]);break;case"oj-select-results":f&&(d=f.find(".oj-listbox-results")[0]);break;case"oj-select-search":f&&(d=f.find(".oj-listbox-search")[0]);break;case"oj-select-input":case"oj-listbox-input":!0===this.options.multiple?d=this.widget().find(".oj-listbox-input")[0]:f&&(d=f.find(".oj-listbox-input")[0]);break;case"oj-select-choice":case"oj-select-chosen":case"oj-select-arrow":d=this.widget().find("."+b)[0];break;case"oj-listitem":if(f){var g=f.find(".oj-listbox-result");d=this.select._findItem(g,a.value)}break;case"oj-select-remove":var h=this.widget().find(".oj-select-selected-choice"),i=this.select._findItem(h,a.value);d=i?c(i).find(".oj-select-clear-entry-icon")[0]:null;break;case"oj-listbox-result-label":if(f){var j=c("#"+this.select.results.attr("id")).children(),k=a.index;j.length&&k<j.length&&(d=j.eq(k).find("."+b)[0])}}}return d||null},getSubIdByNode:function(a){if(this._isNative())return this._super(a);var b=null;if(null!=a){var d=c(a);d.hasClass("oj-listbox-input")?b={subId:"oj-select-input"}:d.hasClass("oj-select-arrow")?b={subId:"oj-select-arrow"}:d.hasClass("oj-listbox-result")?b={subId:"oj-listitem",value:d.data("ojidentity").value}:d.hasClass("oj-select-clear-entry-icon")&&(b={subId:"oj-select-remove",value:d.closest(".oj-select-selected-choice").data("ojidentity").value})}return b},_GetDefaultStyleClass:function(){return"oj-select"},_GetMessagingLauncherElement:function(){return this.select?this.select.selection:this.element}};k("oj.ojIdentity",c.oj.editableValue,r)}),define("RendererTemplateLoader",["require","knockout","ojs/ojcore","!text!iconTemplate","!text!rendererControl","!text!rendererMoneyControl","!text!rendererButtonControl","!text!rendererChecklistControl","!text!rendererCheckboxControl","!text!rendererDateControl","!text!rendererDateTimeControl","!text!rendererEmailControl","!text!rendererLinkControl","!text!rendererMessageControl","!text!rendererMessageTypeParagraphTemplate","!text!rendererMessageTypeHeading1Template","!text!rendererMessageTypeHeading2Template","!text!rendererMessageTypeHeading3Template","!text!rendererMessageTypeHeading4Template","!text!rendererMessageTypeHeading5Template","!text!rendererMessageTypeHeading6Template","!text!rendererNumberControl","!text!rendererRadioButtonControl","!text!rendererSelectControl","!text!rendererSingleSelectTemplate","!text!rendererMultiSelectTemplate","!text!rendererTextAreaControl","!text!rendererTextControl","!text!rendererTimeControl","!text!rendererUrlControl","!text!rendererPhoneControl","!text!rendererImageControl","!text!rendererFormReferenceControl","!text!rendererVideoControl","!text!rendererIdentityControl","!text!rendererTemplate","!text!rendererPanelControl","!text!rendererSectionControl","!text!rendererTableControl","!text!rendererRepeatableSectionControl","!text!rendererTabControl","!text!rendererTableRow","!text!rendererRepeatableRow","!text!columnControl","!text!rendererSectionRow","!text!rendererPanelItem","!text!rendererRepeatableItem","!text!rendererTabContainerControl","ojs/ojknockout","ojs/ojcheckboxset","ojs/ojradioset","ojs/ojselectcombobox","ojs/ojinputnumber","ojs/ojdatetimepicker","ojs/ojknockout-validation","ojidentity"],function(a){"use strict";var b=a("knockout"),c=a("ojs/ojcore"),d={iconTemplate:a("!text!iconTemplate"),rendererControl:a("!text!rendererControl"),rendererMoneyControl:a("!text!rendererMoneyControl"),rendererButtonControl:a("!text!rendererButtonControl"),rendererChecklistControl:a("!text!rendererChecklistControl"),rendererCheckboxControl:a("!text!rendererCheckboxControl"),rendererDateControl:a("!text!rendererDateControl"),rendererDateTimeControl:a("!text!rendererDateTimeControl"),rendererEmailControl:a("!text!rendererEmailControl"),rendererLinkControl:a("!text!rendererLinkControl"),rendererMessageControl:a("!text!rendererMessageControl"),rendererMessageTypeParagraphTemplate:a("!text!rendererMessageTypeParagraphTemplate"),rendererMessageTypeHeading1Template:a("!text!rendererMessageTypeHeading1Template"),rendererMessageTypeHeading2Template:a("!text!rendererMessageTypeHeading2Template"),rendererMessageTypeHeading3Template:a("!text!rendererMessageTypeHeading3Template"),rendererMessageTypeHeading4Template:a("!text!rendererMessageTypeHeading4Template"),rendererMessageTypeHeading5Template:a("!text!rendererMessageTypeHeading5Template"),rendererMessageTypeHeading6Template:a("!text!rendererMessageTypeHeading6Template"),rendererNumberControl:a("!text!rendererNumberControl"),rendererRadioButtonControl:a("!text!rendererRadioButtonControl"),rendererSelectControl:a("!text!rendererSelectControl"),rendererSingleSelectTemplate:a("!text!rendererSingleSelectTemplate"),rendererMultiSelectTemplate:a("!text!rendererMultiSelectTemplate"),rendererTextAreaControl:a("!text!rendererTextAreaControl"),rendererTextControl:a("!text!rendererTextControl"),rendererTimeControl:a("!text!rendererTimeControl"),rendererUrlControl:a("!text!rendererUrlControl"),rendererPhoneControl:a("!text!rendererPhoneControl"),rendererImageControl:a("!text!rendererImageControl"),rendererFormReferenceControl:a("!text!rendererFormReferenceControl"),rendererVideoControl:a("!text!rendererVideoControl"),rendererIdentityControl:a("!text!rendererIdentityControl"),rendererTemplate:a("!text!rendererTemplate"),rendererPanelControl:a("!text!rendererPanelControl"),rendererSectionControl:a("!text!rendererSectionControl"),rendererTableControl:a("!text!rendererTableControl"),rendererRepeatableSectionControl:a("!text!rendererRepeatableSectionControl"),rendererTabControl:a("!text!rendererTabControl"),rendererTableRow:a("!text!rendererTableRow"),rendererRepeatableRow:a("!text!rendererRepeatableRow"),columnControl:a("!text!columnControl"),rendererSectionRow:a("!text!rendererSectionRow"),rendererPanelItem:a("!text!rendererPanelItem"),rendererRepeatableItem:a("!text!rendererRepeatableItem"),rendererTabContainerControl:a("!text!rendererTabContainerControl")};a("ojs/ojknockout"),a("ojs/ojcheckboxset"),a("ojs/ojradioset"),a("ojs/ojselectcombobox"),a("ojs/ojinputnumber"),a("ojs/ojdatetimepicker"),a("ojs/ojknockout-validation"),a("ojidentity"),c.koStringTemplateEngine.install();for(var e in d)d.hasOwnProperty(e)&&(b.templates[e]=d[e])}),define("Class",["require","underscore"],function(a){"use strict";function b(a,b){return function(){a.apply(this,arguments)}}var c=a("underscore"),d=!1,e=/xyz/.test(function(){xyz})?/\b_super\b/:/.*/,f=function(a,b,c){for(var d in c)a[d]="function"==typeof c[d]&&"function"==typeof b[d]&&e.test(c[d])?function(a,c){return function(){var d=this._super;this._super=b[a];var e=c.apply(this,arguments);return this._super=d,e}}(d,c[d]):c[d]},g=function(a,b){for(var c in b)a[c]=b[c]},h=function(){},i="_protected";return h.subClass=function a(b,e){function j(a){for(var b=Object.getPrototypeOf(Object.getPrototypeOf(a));b;){if(c.has(b,i)){var d=c(b[i]).clone();a[i]=c.extend(b[i],a[i]),b[i]=d}b=Object.getPrototypeOf(b)}}function k(a,b){for(var d=Object.getPrototypeOf(Object.getPrototypeOf(a));d;){if(c.has(d,b)){var e=c(d[b]).clone();a[b]=c.union(d[b],a[b]),d[b]=e}d=Object.getPrototypeOf(d)}}function l(){if(!d&&this.init){for(var a in this)c.isFunction(this[a])||(this[a]=c(this[a]).clone(),a===i?j(this):c.isArray(this[a])&&k(this,a));this._class=l,this.init.apply(this,arguments)}}var m=this.prototype;d=!0;var n=new this;return d=!1,this._super&&g(l,this),b&&g(l,b),e&&f(n,this.prototype,e),l.prototype=n,l.prototype.constructor=l,l._super=m,l.subClass=a,l.extend=h.extend,l.include=h.include,l.prototype.parent=function(a,b){var c=Array.prototype.slice.call(arguments,2);a.prototype[b].apply(this,c)},l.prototype.proxy=function(a){var b=this;return function(){return a.apply(b,arguments)}},l.prototype.extend=function(a){g(this,a)},l.proxy=function(a){var b=this;return function(){return a.apply(b,arguments)}},l},h.extend=function(a){g(this,a)},h.include=function(a){f.call(this,this.prototype,this._super,a)},h.extendClass=function(a,c){for(var d in c)a[d]="init"===d?b(a[d],c[d]):a[d]?a[d]:c[d]},h}),function(){function a(a,b,c,d,e,f){return b[a]||(a=a.replace(/^zh-(Hans|Hant)-([^-]+)$/,"zh-$2")),!!b[a]&&(c.push(a),!0!==b[a]&&1!==b[a]||d.push(e+a+"/"+f),!0)}function b(a){var b=a.toLowerCase().split(/-|_/);a=[b[0]];var c,d=1;for(c=1;c<b.length;c++){var e=b[c],f=e.length;if(1==f)break;switch(d){case 1:if(d=2,4==f){a.push(e.charAt(0).toUpperCase()+e.slice(1));break}case 2:d=3,a.push(e.toUpperCase());break;default:a.push(e)}}return"zh"!=a[0]||1<a.length&&4==a[1].length||(b="Hans",d=1<a.length?a[1]:null,"TW"!==d&&"MO"!==d&&"HK"!==d||(b="Hant"),a.splice(1,0,b)),a}function c(a,b){for(var d in b)b.hasOwnProperty(d)&&(null==a[d]?a[d]=b[d]:"object"==typeof b[d]&&"object"==typeof a[d]&&c(a[d],b[d]))}var d=/(^.*(^|\/)nls(\/|$))([^\/]*)\/?([^\/]*)/;define("ojL10n",["module"],function(e){var f=e.config?e.config():{};return{version:"2.0.1+",load:function(e,g,h,i){i=i||{},i.locale&&(f.locale=i.locale);var j,k,l,m,n,o,p,q,r,s=d.exec(e),t=s[1],u=s[5],v=[],w={},x="";for(s[5]?(t=s[1],e=t+u,j=s[4]):(u=s[4],j=f.locale,"undefined"!=typeof document?(j||(j=i.isBuild?"root":document.documentElement.lang)||(j=void 0===navigator?"root":navigator.language||navigator.userLanguage||"root"),f.locale=j):j="root"),k=b(j),m=f.noOverlay,n=f.defaultNoOverlayLocale,(s=f.merge)&&(o=s[t+u])&&(s=d.exec(o),p=s[1],q=s[4]),r=[],l=0;l<k.length;l++)s=k[l],x+=(x?"-":"")+s,r.push(x);i.isBuild?(v.push(e),o&&v.push(o),g(v,function(){h()})):("query"==f.includeLocale&&(e=g.toUrl(e+".js"),e+=(-1===e.indexOf("?")?"?":"&")+"loc="+j),i=[e],o&&i.push(o),g(i,function(b,d){var e,f=[],i=!1,j=m||!0===b.__noOverlay,o=n||b.__defaultNoOverlayLocale;for(l=r.length-1;0<=l&&(!i||!j);l--)i=a(r[l],b,f,v,t,u);if(j&&!i&&o&&a(o,b,f,v,t,u),a("root",b,f,v,t,u),e=f.length,d){for(i=!1,j=!0===d.__noOverlay,o=d.__defaultNoOverlayLocale,l=r.length-1;0<=l&&(!i||!j);l--)i=a(r[l],d,f,v,p,q);j&&!i&&o&&a(o,d,f,v,p,q),a("root",d,f,v,p,q)}g(v,function(){var a,i,j;for(a=e;a<f.length&&f[a];a++)j=f[a],i=d[j],!0!==i&&1!==i||(i=g(p+j+"/"+q)),c(w,i);for(a=0;a<e&&f[a];a++)j=f[a],i=b[j],!0!==i&&1!==i||(i=g(t+j+"/"+u)),c(w,i);w._ojLocale_=k.join("-"),h(w)})}))}}})}(),define("rendererMsg/nls/renderer",{root:!0,ar:!1,pt:!0,"fr-CA":!1,cs:!1,da:!1,nl:!1,fi:!1,fr:!0,de:!0,el:!1,he:!1,hu:!1,it:!0,ja:!0,ko:!0,no:!1,pl:!1,"pt-PT":!1,ro:!1,ru:!1,"zh-Hans":!0,sk:!1,es:!0,sv:!1,th:!1,"zh-Hant":!0,tr:!1}),define("ColumnSpanTypeId",["require","ojL10n!rendererMsg/nls/renderer"],function(a){"use strict";var b=a("ojL10n!rendererMsg/nls/renderer");return{SMALL:{value:"SMALL",cssStyle:"media__icon media__small-icon",label:b.MEDIA_SMALL},MEDIUM:{value:"MEDIUM",cssStyle:"media__icon media__medium-icon",label:b.MEDIA_MEDIUM},LARGE:{value:"LARGE",cssStyle:"media__icon media__large-icon",label:b.MEDIA_LARGE},EXTRA_LARGE:{value:"EXTRA_LARGE",cssStyle:"media__icon media__extra-large-icon",label:b.MEDIA_EXTRA_LARGE},ALL:{value:"ALL",cssStyle:"media__icon media__all-icon",label:b.MEDIA_ALL}}}),define("StringUtils",["require","Class"],function(a){"use strict";var b=a("Class"),c=String.prototype.trim,d=function(a){return a.replace(/([-.*+?^${}()|[\]\/\\])/g,"\\$1")},e=function(a){return null!=a?"["+d(""+a)+"]":"\\s"},f=b.subClass({underscored:function(a){return this.trim(a).replace(/([a-z\d])([A-Z]+)/g,"$1_$2").replace(/[-\s]+/g,"_").toLowerCase()},trim:function(a,b){return a=this._makeString(a),!b&&c?c.call(a):(b=e(b),a.replace(new RegExp("^"+b+"+|"+b+"+$","g"),""))},humanize:function(a){return this.capitalize(this.underscored(a).replace(/_id$/,"").replace(/_/g," "))},capitalize:function(a){return a=this._makeString(a),a.charAt(0).toUpperCase()+a.substring(1)},words:function(a,b){return this.trim(a,b).split(b||/\s+/)},titleize:function(a){return(""+a).replace(/\b./g,function(a){return a.toUpperCase()})},classify:function(a){return a=this._makeString(a),this.titleize(a.replace(/_/g," ")).replace(/\s/g,"")},camelize:function(a,b){return a=this.trim(a).replace(/[-_\s]+(.)?/g,function(a,b){return b?b.toUpperCase():""}),!0===b?this.decap(a):a},decap:function(a){return a=this._makeString(a),a.charAt(0).toLowerCase()+a.slice(1)},startsWith:function(a,b){return a=this._makeString(a),0===a.indexOf(b)},endsWith:function(a,b){return a=this._makeString(a),-1!==a.indexOf(b,a.length-b.length)},_makeString:function(a){return null==a?"":""+a},wordwrap:function(a,b,c){if(a=this._makeString(a),0===a.length)return[];b=b||75;var d=".{1,"+b+"}(\\s|$)"+(c?"|.{"+b+"}|.+$":"|\\S+?(\\s|$)");return a.match(RegExp(d,"g"))},format:function(a){var b=arguments;return a.replace(/{(\d+)}/g,function(a,c){return f._makeString(b[Number(c)+1])})},generateLabelWithDots:function(a,b){return a.length>=b?a.substring(0,b-1)+"...":a}},{});return f}),define("DotExpressionResolver",["require","StringUtils","underscore"],function(a){"use strict";function b(a,b){return a[b]}function c(a){return a=d.trim(a).replace(/[-\s]+(.)?/g,function(a,b){return b?b.toUpperCase():""}),d.decap(a)}var d=a("StringUtils"),e=a("underscore"),f={_getValue:function(a,b,c){var d,e=b.shift();return e?(d=c(a,e))&&(d=f._getValue(d,b,c)):d=a,d},getValue:function(a,c){if(d.trim(c).length>0){var e=c.split(".");return f._getValue(a,e,b)}},getPCSCompatibleValue:function(a,g){if(d.trim(g).length>0){var h=g.split(".");return f._getValue(a,h,function(a,d){var f={};return e.each(a,function(a,b){var d=c(b);f[d]=a}),b(f,c(d))})}}};return f}),define("ValueScope",["require","Class","underscore","DotExpressionResolver"],function(a){"use strict";var b=a("Class"),c=a("underscore"),d=a("DotExpressionResolver");return b.subClass({},{eventControl:null,init:function(a){this.scopes=a?[a]:[],this.values={}},clearValues:function(){this.values={}},setValue:function(a,b){this.values[a]=b},getAttributes:function(){return[]},getValue:function(a){var b=d.getPCSCompatibleValue(this.values,a);return c.each(this.scopes,function(c){b||(b=c.getValue(a))}),b},getRootType:function(){return this.rootType}})}),define("TreeUtil",["require","Class","knockout","DotExpressionResolver","underscore"],function(a){"use strict";var b=a("Class"),c=a("knockout"),d=a("DotExpressionResolver"),e=a("underscore"),f=b.subClass({treeToList:function(a,b){for(var d=[],g=0;g<a.length;g++){var h=a[g],i=e.isFunction(h[b])?h[b]():h[b];if(i){var j=c.unwrap(i);d=d.concat(j),d=d.concat(f.treeToList(j,b))}}return d},find:function(a,b,c,d){var g=e.isFunction(a[b])?a[b]():a[b];return g&&g.constructor===Array?f._find(g,b,c,d,a):null},_find:function(a,b,c,g,h){for(var i=null,j=0;j<a.length;j++){var k=a[j],l=d.getValue(k,c);if((e.isFunction(l)?l():l)===g){i={node:k,parent:h};break}var m=e.isFunction(k[b])?k[b]():k[b];if(m&&m.constructor===Array&&(i=f._find(m,b,c,g,k)))break}return i}},{});return f}),define("ValidationHelper",["require","Class","ojs/ojcore","jquery","underscore","knockout","TreeUtil","ojL10n!rendererMsg/nls/renderer"],function(a){"use strict";var b=a("Class"),c=a("ojs/ojcore"),d=a("jquery"),e=a("underscore"),f=a("knockout"),g=a("TreeUtil"),h=a("ojL10n!rendererMsg/nls/renderer"),i="^(http(s)?:\\/\\/.)?(www\\.)?[-a-zA-Z0-9@:%._\\+~#=]{2,256}\\.[a-z]{2,6}\\b([-a-zA-Z0-9@:%_\\+.~#?&//=]*)$";return b.subClass({positiveValueValidator:function(a){return[{validate:function(b){if(b<=0)throw new c.ValidatorError(h.INCORRECT_FORMAT_MESSAGE,a);return!0}}]},dimensionValidator:function(a){return[{type:"regExp",options:{pattern:"^(auto|0)$|^[0-9]+(\\.[0-9]+)?(px|em|ex|%|in|cm|mm|pt|pc)$",messageSummary:h.INCORRECT_FORMAT_MESSAGE,messageDetail:a}}]},borderDimensionValidator:function(a){return[{type:"regExp",options:{pattern:"^(auto|0)$|^[0-9]+(\\.[0-9]+)?(px|em|ex|in|cm|mm|pt|pc)$",messageSummary:h.INCORRECT_FORMAT_MESSAGE,messageDetail:a}}]},hexValueValidator:function(a){return[{type:"regExp",options:{pattern:"^#([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$",messageSummary:h.INCORRECT_FORMAT_MESSAGE,messageDetail:a}}]},cssClassNameValidator:function(a){return[{type:"regExp",options:{pattern:"^((([a-zA-Z_]|-[a-zA-Z_-])[a-zA-Z0-9_-]*)\\s*)*$",messageSummary:h.INCORRECT_FORMAT_MESSAGE,messageDetail:a}}]},urlPattern:i,urlValidator:function(){return[{type:"regExp",options:{pattern:i,messageDetail:h.URL_FORMAT_ERROR_MESSAGE}}]},videoUrlValidator:function(){return[{type:"regExp",options:{pattern:"^(https?:\\/\\/)?(player.|www.)?(vimeo\\.com|youtu(be\\.com|\\.be|be\\.googleapis\\.com))\\/(watch\\?v=|video\\/|embed\\/)?([A-Za-z0-9._%-]*)(\\&\\S+)?$",messageDetail:h.URL_FORMAT_ERROR_MESSAGE}}]},optionsLengthValidator:function(a,b){return[{validate:function(d){var e=a.optionsNames.peek().split("\n").length;if(d.split("\n").length!==e)throw new c.ValidatorError(b);return!0}}]},optionsBlankValueValidator:function(a){return[{validate:function(b){for(var e=b.split("\n"),f=0;f<e.length;f++)if(""===d.trim(e[f]))throw new c.ValidatorError(a);return!0}}]},optionsUniqueValueValidator:function(a){return[{validate:function(b){var d=b.split("\n");if(e.uniq(d).length!==d.length)throw new c.ValidatorError(a);return!0}}]},uniqueControlNameValidator:function(a,b){return[{validate:function(d){var h=g.treeToList(b.viewModel.form().presentation().controls(),"controls");if(f.unwrap(b.name).toLowerCase()!==d.toLowerCase()&&e.find(h,function(a){return f.unwrap(a.name).toLowerCase()===d.toLowerCase()}))throw new c.ValidatorError(a);return!0}}]}},{})}),
define("StyleTypeId",["require","ojL10n!rendererMsg/nls/renderer","ValidationHelper"],function(a){"use strict";var b=a("ojL10n!rendererMsg/nls/renderer"),c=a("ValidationHelper");return{BACKGROUND_COLOR:{styleType:"inline",controlType:"color",name:"backgroundColor",label:b.LABEL_BACKGROUND_COLOR,help:null,attrName:"background-color",group:"color",default:"#fcfdfe",validators:c.hexValueValidator(b.HEX_COLOR_FORMAT_ERROR_MESSAGE)},COLOR:{styleType:"inline",controlType:"color",name:"color",label:b.LABEL_COLOR,help:null,attrName:"color",group:"color",default:"#333333",validators:c.hexValueValidator(b.HEX_COLOR_FORMAT_ERROR_MESSAGE)},SIZE:{styleType:"inline",controlType:"select",name:"fontSize",label:b.LABEL_FONT_SIZE,help:null,attrName:"font-size",options:[{label:b.LABEL_FONT_SIZE_XSMALL,value:"x-small"},{label:b.LABEL_FONT_SIZE_SMALL,value:"small"},{label:b.LABEL_FONT_SIZE_NORMAL,value:"14px"},{label:b.LABEL_FONT_SIZE_LARGE,value:"large"},{label:b.LABEL_FONT_SIZE_XLARGE,value:"x-large"}],default:"14px"},TEXT_ALIGN:{styleType:"inline",controlType:"select",name:"textAlign",label:b.LABEL_TEXT_ALIGN,help:null,attrName:"text-align",options:[{label:b.LABEL_TEXT_ALIGN_LEFT,value:"left"},{label:b.LABEL_TEXT_ALIGN_RIGHT,value:"right"},{label:b.LABEL_TEXT_ALIGN_CENTER,value:"center"}],default:"",group:"align"},WIDTH:{styleType:"inline",controlType:"text",name:"width",label:b.LABEL_WIDTH,help:b.WIDTH_INLINE_HELP,attrName:"width",group:"size",validators:c.dimensionValidator(b.INVALID_WIDTH)},HEIGHT:{styleType:"inline",controlType:"text",name:"height",label:b.LABEL_HEIGHT,help:b.HEIGHT_INLINE_HELP,attrName:"height",group:"size",validators:c.dimensionValidator(b.INVALID_HEIGHT)},BORDER_COLOR:{styleType:"inline",controlType:"color",name:"borderColor",label:b.LABEL_BORDER_COLOR,help:null,attrName:"border-color",group:"border",default:"#dfe4e7",validators:c.hexValueValidator(b.HEX_COLOR_FORMAT_ERROR_MESSAGE)},BORDER_STYLE:{styleType:"inline",controlType:"select",name:"borderStyle",label:b.LABEL_BORDER_STYLE,help:null,attrName:"border-style",placeholder:"",options:[{label:b.LABEL_SOLID,value:"solid"},{label:b.LABEL_DOTTED,value:"dotted"},{label:b.LABEL_DASHED,value:"dashed"}],group:"border"},BORDER_WIDTH:{styleType:"inline",controlType:"text",name:"borderWidth",label:b.LABEL_BORDER_WIDTH,help:null,attrName:"border-width",group:"border",validators:c.borderDimensionValidator(b.INVALID_BORDER_WIDTH)},BORDER_RADIUS:{styleType:"inline",controlType:"text",name:"borderRadius",label:b.LABEL_BORDER_RADIUS,help:null,attrName:"border-radius",group:"border",validators:c.dimensionValidator(b.INVALID_BORDER_RADIUS)},CONTROL_ALIGN:{styleType:"",controlType:"select",name:"controlAlign",label:b.LABEL_CONTROL_ALIGNMENT,help:null,options:[{label:b.LABEL_TEXT_ALIGN_LEFT,value:"left"},{label:b.LABEL_TEXT_ALIGN_RIGHT,value:"right"},{label:b.LABEL_TEXT_ALIGN_CENTER,value:"center"}],default:"",group:"align"},LABEL_COLOR:{styleType:"",controlType:"color",name:"labelColor",label:b.LABEL_LABEL_COLOR,help:null,group:"label",default:"#4f4f4f",validators:c.hexValueValidator(b.HEX_COLOR_FORMAT_ERROR_MESSAGE)},LABEL_SIZE:{styleType:"",controlType:"select",name:"labelSize",label:b.LABEL_LABEL_SIZE,help:null,options:[{label:b.LABEL_FONT_SIZE_XSMALL,value:"x-small"},{label:b.LABEL_FONT_SIZE_SMALL,value:"small"},{label:b.LABEL_FONT_SIZE_NORMAL,value:"15px"},{label:b.LABEL_FONT_SIZE_LARGE,value:"large"},{label:b.LABEL_FONT_SIZE_XLARGE,value:"x-large"}],default:"",group:"label"},CLASS_NAME:{styleType:"",controlType:"text",name:"controlClassName",default:"",help:b.CONTROL_CLASS_NAME_INLINE_HELP,label:b.LABEL_CONTROL_CLASS_NAME,validators:c.cssClassNameValidator(b.INVALID_CLASS_NAME)},TABLE_WIDTH:{styleType:"",controlType:"tableWidth",name:b.LABEL_TABLE_COLUMNS_WIDTH,default:"",help:b.TABLE_WIDTH_INLINE_HELP,label:b.LABEL_TABLE_WIDTH,validators:c.cssClassNameValidator(b.INVALID_CLASS_NAME)},TABLE_COLUMN_WIDTH:{styleType:"inline",controlType:"tableColumnWidth",name:"tableColumnWidth",label:b.LABEL_WIDTH,help:b.WIDTH_INLINE_HELP,attrName:"width",group:"size",validators:c.dimensionValidator(b.INVALID_WIDTH)}}}),define("StyleControlMapper",["require","StyleTypeId","jquery"],function(a){"use strict";var b=a("StyleTypeId"),c=a("jquery"),d=[b.CONTROL_ALIGN],e=[b.LABEL_SIZE,b.LABEL_COLOR],f=e.concat([b.BACKGROUND_COLOR,b.COLOR,b.WIDTH,b.HEIGHT,b.SIZE,b.TEXT_ALIGN,b.BORDER_COLOR,b.BORDER_WIDTH,b.BORDER_STYLE,b.BORDER_RADIUS]),g=function(a){var b=c.extend(!0,{},a);return b.important=!0,b};return{INPUT_TEXT:d.concat(f,b.CLASS_NAME),TEXT_AREA:d.concat(f,b.CLASS_NAME),BUTTON:d.concat([b.BACKGROUND_COLOR,b.COLOR,b.WIDTH,b.HEIGHT,b.SIZE,b.TEXT_ALIGN,b.BORDER_WIDTH,b.BORDER_STYLE,b.BORDER_COLOR,b.BORDER_RADIUS],b.CLASS_NAME),SELECT:d.concat(f,b.CLASS_NAME),IDENTITY_BROWSER:d.concat(f,b.CLASS_NAME),CHECKLIST:d.concat(e,[b.BACKGROUND_COLOR,b.COLOR,b.SIZE],b.CLASS_NAME),CHECKBOX:d.concat(e,[b.BACKGROUND_COLOR,b.COLOR,b.SIZE],b.CLASS_NAME),RADIO_BUTTON:d.concat(e,[b.BACKGROUND_COLOR,b.COLOR,b.SIZE],b.CLASS_NAME),NUMBER:d.concat(e,[b.BACKGROUND_COLOR,b.COLOR,b.WIDTH,b.HEIGHT,b.SIZE,b.TEXT_ALIGN,b.BORDER_COLOR,b.BORDER_WIDTH,b.BORDER_STYLE],b.CLASS_NAME),DATE:d.concat(f,b.CLASS_NAME),TIME:d.concat(f,b.CLASS_NAME),DATE_TIME:d.concat(f,b.CLASS_NAME),EMAIL:d.concat(f,b.CLASS_NAME),URL:d.concat(f,b.CLASS_NAME),MESSAGE:d.concat([b.BACKGROUND_COLOR,b.COLOR,b.SIZE],b.CLASS_NAME),LINK:d.concat([b.BACKGROUND_COLOR,g(b.COLOR),b.SIZE,b.TEXT_ALIGN],b.CLASS_NAME),MONEY:d.concat(e,[b.BACKGROUND_COLOR,b.COLOR,b.WIDTH,b.HEIGHT,b.SIZE,b.TEXT_ALIGN,b.BORDER_COLOR,b.BORDER_WIDTH,b.BORDER_STYLE],b.CLASS_NAME),PHONE:d.concat(f,b.CLASS_NAME),IMAGE:d.concat(e,[b.BACKGROUND_COLOR],b.CLASS_NAME),VIDEO:d.concat(e,[b.BACKGROUND_COLOR],b.CLASS_NAME),PANEL:e.concat([b.BACKGROUND_COLOR,b.BORDER_COLOR,b.BORDER_WIDTH,b.BORDER_STYLE,b.BORDER_RADIUS],b.CLASS_NAME),SECTION:[b.BACKGROUND_COLOR,b.COLOR,b.BORDER_COLOR,b.BORDER_WIDTH,b.BORDER_STYLE,b.BORDER_RADIUS,b.CLASS_NAME],REPEATABLE_SECTION:e,TABLE:e.concat([b.TABLE_WIDTH]),TABLE_COLUMN:[b.TABLE_COLUMN_WIDTH],FORM_REFERENCE:e,FORM_PRESENTATION:[]}}),define("Style",["require","Class","knockout"],function(a){"use strict";var b=a("Class"),c=a("knockout");return b.subClass({},{init:function(a,b,d){this.type=b,this.domId=a+b.name,this.rawValue=c.observable(d||""),this.value=c.computed({read:function(){return this.rawValue()||b.default},write:function(a){null!==a&&void 0!==a&&this.rawValue(a)},owner:this})}})}),define("StyleHandler",["require","knockout","underscore","Class","StyleControlMapper","Style"],function(a){"use strict";var b=a("knockout"),c=a("underscore"),d=a("Class"),e=a("StyleControlMapper"),f=a("Style");return d.subClass({},{init:function(){},getAllStyles:function(a,d){var g=[];if(e[a.type]){var h=c.groupBy(e[a.type],"group");c.each(h,function(b,e){c.each(b,function(c){var h,i="undefined"===e?12:Math.ceil(12/b.length);d.formattedStyle&&(h=d.formattedStyle[c.name]),c.computedClass="oj-col oj-sm-"+i,g.push(new f(a.id,c,h))},this)},this)}return b.observableArray(g)},getParsedStyle:function(a){return b.computed(function(){var d=b.utils.unwrapObservable(a.styles),e="";return d.forEach(function(a){var d=b.utils.unwrapObservable(a.rawValue);d=d instanceof Array?d[0]:d,"inline"!==a.type.styleType||c.isUndefined(d)||c.isNull(d)||""===d||d===a.type.default||(!c.isUndefined(a.type.important)&&a.type.important?e+=a.type.attrName+":"+d+" !important;":e+=a.type.attrName+":"+d+";")}),e},a)},getFormattedStyle:function(a){return b.computed(function(){var d=b.utils.unwrapObservable(a.styles),e={};return d.forEach(function(a){var d=b.utils.unwrapObservable(a.rawValue);d=d instanceof Array?d[0]:d,c.isUndefined(d)||c.isNull(d)||""===d||d===a.type.default||(e[a.type.name]=d)}),e},a)}})}),define("ControlTypeId",[],function(){"use strict";return{FORM_PRESENTATION:"FORM_PRESENTATION",INPUT_TEXT:"INPUT_TEXT",TEXT_AREA:"TEXT_AREA",BUTTON:"BUTTON",SELECT:"SELECT",CHECKLIST:"CHECKLIST",CHECKBOX:"CHECKBOX",RADIO_BUTTON:"RADIO_BUTTON",NUMBER:"NUMBER",DATE:"DATE",TIME:"TIME",DATE_TIME:"DATE_TIME",EMAIL:"EMAIL",URL:"URL",MESSAGE:"MESSAGE",LINK:"LINK",MONEY:"MONEY",PHONE:"PHONE",IMAGE:"IMAGE",VIDEO:"VIDEO",IDENTITY_BROWSER:"IDENTITY_BROWSER",ROW:"ROW",PANEL:"PANEL",FORM_REFERENCE:"FORM_REFERENCE",SECTION:"SECTION",TAB:"TAB",TAB_CONTAINER:"TAB_CONTAINER",REPEATABLE_SECTION:"REPEATABLE_SECTION",REPEATABLE_SECTION_ROW:"REPEATABLE_SECTION_ROW",TABLE:"TABLE",TABLE_COLUMN:"TABLE_COLUMN",TABLE_ROW:"TABLE_ROW",BUSINESS_TYPE:"BUSINESS_TYPE"}}),define("FormContext",["require","Class","knockout","underscore","ColumnSpanTypeId","ValueScope","StringUtils","StyleHandler","ControlTypeId"],function(a){"use strict";var b=a("Class"),c=a("knockout"),d=a("underscore"),e=a("ColumnSpanTypeId"),f=a("ValueScope"),g=a("StringUtils"),h=a("StyleHandler"),i=a("ControlTypeId");return b.subClass({},{init:function(a,b,d){this.viewModel=d,this.config=c.observable(a),this.payload=c.observable(),this.config().resolveDependencies(b||[]),this.styleHandler=new h;var g;g=a&&a.selectedMedia&&e[a.selectedMedia]?e[a.selectedMedia]:this._getDefaultSelectedMedia(),this.selectedMedia=c.observable(g),this.scopeFactory={Scope:f,ErrorScope:f}},getControlDefinition:function(a){if(a.type===i.FORM_REFERENCE){var b=a.properties.reference,d=c.isObservable(b)?b().get():b;return this.getFormReferenceControlDefinition(d,this.config().formHandler)}return this.getControlDefinitionByType(a.type)},getControlDefinitionByType:function(a){throw new Error("Unsupported operation")},getFormReferenceControlDefinition:function(a,b){throw new Error("Unsupported operation")},properties:function(){return{eventsQueue:this.eventsQueue,domIdPrefix:this.config().domIdPrefix,styleHandler:this.styleHandler,viewModel:this.viewModel,selectedMedia:function(){return this.selectedMedia}.bind(this),StringUtils:function(){return g}}},addControlDecorators:function(a){throw new Error("Unsupported operation")},_getDefaultSelectedMedia:function(){return e.ALL},findCallDefinition:function(a){return d.find(this.calls(),function(b){return b.id===a})}})}),define("ControlDefinition",["require","Class"],function(a){"use strict";return a("Class").subClass({},{init:function(a,b){this.id=a,this.controlTemplate=b},properties:function(){return{controlTemplate:this.controlTemplate}},isBindable:function(){return!1}})}),define("InputControlDefinition",["require","ControlDefinition","underscore"],function(a){"use strict";var b=a("ControlDefinition"),c=a("underscore");return b.subClass({},{init:function(a,b,c){this._super(a,c),this.dataType=b},properties:function(){return c.extend(this._super(),{dataType:this.dataType})},isBindable:function(){return!0}})}),define("Enum",["require","underscore","Class"],function(a){"use strict";var b=a("underscore");return a("Class").subClass({valueOf:function(a){return this[b.find(b.keys(this),function(b){return b===a})]}},{})}),define("TypeDescription",["require","Enum","ControlTypeId"],function(a){"use strict";var b=a("Enum"),c=a("ControlTypeId");return b.subClass({ARRAY:{name:"ARRAY",defaultControl:null},BOOLEAN:{name:"BOOLEAN",defaultControl:c.CHECKBOX},DATE_TIME:{name:"DATE_TIME",defaultControl:c.DATE_TIME},DATE:{name:"DATE",defaultControl:c.DATE},ENUM:{name:"ENUM",defaultControl:null},NUMBER:{name:"NUMBER",defaultControl:c.NUMBER},OBJECT:{name:"OBJECT",defaultControl:c.SECTION},OBJECT_REF:{name:"OBJECT_REF",defaultControl:null},STRING:{name:"STRING",defaultControl:c.INPUT_TEXT},TIME:{name:"TIME",defaultControl:c.TIME},UNKNOWN:{name:"UNKNOWN",defaultControl:null},getControlForArray:function(a){switch(a.name){case this.STRING.name:return c.CHECKLIST;case this.OBJECT.name:return c.REPEATABLE_SECTION;default:return this.ARRAY.defaultControl}},equals:function(a,b){return a.name===b.name}},{})}),define("DataType",["require","Class","knockout","TypeDescription"],function(a){"use strict";var b=a("Class"),c=a("knockout"),d=a("TypeDescription");return b.subClass({},{init:function(a,b,d,e,f){var g=this;g.id=c.observable(a),g.name=c.observable(b),g.label=c.observable(d),g.icon=c.observable(e),g._schema=f},isObject:function(){return this.hasOwnProperty("attributes")&&!d.equals(this.getTypeDescription(),d.UNKNOWN)},isContainer:function(){return d.equals(this.getTypeDescription(),d.OBJECT)},isArray:function(){return!1},getTypeDescription:function(){throw new Error("This function must be overridden")},getTypeName:function(){return this.getTypeDescription().name},getDefaultControl:function(){return this.getTypeDescription().defaultControl},toJS:function(){return this.schema()},isCompatible:function(a){return this.id()===a.id()},schema:function(){return this._schema}})}),define("SimpleType",["require","DataType"],function(a){"use strict";return a("DataType").subClass({},{init:function(a,b,c,d,e){this._super(this.getTypeName(),a,b,c,{type:d,format:e})}})}),define("StringType",["require","SimpleType","TypeDescription"],function(a){"use strict";var b=a("SimpleType"),c=a("TypeDescription");return b.subClass({},{init:function(a){this._super(a,"String","","string","string")},getTypeDescription:function(){return c.STRING}})}),define("NumberType",["require","SimpleType","TypeDescription"],function(a){"use strict";var b=a("SimpleType"),c=a("TypeDescription");return b.subClass({},{init:function(a){this._super(a,"Number","","number","")},getTypeDescription:function(){return c.NUMBER}})}),define("BooleanType",["require","SimpleType","TypeDescription"],function(a){"use strict";var b=a("SimpleType"),c=a("TypeDescription");return b.subClass({},{init:function(a){this._super(a,"Boolean","","boolean","")},getTypeDescription:function(){return c.BOOLEAN}})}),define("DateType",["require","SimpleType","TypeDescription"],function(a){"use strict";var b=a("SimpleType"),c=a("TypeDescription");return b.subClass({},{init:function(a){this._super(a,"Date","","string","date")},getTypeDescription:function(){return c.DATE}})}),define("TimeType",["require","SimpleType","TypeDescription"],function(a){"use strict";var b=a("SimpleType"),c=a("TypeDescription");return b.subClass({},{init:function(a){this._super(a,"Time","","string","time")},getTypeDescription:function(){return c.TIME}})}),define("DateTimeType",["require","SimpleType","TypeDescription"],function(a){"use strict";var b=a("SimpleType"),c=a("TypeDescription");return b.subClass({},{init:function(a){this._super(a,"Date Time","","string","date-time")},getTypeDescription:function(){return c.DATE_TIME}})}),define("ArrayType",["require","DataType","knockout","underscore","TypeDescription"],function(a){"use strict";var b=a("DataType"),c=a("knockout"),d=a("underscore"),e=a("TypeDescription");return b.subClass({},{init:function(a,b,d){this._super(this.getTypeName()+"#"+b.id(),a,b.label()+" [ ]","",{type:"array",items:d||b.schema()}),this.itemType=c.observable(b),this.itemType().isObject()&&(this.attributes=c.pureComputed(function(){return this.itemType().attributes()}.bind(this)))},isCompatible:function(a){return a.isArray()&&this.itemType().isCompatible(a.itemType())},isArray:function(){return!0},isObject:function(){return this.itemType().isObject()},isContainer:function(){return this.itemType().isContainer()},getTypeDescription:function(){return e.ARRAY},getDefaultControl:function(){return e.getControlForArray(this.itemType().getTypeDescription())},schema:function(){var a=this._super();if(this.itemType().isObject()){var b={};d.each(this.attributes(),function(a){b[a.name()]=a.toJS()},this),a.items.properties=b}return a}})}),define("EnumType",["require","DataType","knockout","TypeDescription"],function(a){"use strict";var b=a("DataType"),c=a("knockout"),d=a("TypeDescription");return b.subClass({},{init:function(a,b){this._super(this.getTypeName(),a,a,"",{enum:b}),this.attributes=c.observableArray(b)},getTypeDescription:function(){return d.ENUM}})}),define("NameGenerator",["require","Class","StringUtils","TreeUtil","knockout","jquery"],function(a){"use strict";var b=a("Class"),c=a("StringUtils"),d=a("TreeUtil"),e=a("knockout"),f=a("jquery"),g=function(a){return a=c.trim(a).replace(/[\s]+(.)?/g,function(a,b){return b.toUpperCase()})},h=b.subClass({generateName:function(a,b,c,d){a=g(a);var i=d?a+d:a;d=d||0;var j=c||"name";return f.each(e.unwrap(b),function(c,f){if(e.unwrap(f[j])===i)return d++,i=h.generateName(a,b,j,d),!1}),i},generateNameFromTree:function(a,b,c,e,f){var g=d.treeToList(b,c);return h.generateName(a,g,e,f)}},{});return h}),define("ObjectAttribute",["require","Class","knockout"],function(a){"use strict";var b=a("Class"),c=a("knockout");return b.subClass({},{init:function(a,b){this.name=c.observable(a),this.dataType=c.observable(b)},toJS:function(){return this.dataType().toJS()}})}),define("ObjectType",["require","DataType","knockout","underscore","TypeDescription","NameGenerator","ObjectAttribute","StringUtils"],function(a){"use strict";var b=a("DataType"),c=a("knockout"),d=a("underscore"),e=a("TypeDescription"),f=a("NameGenerator"),g=a("ObjectAttribute"),h=a("StringUtils");return b.subClass({},{init:function(a,b,d){this._super(a,b,b,"",{$schema:"http://json-schema.org/draft-04/schema#",$id:a,$name:b,type:"object",properties:{}}),this.attributes=c.observableArray(d)},isCompatible:function(a){return a.isObject()},getTypeDescription:function(){return e.OBJECT},addAttribute:function(a,b){return a=f.generateName(h.decap(a),d.keys(this.schema().properties)),this.attributes.push(new g(a,b)),this.schema().properties[a]=b.toJS(),a},getAttribute:function(a){return d.find(this.attributes(),function(b){return b.name()===a})},removeAttribute:function(a){this.attributes.remove(this.getAttribute(a)),delete this.schema().properties[a]},toJS:function(){return{$ref:this.schema().$id}},schema:function(){var a={};d.each(this.attributes(),function(b){a[b.name()]=b.toJS()},this);var b=this._super();return b.properties=a,b}})}),define("ObjectTypeRef",["require","DataType","TypeDescription"],function(a){"use strict";var b=a("DataType"),c=a("TypeDescription");return b.subClass({},{init:function(a,b){this._super(a,b,b,"",{$ref:a})},getTypeDescription:function(){return c.OBJECT_REF}})}),define("UnknownType",["require","DataType","knockout","TypeDescription"],function(a){"use strict";var b=a("DataType"),c=a("knockout"),d=a("TypeDescription");return b.subClass({},{init:function(a){this._super(this.getTypeName(),"Unknown","Unknown","",a),this.attributes=c.observable([])},getTypeDescription:function(){return d.UNKNOWN}})}),define("TypeFactory",["require","Class","StringType","NumberType","BooleanType","DateType","TimeType","DateTimeType","ArrayType","EnumType","ObjectType","ObjectTypeRef","UnknownType"],function(a){"use strict";var b=a("Class"),c=a("StringType"),d=a("NumberType"),e=a("BooleanType"),f=a("DateType"),g=a("TimeType"),h=a("DateTimeType"),i=a("ArrayType"),j=a("EnumType"),k=a("ObjectType"),l=a("ObjectTypeRef"),m=a("UnknownType");return b.subClass({createStringType:function(a){return new c(a)},createNumberType:function(a){return new d(a)},createBooleanType:function(a){return new e(a)},createDateType:function(a){return new f(a)},createTimeType:function(a){return new g(a)},createDateTimeType:function(a){return new h(a)},createArrayType:function(a,b,c){return new i(a,b,c)},createEnumType:function(a,b){return new j(a,b)},createObjectType:function(a,b,c){return new k(a,b,c)},createObjectTypeRef:function(a,b){return new l(a,b)},createUnknownType:function(a){return new m(a)}},{})}),define("ParseStrategy",["require","Class"],function(a){"use strict";return a("Class").subClass({},{init:function(){},resolveReference:function(a,b){throw new Error("This function must be overridden")},getObjectType:function(a,b){throw new Error("This function must be overridden")},createObjectType:function(a,b,c){throw new Error("This function must be overridden")}})}),define("DoNotResolveRefStrategy",["require","ParseStrategy"],function(a){"use strict";return a("ParseStrategy").subClass({},{init:function(){},resolveReference:function(a,b){return b.getObjectTypesRefs()[a]},getObjectType:function(a,b){return b.getObjectTypes()[a.$id]},createObjectType:function(a,b,c){return c._createObjectType(a,b,this)}})}),define("ResolveRefStrategy",["require","ParseStrategy","DoNotResolveRefStrategy"],function(a){"use strict";var b=a("ParseStrategy"),c=a("DoNotResolveRefStrategy");return b.subClass({},{init:function(a){this.depth=a||2,this.objectsCache={}},resolveReference:function(a,b){return b._doResolveReference(b.getObjectTypesRefs()[a],this)},getObjectType:function(a,b){return this.createObjectType(a,b.getObjectTypes()[a.$id].name(),b)},createObjectType:function(a,b,d){return this.cacheObject(a.$id),this.depth>=this.objectsCache[a.$id]?d._createObjectType(a,b,this):d._createObjectType(a,b,new c)},cacheObject:function(a){this.objectsCache[a]?this.objectsCache[a]++:this.objectsCache[a]=1}})}),define("IdentityType",["require","StringType","NumberType","ObjectType"],function(a){"use strict";var b=a("StringType"),c=a("NumberType"),d=a("ObjectType"),e=new d("IdentityBrowser","IdentityBrowser",[]),f={id:new b,title:new b,firstName:new b,lastName:new b,type:new b,email:new b,mobile:new c};for(var g in f)f.hasOwnProperty(g)&&e.addAttribute(g,f[g]);return e}),define("TypeCatalog",["require","Class","knockout","TypeFactory","NameGenerator","underscore","jquery","ObjectTypeRef","DoNotResolveRefStrategy","ResolveRefStrategy","IdentityType","ObjectAttribute"],function(a){"use strict";var b=a("Class"),c=a("knockout"),d=a("TypeFactory"),e=a("NameGenerator"),f=a("underscore"),g=a("jquery"),h=a("ObjectTypeRef"),i=a("DoNotResolveRefStrategy"),j=a("ResolveRefStrategy"),k=a("IdentityType"),l=a("ObjectAttribute"),m=function(a){n.getObjectTypes()[a.id()]=a},n=b.subClass({initTypes:function(){this.objectTypes=void 0,this.objectTypesRefs=void 0},getSimpleTypesDefinitions:function(){return void 0===this.simpleTypes&&(this.simpleTypes=c.observable({}),this.simpleTypes().STRING=d.createStringType(),this.simpleTypes().NUMBER=d.createNumberType(),this.simpleTypes().BOOLEAN=d.createBooleanType(),this.simpleTypes().DATE=d.createDateType(),this.simpleTypes().TIME=d.createTimeType(),this.simpleTypes().DATE_TIME=d.createDateTimeType()),this.simpleTypes()},getObjectTypesRefs:function(){return void 0===this.objectTypesRefs&&(this.objectTypesRefs=c.observable({})),this.objectTypesRefs()},getObjectTypes:function(){return void 0===this.objectTypes&&(this.objectTypes=c.observable({})),this.objectTypes()},getArrayTypeDefinition:function(a){return this.getArrayType(a)},getArrayType:function(a,b,c){return d.createArrayType(b,a,c)},getIdentityType:function(){return m(k),k},parseRootType:function(a,b){return this._doParseType(a,b,new i)},parseTypePartially:function(a,b,c){return this._doParseType(a,b,new j(c))},_doParseType:function(a,b,c){if(void 0===b)return d.createUnknownType({});if(b.$ref)return void 0===this.getObjectTypesRefs()[b.$ref]&&(this.getObjectTypesRefs()[b.$ref]=d.createObjectTypeRef(b.$ref,a)),c.resolveReference(b.$ref,this);if(b.enum)return d.createEnumType(a,b.enum);switch(b.type){case"string":var f;switch(b.format){case"string":f=d.createStringType(a);break;case"date":f=d.createDateType(a);break;case"time":f=d.createTimeType(a);break;case"date-time":f=d.createDateTimeType(a);break;default:f=d.createStringType(a)}return f;case"boolean":return d.createBooleanType(a);case"number":;return"base64Binary"===b.format?d.createStringType(a):d.createNumberType(a);case"array":var g=this._doParseType("itemType",b.items,c);return this.getArrayType(g,a,b.items);case"object":var h;if(this.getObjectTypes()[b.$id])h=this.getObjectTypes()[b.$id]=c.getObjectType(b,this);else{var i=e.generateName(b.$name,this.objectTypes());h=c.createObjectType(b,i,this),m(h)}return h;default:return d.createUnknownType(b)}},_createObjectType:function(a,b,c){var e=[];return f.each(f.keys(a.properties),function(b){var d=this._doParseType(b,a.properties[b],c);e.push(new l(b,d))},this),d.createObjectType(a.$id,b,e)},resolveReference:function(a){return this._getOrResolveReference(a,new j(1))},_getOrResolveReference:function(a,b){var c=f.find(this.getObjectTypes(),function(b){return b.schema().$id===a.schema().$ref},this);return c||this._doResolveReference(a,b)},_doResolveReference:function(a,b){var c=this.typeHandler.getResolvedControl(a.schema().$ref);return g.isEmptyObject(c)?d.createUnknownType(a.schema()):this._doParseType(a.name(),c,b)},getConcreteType:function(a,b){var c=this._doParseType(a,b,new i);return c instanceof h&&(c=this.resolveReference(c)),c}},{});return n}),define("FormControlDefinition",["require","InputControlDefinition","knockout","TypeCatalog"],function(a){"use strict";var b=a("InputControlDefinition"),c=a("knockout"),d=a("TypeCatalog");return b.subClass({},{init:function(a,b,c,e){this._super(a,null,e),this.reference=b,this.formHandler=c,this.form=this.formHandler.getResolvedControl(this.reference.get().formId),this.dataType=d.parseTypePartially("definition",this.form.definition)},properties:function(){return c.utils.extend(this._super(),{reference:this.reference,form:this.form,dataType:this.dataType})}})}),define("RendererControlType",["require","InputControlDefinition","ControlDefinition","ControlTypeId","TypeCatalog","FormControlDefinition"],function(a){"use strict";var b=a("InputControlDefinition"),c=a("ControlDefinition"),d=a("ControlTypeId"),e=a("TypeCatalog"),f=a("FormControlDefinition");return{INPUT_TEXT:new b(d.INPUT_TEXT,e.getSimpleTypesDefinitions().STRING,"rendererTextControl"),TEXT_AREA:new b(d.TEXT_AREA,e.getSimpleTypesDefinitions().STRING,"rendererTextAreaControl"),BUTTON:new c(d.BUTTON,"rendererButtonControl"),SELECT:new b(d.SELECT,e.getSimpleTypesDefinitions().STRING,"rendererSelectControl"),CHECKLIST:new b(d.CHECKLIST,e.getArrayType(e.getSimpleTypesDefinitions().STRING),"rendererChecklistControl"),CHECKBOX:new b(d.CHECKBOX,e.getSimpleTypesDefinitions().BOOLEAN,"rendererCheckboxControl"),RADIO_BUTTON:new b(d.RADIO_BUTTON,e.getSimpleTypesDefinitions().STRING,"rendererRadioButtonControl"),NUMBER:new b(d.NUMBER,e.getSimpleTypesDefinitions().NUMBER,"rendererNumberControl"),DATE:new b(d.DATE,e.getSimpleTypesDefinitions().DATE,"rendererDateControl"),TIME:new b(d.TIME,e.getSimpleTypesDefinitions().TIME,"rendererTimeControl"),DATE_TIME:new b(d.DATE_TIME,e.getSimpleTypesDefinitions().DATE_TIME,"rendererDateTimeControl"),EMAIL:new b(d.EMAIL,e.getSimpleTypesDefinitions().STRING,"rendererEmailControl"),URL:new b(d.URL,e.getSimpleTypesDefinitions().STRING,"rendererUrlControl"),MESSAGE:new b(d.MESSAGE,e.getSimpleTypesDefinitions().STRING,"rendererMessageControl"),LINK:new b(d.LINK,e.getSimpleTypesDefinitions().STRING,"rendererLinkControl"),MONEY:new b(d.MONEY,e.getSimpleTypesDefinitions().NUMBER,"rendererMoneyControl"),PHONE:new b(d.PHONE,e.getSimpleTypesDefinitions().STRING,"rendererPhoneControl"),IMAGE:new b(d.IMAGE,e.getSimpleTypesDefinitions().STRING,"rendererImageControl"),VIDEO:new b(d.VIDEO,e.getSimpleTypesDefinitions().STRING,"rendererVideoControl"),IDENTITY_BROWSER:new b(d.IDENTITY_BROWSER,e.getArrayType(e.getSimpleTypesDefinitions().STRING),"rendererIdentityControl"),PANEL:new c(d.PANEL,"rendererPanelControl"),SECTION:new c(d.SECTION,"rendererSectionControl"),TAB:new c(d.TAB,"rendererTabControl"),TAB_CONTAINER:new c(d.TAB_CONTAINER,"rendererTabContainerControl"),REPEATABLE_SECTION:new b(d.REPEATABLE_SECTION,e.getArrayTypeDefinition(e.getSimpleTypesDefinitions().STRING),"rendererRepeatableSectionControl"),TABLE:new b(d.TABLE,e.getArrayTypeDefinition(e.getSimpleTypesDefinitions().STRING),"rendererTableControl"),TABLE_COLUMN:new c(d.TABLE_COLUMN,""),FORM_REFERENCE:function(a,b){return new f(d.FORM_REFERENCE,a,b,"rendererFormReferenceControl")}}}),define("RendererId",[],function(){"use strict";return{FORM_RENDERER:"form-renderer"}}),define("Icon",["require","Class"],function(a){"use strict";var b=a("Class"),c="data:image/svg+xml;base64,";return b.subClass({},{init:function(a,b,c){this.value=a,this.hover=b,this.active=c},getDataValue:function(){return c+window.btoa(this.value)},getDataHover:function(){return c+window.btoa(this.hover)},getDataActive:function(){return c+window.btoa(this.active)}})}),define("EventsId",["require","ojL10n!rendererMsg/nls/renderer"],function(a){"use strict";var b=a("ojL10n!rendererMsg/nls/renderer");return{ON_LOAD:{value:"ON_LOAD",label:b.ON_LOAD,event:"load"},ON_CHANGE:{value:"ON_CHANGE",label:b.ON_CHANGE,event:"change"},ON_FOCUS:{value:"ON_FOCUS",label:b.ON_FOCUS,event:"focus"},ON_BLUR:{value:"ON_BLUR",label:b.ON_BLUR,event:"blur"},ON_EXPAND_TOGGLE:{value:"ON_EXPAND_TOGGLE",label:b.ON_EXPAND_TOGGLE,event:"expand"},ON_EXPAND:{value:"ON_EXPAND",label:b.ON_EXPAND,event:"expand"},ON_COLLAPSE:{value:"ON_COLLAPSE",label:b.ON_COLLAPSE,event:"expand"},ON_SELECTION_CHANGE:{value:"ON_SELECTION_CHANGE",label:b.ON_SELECTION_CHANGE,event:"selectionChange"},ON_SELECTED:{value:"ON_SELECTED",label:b.ON_SELECTED,event:"ojselect"},ON_UNSELECTED:{value:"ON_UNSELECTED",label:b.ON_UNSELECTED,event:"ojdeselect"},ON_CLICK:{value:"ON_CLICK",label:b.ON_CLICK,event:"click"},ON_SUBMIT:{value:"ON_SUBMIT",label:b.ON_SUBMIT,event:"submit"},ON_ADD_ROW:{value:"ON_ADD_ROW",label:b.ON_ADD_ROW,event:"addRow"},ON_REMOVE_ROW:{value:"ON_REMOVE_ROW",label:b.ON_REMOVE_ROW,event:"removeRow"},ON_CHILDREN_CHANGE:{value:"ON_CHILDREN_CHANGE",label:"ON_CHILDREN_CHANGE",event:"childrenChange"}}}),define("Handler",["require","Class"],function(a){"use strict";return a("Class").subClass({},{init:function(a){this._id=a},listControls:function(a,b){throw new Error("This function must be overridden")},getControl:function(a){throw new Error("This function must be overridden")},getResolvedControl:function(a){throw new Error("This function must be overridden")},addOrUpdateControl:function(a){throw new Error("This function must be overridden")},addResolvedControl:function(a){throw new Error("This function must be overridden")},removeControl:function(a){throw new Error("This function must be overridden")},search:function(a){throw new Error("This function must be overridden")},toJS:function(){return this._id}})}),define("ContextualHandler",["require","Handler"],function(a){"use strict";return a("Handler").subClass({},{init:function(a){this._super(a)},setContext:function(a){this.context=a},resolveDependencies:function(a){this.context.resolveDependencies(a)}})}),define("DefaultFormHandler",["require","ContextualHandler","underscore","jquery"],function(a){"use strict";var b=a("ContextualHandler"),c=a("underscore"),d=a("jquery"),e=b.subClass({},{init:function(a){this._super(a),this._references=[],this._forms=[]},listControls:function(a,b){return b=b?b+1:this._references.length,Promise.resolve(this._references.slice(a,b))},getControl:function(a){return Promise.resolve(d.extend(!0,{},c.find(this._forms,function(b){return b.id===a},this)))},getResolvedControl:function(a){return d.extend(!0,{},c.find(this._forms,function(b){return b.id===a},this))},addOrUpdateControl:function(a){var b=c.find(this._forms,function(b){return b.id===a.id},this);if(b){var d=this._forms.indexOf(b);this._forms.splice(d,1,a)}else this._forms.push(a)},addResolvedControl:function(a){this.addOrUpdateControl(a)},removeControl:function(a){throw new Error("Unsupported operation")},search:function(a){return Promise.resolve(c.filter(this._references,function(b){return b.formName.toLowerCase().indexOf(a.toLowerCase())>-1},this))}});return{create:function(){return new e("DefaultFormHandler")}}}),define("DefaultCssHandler",["require","ContextualHandler","underscore","jquery"],function(a){"use strict";var b=a("ContextualHandler"),c=a("underscore"),d=a("jquery"),e=b.subClass({},{init:function(a){this._super(a),this._references=[],this._stylesheets=[]},listControls:function(a,b){return b=b?b+1:this._references.length,Promise.resolve(this._references.slice(a,b))},getControl:function(a){return Promise.resolve(d.extend(!0,{},c.find(this._stylesheets,function(b){return b.id===a},this)))},getResolvedControl:function(a){var b=c.find(this._stylesheets,function(b){return b.id===a},this)
;return b?Promise.resolve(d.extend(!0,{},b,this)):this.getControl(a)},addOrUpdateControl:function(a){var b,d=c.find(this._stylesheets,function(b){return b.id===a.id},this);d?(b=this._stylesheets.indexOf(d),this._stylesheets.splice(b,1,a)):this._stylesheets.push(a);var e=c.find(this._references,function(b){return b.id===a.id},this);e?(b=this._references.indexOf(e),this._references.splice(b,1,{id:a.id})):this._references.push({id:a.id})},addResolvedControl:function(a){this.addOrUpdateControl(a)},removeControl:function(a){for(var b=this._stylesheets.length-1;b>=0;b--)this._stylesheets[b].id===a&&(this._stylesheets.splice(b,1),this._references.splice(b,1))}});return{create:function(){return new e("DefaultCssHandler")}}}),define("DefaultTypeHandler",["require","ContextualHandler","underscore","jquery"],function(a){"use strict";var b=a("ContextualHandler"),c=a("underscore"),d=a("jquery"),e=b.subClass({},{init:function(a){this._super(a),this._references=[],this._types=[]},listControls:function(a,b){return b=b?b+1:this._references.length,Promise.resolve(this._references.slice(a,b))},getControl:function(a){return Promise.resolve(d.extend(!0,{},c.find(this._types,function(b){return b.$id===a},this)))},getResolvedControl:function(a){return d.extend(!0,{},c.find(this._types,function(b){return b.$id===a},this))},addOrUpdateControl:function(a){var b=c.find(this._types,function(b){return b.$id===a.$id},this);if(b){var d=this._types.indexOf(b);this._types.splice(d,1,a)}else this._types.push(a)},addResolvedControl:function(a){this.addOrUpdateControl(a)},removeControl:function(a){throw new Error("Unsupported operation")},search:function(a){return Promise.resolve(c.filter(this._references,function(b){return b.name.toLowerCase().indexOf(a.toLowerCase())>-1},this))}});return{create:function(){return new e("DefaultTypeHandler")}}}),define("DefaultRestHandler",["require","ContextualHandler","ojL10n!rendererMsg/nls/renderer","underscore","jquery"],function(a){"use strict";var b=a("ContextualHandler"),c=a("ojL10n!rendererMsg/nls/renderer"),d=a("underscore"),e=a("jquery"),f=function(){return window.location.origin||(window.location.origin=window.location.protocol+"//"+window.location.hostname+(window.location.port?":"+window.location.port:"")),window.location.origin}(),g=function(){var a="(?:^|; )"+encodeURIComponent("jwt")+"=([^;]*)",b=new RegExp(a).exec(document.cookie);return b?b[1]:null},h=b.subClass({},{init:function(a){this._super(a),this.restBaseUrl=f+"/bpm/api/3.0/"},getAuthInfo:function(){var a=g();return a?"Bearer "+a:null},execute:function(a,b){var f=this.restBaseUrl+a.name,g=this.getAuthInfo();return d.defaults(a,{type:"GET"}),new Promise(function(d,h){e.ajax({url:f,type:a.type,dataType:"json",data:b,beforeSend:function(a){a.setRequestHeader("content-type","application/json; charset=utf-8"),g&&a.setRequestHeader("Authorization",g)},xhrFields:{withCredentials:!0},success:function(b){d(b[a.optionsListBinding])},error:function(a){h(c.FAILED_TO_FETCH_REST)}})})}});return{create:function(){return new h("DefaultRestHandler")}}}),define("DependencyType",["require","Enum","underscore"],function(a){"use strict";var b=a("Enum"),c=a("underscore");return b.subClass({FORM:{type:"FORM",handler:"formHandler"},STYLESHEET:{type:"STYLESHEET",handler:"cssHandler"},BUSINESS_TYPE:{type:"BUSINESS_TYPE",handler:"typeHandler"},fromType:function(a){return this[c.find(c.keys(this),function(b){return b===a})]}},{})}),define("DefaultConnectorHandler",["require","ContextualHandler","jquery"],function(a){"use strict";var b=a("ContextualHandler"),c=a("jquery"),d=b.subClass({},{init:function(a){this._super(a),this._connectors=[],this._resources=[],this._operations=[],this._operationDefinitions=[]},listConnectors:function(){return Promise.resolve(this._connectors)},listResources:function(a){var b=[];return c.each(this._resources,function(c,d){d.connectorId===a&&b.push(d)}),Promise.resolve(b)},listOperations:function(a,b){var d=[];return c.each(this._operations,function(c,e){e.connectorId===a&&e.resourceId===b&&d.push(e)}),Promise.resolve(d)},getOperationDefinition:function(a,b,d){var e=null;return c.each(this._operationDefinitions,function(b,c){if(c.connectorId===a&&c.id===d)return e=c,!1}),Promise.resolve(e)},execute:function(a){return Promise.resolve({})}});return{create:function(){return new d("DefaultConnectorHandler")}}}),define("DefaultTranslationsHandler",["require","ContextualHandler","underscore"],function(a){"use strict";var b=a("ContextualHandler"),c=a("underscore"),d=b.subClass({},{init:function(a){this._super(a),this._bundles={},this._allBundles=[]},fetchBundle:function(a){var b=this;return c.each(this._allBundles,function(c){c.id===a&&(b._bundles.initLocaleBundle=c.bundle)}),Promise.resolve(this._bundles)},clearAllBundles:function(){this._allBundles=[]}});return{create:function(){return new d("DefaultTranslationsHandler")}}}),define("Configuration",["require","Class","knockout","DefaultFormHandler","DefaultCssHandler","DefaultTypeHandler","DefaultRestHandler","DependencyType","TypeCatalog","DefaultConnectorHandler","DefaultTranslationsHandler","underscore"],function(a){"use strict";var b=a("Class"),c=a("knockout"),d=a("DefaultFormHandler"),e=a("DefaultCssHandler"),f=a("DefaultTypeHandler"),g=a("DefaultRestHandler"),h=a("DependencyType"),i=a("TypeCatalog"),j=a("DefaultConnectorHandler"),k=a("DefaultTranslationsHandler"),l=a("underscore");return b.subClass({},{init:function(a){a=a||{};var b=c.utils.unwrapObservable(a.readOnly);this._initHandlers(a),this.selectedMedia=a.selectedMedia,this.convertJSON=a.convertJSON,this.readOnly=c.observable(b),this.domIdPrefix=a.domIdPrefix||""},_initHandlers:function(a){this.formHandler=this.isUndefined(a.formHandler),this.cssHandler=this.isUndefined(a.cssHandler),this.typeHandler=this.isUndefined(a.typeHandler),this.connectorHandler=this.isUndefined(a.connectorHandler),this.restHandler=this.isUndefined(a.restHandler),this.translationsHandler=this.isUndefined(a.translationsHandler),l.defaults(this.formHandler,d.create()),l.defaults(this.cssHandler,e.create()),l.defaults(this.typeHandler,f.create()),l.defaults(this.connectorHandler,j.create()),l.defaults(this.restHandler,g.create()),l.defaults(this.translationsHandler,k.create()),this.formHandler.setContext(this),this.cssHandler.setContext(this),this.typeHandler.setContext(this),i.initTypes(),i.typeHandler=this.typeHandler,this.connectorHandler.setContext(this),this.restHandler.setContext(this),this.translationsHandler.setContext(this)},isUndefined:function(a){return a||{}},resolveDependencies:function(a){l.each(a,function(a){this[h.fromType(a.type).handler].addResolvedControl(a.object)},this)},toJS:function(){return{formHandler:this.formHandler.toJS(),cssHandler:this.cssHandler.toJS(),typeHandler:this.typeHandler.toJS(),translationsHandler:this.translationsHandler.toJS(),selectedMedia:this.selectedMedia}}})}),define("koToJSUtil",["require","Class","underscore","knockout"],function(a){"use strict";function b(a){return a=e.unwrap(a),a&&a.toJS?a.toJS():a}var c=a("Class"),d=a("underscore"),e=a("knockout");return c.subClass({toJS:function(a){var c=d.isArray(a)?[]:{};return d.each(a,function(a,e){c[e]=b(a),d.isObject(c[e])&&(c[e]=this.toJS(c[e]))},this),c}},{})}),define("OptionsProperties",["require","Class","koToJSUtil"],function(a){"use strict";var b=a("Class"),c=a("koToJSUtil");return b.subClass({},{init:function(a){},observables:function(){throw new Error("Not implemented operation exception")},toJS:function(){return c.toJS(this.observables())}})}),define("StaticProperties",["require","OptionsProperties","knockout","underscore"],function(a){"use strict";var b=a("OptionsProperties"),c=a("knockout"),d=a("underscore");return b.subClass({},{init:function(a){a=a||{},d.defaults(a,{optionsNames:"option 1\noption 2",optionsValues:"option1\noption2",defaultValue:[],autoFocus:!1}),this.optionsNames=c.observable(a.optionsNames),this.optionsValues=c.observable(a.optionsValues),this.defaultValue=c.observableArray(a.defaultValue),this.autoFocus=c.observable(a.autoFocus)},observables:function(){return{optionsNames:this.optionsNames,optionsValues:this.optionsValues,defaultValue:this.defaultValue,autoFocus:this.autoFocus}}})}),define("RestProperties",["require","OptionsProperties","knockout","underscore"],function(a){"use strict";var b=a("OptionsProperties"),c=a("knockout"),d=a("underscore");return b.subClass({},{init:function(a){a=a||{},d.defaults(a,{defaultValue:[],autoFocus:!1}),this.defaultValue=c.observableArray(a.defaultValue),this.autoFocus=c.observable(a.autoFocus)},observables:function(){return{defaultValue:this.defaultValue,autoFocus:this.autoFocus}}})}),define("ResponseMapping",["require","Class","underscore","koToJSUtil","knockout"],function(a){"use strict";var b=a("Class"),c=a("underscore"),d=a("koToJSUtil"),e=a("knockout");return b.subClass({},{init:function(a){a=a||{},c.defaults(a,{optionsListBinding:"",valueBinding:"",labelBinding:""}),this.optionsListBinding=e.observable(a.optionsListBinding),this.valueBinding=e.observable(a.valueBinding),this.labelBinding=e.observable(a.labelBinding)},observables:function(){return{optionsListBinding:this.optionsListBinding,valueBinding:this.valueBinding,labelBinding:this.labelBinding}},toJS:function(){return d.toJS(this.observables())}})}),define("DynamicProperties",["require","OptionsProperties","ResponseMapping","knockout","underscore"],function(a){"use strict";var b=a("OptionsProperties"),c=a("ResponseMapping"),d=a("knockout"),e=a("underscore");return b.subClass({},{init:function(a){a=a||{},e.defaults(a,{defaultValue:[],simple:!0,autoFocus:!1}),this.response=d.observable(new c(a.response||{})),this.defaultValue=d.observableArray(a.defaultValue),this.simple=d.observable(a.simple),this.autoFocus=d.observable(a.autoFocus)},observables:function(){return{defaultValue:this.defaultValue,simple:this.simple(),response:this.response,autoFocus:this.autoFocus}}})}),define("UUID",[],function(){"use strict";return{createUuid:function(){function a(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return[a()+a(),a(),a(),a(),a()+a()+a()].join("-")},createSafeUuid:function(){return("ACT"+this.createUuid()).replace(/-/g,"")}}}),define("ConnectorProperties",["require","DynamicProperties","underscore","UUID","knockout"],function(a){"use strict";var b=a("DynamicProperties"),c=a("underscore"),d=a("UUID"),e=a("knockout");return b.subClass({},{init:function(a){this._super(a),a=a||{},c.defaults(a,{id:d.createUuid(),connectorId:"",resource:"",operationId:"",headerParams:[],templateParams:[],queryParams:[],skipDuringLoad:!1}),this.id=a.id,this.connectorId=e.observable(a.connectorId),this.resource=e.observable(a.resource),this.operationId=e.observable(a.operationId),this.skipDuringLoad=e.observable(a.skipDuringLoad),this.queryParams=e.observableArray(a.queryParams),this.headerParams=e.observableArray(a.headerParams),this.templateParams=e.observableArray(a.templateParams)},clone:function(){return{id:this.id,queryParams:this.queryParams(),headerParams:this.headerParams(),templateParams:this.templateParams(),skipDuringLoad:this.skipDuringLoad(),connector:{name:this.connectorId(),resource:this.resource(),method:this.operationId()},response:this.response().toJS()}},observables:function(){var a=this._super();return c.extend(a,{skipDuringLoad:this.skipDuringLoad})},toJS:function(){return{id:this.id,skipDuringLoad:e.unwrap(this.skipDuringLoad),defaultValue:e.unwrap(this.defaultValue),autoFocus:e.unwrap(this.autoFocus)}}})}),define("OptionsPropertiesFactory",["require","Class","StaticProperties","RestProperties","ConnectorProperties","DynamicProperties"],function(a){"use strict";var b=a("Class"),c=a("StaticProperties"),d=a("RestProperties"),e=a("ConnectorProperties"),f=a("DynamicProperties");return b.subClass({createProperties:function(a,b){return(0,this[a])(b)},STATIC:function(a){return new c(a)},REST:function(a){return new d(a)},DYNAMIC:function(a){return new f(a)},CONNECTOR:function(a){return new e(a)},LIST_CONNECTOR:function(a){return new e(a)},EVENT_CONNECTOR:function(a){return new e(a)}},{})}),define("OptionsResolver",["require","Class","OptionsPropertiesFactory","knockout","ojs/ojprogressbar"],function(a){"use strict";var b=a("Class"),c=a("OptionsPropertiesFactory"),d=a("knockout");return a("ojs/ojprogressbar"),b.subClass({},{init:function(a,b,e){this.properties=d.observable(c.createProperties(a,e)),this.customValidationMessages=d.observableArray(),this.loading=d.observable(!1)},getOptions:function(){throw new Error("operation not supported exception")},getDefaultValue:function(){throw new Error("operation not supported exception")},getDefaultValueOptions:function(){throw new Error("operation not supported exception")}})}),define("OjSelectItem",["require","Class"],function(a){"use strict";return a("Class").subClass({create:function(a,b){return{value:a,label:b}}},{})}),define("DynamicOptionType",["require","OjSelectItem","ojL10n!rendererMsg/nls/renderer","underscore"],function(a){"use strict";var b=a("OjSelectItem"),c=a("ojL10n!rendererMsg/nls/renderer"),d=a("underscore");return{FIRST:d.extend(b.create("FIRST",c.FIRST_LABEL),{getValue:function(a){var b=a[0];return b?[b.value]:[]}}),LAST:d.extend(b.create("LAST",c.LAST_LABEL),{getValue:function(a){var b=a[a.length-1];return b?[b.value]:[]}})}}),define("DynamicAutoFocus",["require","knockout","DynamicOptionType"],function(a){"use strict";var b=a("knockout"),c=a("DynamicOptionType"),d=function(a){this.read=function(){var b=[],d=a.properties().autoFocus()[0];if(d){b=c[d].getValue(a.getOptions())}return b}};return{create:function(a){return b.pureComputed(new d(a))}}}),define("DynamicDefaultValue",["require","knockout","jquery","DynamicOptionType"],function(a){"use strict";var b=a("knockout"),c=a("jquery"),d=a("DynamicOptionType"),e=function(a){this.read=function(){var b=a.properties().defaultValue(),e=[];return c.each(b,function(){var b=this,c=d[b],f=c.getValue(a.getOptions());e=e.concat(f)}),e.length>0?e:[]}};return{create:function(a){return b.pureComputed(new e(a))}}}),define("DynamicOptionsResolver",["require","OptionsResolver","OjSelectItem","DynamicAutoFocus","DotExpressionResolver","DynamicDefaultValue","jquery"],function(a){"use strict";var b=a("OptionsResolver"),c=a("OjSelectItem"),d=a("DynamicAutoFocus"),e=a("DotExpressionResolver"),f=a("DynamicDefaultValue"),g=a("jquery");return b.subClass({},{init:function(a,b,c){this._super(a,b,c),this.context=b,this.autoFocus=d.create(this),this.getDefaultValue=f.create(this)},getOptions:function(){var a=[],b=this._getPayloadList(this.properties().response().optionsListBinding()),d=this.properties().simple(),f=this.properties().response().valueBinding(),h=this.properties().response().labelBinding();return g.each(b,function(){if(d)a.push(c.create(this,this));else{var b=e.getValue(this,f),g=e.getValue(this,h);a.push(c.create(b,g))}}),a},_getPayloadList:function(a){return this.context.payload()?this.context.payload().getBindingValue(a)||[]:[]}})}),define("FormsLogger",["require","Class"],function(a){"use strict";var b=a("Class"),c=b.subClass({logger:null,getLogger:function(){return c.logger||(c.logger=new c),c.logger}},{init:function(){this.debug=window.formLoggerEnabled},log:function(a){this.debug&&console.log(a)},count:function(a){this.debug&&console.count(a)},time:function(a){this.debug&&console.time(a)},timeEnd:function(a){this.debug&&console.timeEnd(a)}});return c}),define("ConnectorResolver",["require","OptionsResolver","DynamicDefaultValue","DotExpressionResolver","knockout","ojs/ojcore","FormsLogger","ojL10n!rendererMsg/nls/renderer","jquery","DynamicAutoFocus"],function(a){"use strict";var b=a("OptionsResolver"),c=a("DynamicDefaultValue"),d=a("DotExpressionResolver"),e=a("knockout"),f=a("ojs/ojcore"),g=a("FormsLogger"),h=a("ojL10n!rendererMsg/nls/renderer"),i=a("jquery"),j=a("DynamicAutoFocus");return b.subClass({},{init:function(a,b,d,f){this.controlId=f,this.requiredFormValues=[],this.formId=b.viewModel.formId,this.presentationId=b.viewModel.presentationId,d=this._fetchProperties(b,d),this._super(a,b,d),this.autoFocus=j.create(this),this.getDefaultValue=c.create(this),this._options=e.observableArray(null),this.getOptions=e.pureComputed(function(){return this._options()}.bind(this)),this._callConnector=function(a){return g.getLogger().count("[COUNT] [CONNECTOR]"),b.config().connectorHandler.execute(a)}},loadAndSetConnector:function(a){this.loading(!0),this.loadConnector(a).then(function(a){this._options(this._buildOptions(a)),this.loading(!1),this.customValidationMessages([])}.bind(this)).catch(function(a){a=JSON.parse(a),this.customValidationMessages([new f.Message(h.FAILED_TO_FETCH_CONNECTOR,a.defaultMessage)]),this.loading(!1)}.bind(this))},loadConnector:function(a){return this._findControl=a.findControlInsideRepeatable.bind(a),this._fetchOptions()},_fetchOptions:function(){var a=this._buildArguments(),b={id:this.properties().id,listBinding:this.properties().response().optionsListBinding().replace("response.",""),formValues:a,formId:this.formId,presentationId:this.presentationId};return this._callConnector(b)},_buildArguments:function(){var a={},b=this;return i.each(this.requiredFormValues,function(){var c=b._findControl(b.controlId);if(c){var d=c.findClosest(this);a[this]=d?d.getControlValue():null}}),a},_buildOptions:function(a){var b=this.properties().response().optionsListBinding();return a=a||{},d.getPCSCompatibleValue(a,b)||[]},_fetchProperties:function(a,b){var c=a.findCallDefinition(b.id);return c&&(this.requiredFormValues=c.formValues||[],b.response=c.response().toJS()),b}})}),define("ListConnectorResolver",["require","ConnectorResolver","knockout"],function(a){"use strict";var b=a("ConnectorResolver"),c=a("knockout");return b.subClass({},{init:function(a,b,d,e){function f(a){h.loading(!0),a.loaded()?h.loadAndSetConnector(a):g||(g=a.loaded.subscribe(function(){g.dispose(),h.loadAndSetConnector(a)}))}this._super(a,b,d,e);var g,h=this;c.unwrap(c.unwrap(this.properties).skipDuringLoad)||(b.viewModel.form.subscribe(f),b.viewModel.form()&&setTimeout(function(){f(b.viewModel.form())}))}})}),define("ConnectorOptionsResolver",["require","ListConnectorResolver","DotExpressionResolver","OjSelectItem","jquery"],function(a){"use strict";var b=a("ListConnectorResolver"),c=a("DotExpressionResolver"),d=a("OjSelectItem"),e=a("jquery");return b.subClass({},{init:function(a,b,c,d){this._super(a,b,c,d)},_buildOptions:function(a){var b=[],f=this.properties().response().optionsListBinding(),g=this.properties().response().valueBinding(),h=this.properties().response().labelBinding();a=a||{};var i=c.getPCSCompatibleValue(a,f)||[];return e.each(i,function(a,e){var f=c.getPCSCompatibleValue(e,g),i=c.getPCSCompatibleValue(e,h);void 0!==f&&void 0!==i&&b.push(d.create(f,i))}),b}})}),define("RestResolver",["require","OptionsResolver","DynamicDefaultValue","knockout","ojs/ojcore"],function(a){"use strict";var b=a("OptionsResolver"),c=a("DynamicDefaultValue"),d=a("knockout"),e=a("ojs/ojcore");return b.subClass({},{init:function(a,b,e,f){this._super(a,b,e),this.controlId=f,this.autoFocus=d.pureComputed({read:function(){return this.properties().autoFocus()},owner:this}),this.getDefaultValue=c.create(this),this._options=d.observableArray(null),this.getOptions=d.pureComputed(function(){return this._options()}.bind(this)),this._callRest=function(a,c){return b.config().restHandler.execute(a,c)}},loadAndSetRest:function(a,b){this.callRest(a,b).then(function(b){this._options(b[a.optionsListBinding]),this.customValidationMessages([])}.bind(this)).catch(function(a){this.customValidationMessages([new e.Message(a)])}.bind(this))},callRest:function(a,b){return this._callRest(a,b)}})}),define("RestOptionsResolver",["require","RestResolver"],function(a){"use strict";return a("RestResolver").subClass({},{init:function(a,b,c,d){this._super(a,b,c,d)}})}),define("StaticOptionsResolver",["require","OptionsResolver","OjSelectItem","koToJSUtil","knockout"],function(a){"use strict";var b=a("OptionsResolver"),c=a("OjSelectItem"),d=a("koToJSUtil"),e=a("knockout");return b.subClass({},{init:function(a,b,c){this._super(a,b,c),this.autoFocus=e.pureComputed({read:function(){return this.properties().autoFocus()},write:function(a){this.properties().autoFocus(a)},owner:this})},getOptions:function(){for(var a=d.toJS(this.properties()),b=a.optionsNames.split("\n"),e=a.optionsValues.split("\n"),f=[],g=0;g<b.length;g++)f.push(c.create(e[g],b[g]));return f},getDefaultValue:function(){return this.properties().defaultValue()},getDefaultValueOptions:function(){return this.getOptions()}})}),define("OptionsResolverFactory",["require","Class","DynamicOptionsResolver","ConnectorOptionsResolver","ConnectorResolver","ListConnectorResolver","RestOptionsResolver","StaticOptionsResolver"],function(a){"use strict";var b=a("Class"),c=a("DynamicOptionsResolver"),d=a("ConnectorOptionsResolver"),e=a("ConnectorResolver"),f=a("ListConnectorResolver"),g=a("RestOptionsResolver"),h=a("StaticOptionsResolver");return b.subClass({},{createResolver:function(a,b,c,d){return(0,this[a])(a,b,c,d)},STATIC:function(a,b,c){return new h(a,b,c)},REST:function(a,b,c,d){return new g(a,b,c,d)},DYNAMIC:function(a,b,d){return new c(a,b,d)},CONNECTOR:function(a,b,c,e){return new d(a,b,c,e)},LIST_CONNECTOR:function(a,b,c,d){return new f(a,b,c,d)},EVENT_CONNECTOR:function(a,b,c,d){return new e(a,b,c,d)}})}),define("LoVMappingAutoComplete",["require","Class"],function(a){"use strict";return a("Class").subClass({createAutoCompletes:function(a,b){},initialize:function(a,b){}},{})}),define("EventsQueue",["require","Class","FormsLogger","knockout"],function(a){"use strict";var b=a("Class"),c=a("FormsLogger"),d=a("knockout");return b.subClass({},{eventDepthCount:0,currentPromise:!1,init:function(){this.eventDepthCount=0,this.resolvedPromises=0,this.isExecuting=d.observable(!1);var a=this;a.execute=function(b,d){if(b.viewModel.form()&&b.viewModel.form().loadEventsExecuted())return a.eventDepthCount>1e3?void console.error("User Events Error: Too many recursive events. Aborting."):(a.eventDepthCount++,a.isExecuting(!0),setTimeout(function(){c.getLogger().count("[COUNT] [EVENT]");var e=b.executeEvent(d.value);1===a.eventDepthCount&&(a.resolvedPromises=0),e.then(function(){++a.resolvedPromises===a.eventDepthCount&&(a.eventDepthCount=0,a.resolvedPromises=0,a.isExecuting(!1))})}),!0)}},resolveWhenEmpty:function(){var a=this;return new Promise(function(b,c){if(a.isExecuting())var d=a.isExecuting.subscribe(function(){d.dispose(),b()});else b()})}})}),define("ObservablePayloadContext",["require","Class","knockout","ControlTypeId","underscore"],function(a){"use strict";var b=a("Class"),c=a("knockout"),d=a("ControlTypeId"),e=a("underscore");return b.subClass({},{controlBindings:{},init:function(a,b){this.controlBindings=a||{},this.bindingContext=c.unwrap(b)||""},_getParentWithBinding:function(a){for(var b=a.getParent();b.type!==d.FORM_PRESENTATION&&!b.isRepeatable()&&!b._bindingValue;)b=b.getParent();return b},getBindingControlFor:function(a){var b=this._getParentWithBinding(a);return b._bindingValue?b._bindingValue:c.unwrap(this.controlBindings)},getFullBindingContextFor:function(a){var b=this.getBindingControlFor(a),f=this._getParentWithBinding(a),g=this.bindingContext;return f.isRepeatable()||e.isArray(c.unwrap(b[g]))?"":f.type===d.FORM_PRESENTATION?(g.length>0&&(g+="."),g+a.getFullBinding()):a.properties.binding()},_getObservable:function(a,b,d){var f=this.getBindingControlFor(a),g=this.getFullBindingContextFor(a);return e.isEmpty(g)?c[b](d):(e.isUndefined(f[g])?f[g]=c[b](d):c.isObservable(f[g])||(f[g]=c[b](c.unwrap(f[g]))),f[g])},getObservableForBinding:function(a){return this._getObservable(a,"observable")},getObservableArrayForBinding:function(a){return this._getObservable(a,"observableArray",[])},getObservableValue:function(a,b){return!this.isObservableDefined(a)&&b&&(this.controlBindings[a]=c.observable(this.controlBindings[a])),this.controlBindings[a]},isObservableDefined:function(a){return c.isObservable(this.controlBindings[a])},setValue:function(a,b){this.isObservableDefined(a)?this.controlBindings[a](b):this.controlBindings[a]=b}})}),define("Reference",["require","Class"],function(a){"use strict";return a("Class").subClass({},{init:function(a){this._reference=a},get:function(){throw new Error("This function must be overridden")}})}),define("StaticFormReference",["require","Reference","knockout"],function(a){"use strict";var b=a("Reference"),c=a("knockout");return b.subClass({},{init:function(a){this._super(a),this.formId=c.observable(a.formId),this.formName=c.observable(a.formName),this.presentationId=c.observable(a.presentationId),this.icon=c.observable(a.icon)},get:function(){return{formId:this.formId(),formName:this.formName(),presentationId:this.presentationId(),icon:this.icon()}}})}),define("FormReferenceFactory",["require","Class","StaticFormReference"],function(a){"use strict";var b=a("Class"),c=a("StaticFormReference"),d="CREATE_",e=b.subClass({create:function(a){var b=a.type||"STATIC",c=e[d+b];if(c)return c(a);throw new Error("Unsupported reference type exception")},CREATE_STATIC:function(a){return new c(a)}},{});return e}),define("DecoratorsCatalog",["require","Class","underscore"],function(a){"use strict";var b=a("Class"),c=a("underscore");return b.subClass({},{init:function(){this._decorators={}},addToControl:function(a,b){var d=this.getDecorators(a);c.each(d,function(c){c.decorate(a,b)})},registerDecorator:function(a,b){b||(b="all");var d={};d[b]=[],c.defaults(this._decorators,d),this._decorators[b].push(a)},getDecorators:function(a){return c.union([],this._decorators.all,this._decorators[a.type])}})}),define("ControlDecorator",["require","Class","underscore"],function(a){"use strict";var b=a("Class"),c=a("underscore");return b.subClass({},{init:function(a,b){this.id=a,this._dependencies=b||[]},decorate:function(a,b){c.each(this.dependencies(),function(b){if(!b.isApplied(a))throw new Error("Need "+b.id+"to use decorator:"+this.id)},this),this._decorate(a,b)},_decorate:function(a,b){throw new Error("Unsupported Operation Exception")},dependencies:function(){return this._dependencies},isApplied:function(a){throw new Error("Unsupported Operation Exception")}})}),define("MinLengthValidator",["require","ojs/ojcore","ojL10n!rendererMsg/nls/renderer"],function(a){"use strict";var b=a("ojs/ojcore"),c=a("ojL10n!rendererMsg/nls/renderer"),d=function(a){this.validate=function(d){var e=a.minLength();if(d.length<e&&d.length>0)throw new b.ValidatorError(c.MIN_LENGTH_VALIDATION_MESSAGE_SUMMARY,c.MIN_LENGTH_VALIDATION_MESSAGE_DETAIL+e);return!0}};return b.Object.createSubclass(d,b.Validator,"MinLengthValidator"),d}),define("MaxLengthValidator",["require","ojs/ojcore","ojL10n!rendererMsg/nls/renderer"],function(a){"use strict";var b=a("ojs/ojcore"),c=a("ojL10n!rendererMsg/nls/renderer"),d=function(a){this.validate=function(d){var e=a.maxLength();if(d.length>e)throw new b.ValidatorError(c.MAX_LENGTH_VALIDATION_MESSAGE_SUMMARY,c.MAX_LENGTH_VALIDATION_MESSAGE_DETAIL+e);return!0}};return b.Object.createSubclass(d,b.Validator,"MaxLengthValidator"),d}),define("RequiredValidator",["require","ojs/ojcore"],function(a){"use strict";var b=a("ojs/ojcore"),c=function(a){this.validate=function(c){if(a.required()){b.Validation.validatorFactory(b.ValidatorFactory.VALIDATOR_TYPE_REQUIRED).createValidator().validate(c)}}};return b.Object.createSubclass(c,b.Validator,"RequiredValidator"),c}),define("OptionsFeedValidator",["require","ojs/ojcore"],function(a){"use strict";var b=a("ojs/ojcore"),c=function(a){this.validate=function(){var c=a.optionsFeed().optionsResolver().customValidationMessages();if(c.length>0){var d=c[0];throw new b.ValidatorError(d.summary,d.detail)}return!0}};return b.Object.createSubclass(c,b.Validator,"OptionsFeedValidator"),c}),define("PatternValidator",["require","ojs/ojcore","jquery","ojL10n!rendererMsg/nls/renderer"],function(a){"use strict";var b=a("ojs/ojcore"),c=a("jquery"),d=a("ojL10n!rendererMsg/nls/renderer"),e=function(a){this.validate=function(e){var f=a.pattern(),g=new RegExp(f);if(c.trim(e)&&!g.test(e)){var h=a.patternMessage()||d.PATTERN_VALIDATION_MESSAGE_DETAIL+f;throw new b.ValidatorError(d.PATTERN_VALIDATION_MESSAGE_SUMMARY,h)}return!0}};return b.Object.createSubclass(e,b.Validator,"PatternValidator"),e}),define("ValidatorFactory",["require","Class","MinLengthValidator","MaxLengthValidator","RequiredValidator","OptionsFeedValidator","PatternValidator"],function(a){"use strict";var b=a("Class"),c=a("MinLengthValidator"),d=a("MaxLengthValidator"),e=a("RequiredValidator"),f=a("OptionsFeedValidator"),g=a("PatternValidator"),h="CREATE_",i=b.subClass({createValidator:function(a,b){var c=i[h+a];if(c)return c(b);throw new Error("Unsupported operation exception")},CREATE_MIN_LENGTH:function(a){return new c(a)},CREATE_MAX_LENGTH:function(a){return new d(a)},CREATE_PATTERN:function(a){return new g(a)},CREATE_OPTIONS_FEED:function(a){return new f(a)},CREATE_REQUIRED:function(a){return new e(a)}},{});return i}),define("NumberValidator",["require","ojs/ojcore"],function(a){"use strict";var b=a("ojs/ojcore"),c=function(){this.validate=function(a){b.Validation.converterFactory(b.ConverterFactory.CONVERTER_TYPE_NUMBER).createConverter().parse(a)}};return b.Object.createSubclass(c,b.Validator,"NumberValidator"),c}),define("DateValidator",["require","ojs/ojcore"],function(a){"use strict";var b=a("ojs/ojcore"),c=function(a){this.validate=function(b){a.dateConverter().parse(b)}};return b.Object.createSubclass(c,b.Validator,"DateValidator"),c}),define("MoneyValidator",["require","ojs/ojcore"],function(a){"use strict";var b=a("ojs/ojcore"),c=function(a){this.validate=function(c){b.Validation.converterFactory(b.ConverterFactory.CONVERTER_TYPE_NUMBER).createConverter(a.converterOptions()).parse(c)}};return b.Object.createSubclass(c,b.Validator,"DateValidator"),c}),define("DateRangeValidator",["require","ojs/ojcore"],function(a){"use strict";var b=a("ojs/ojcore"),c=function(a){this.validate=function(c){var d=a.dateConverter();b.Validation.validatorFactory(b.ValidatorFactory.VALIDATOR_TYPE_DATETIMERANGE).createValidator({min:a.minValue(),max:a.maxValue(),converter:d}).validate(c)}};return b.Object.createSubclass(c,b.Validator,"DateValidator"),c}),define("NumberRangeValidator",["require","ojs/ojcore"],function(a){"use strict";var b=a("ojs/ojcore"),c=function(a){this.validate=function(c){var d=a.minValue(),e=a.maxValue(),f={};d&&(f.min=d),e&&(f.max=e),b.Validation.validatorFactory(b.ValidatorFactory.VALIDATOR_TYPE_NUMBERRANGE).createValidator(f).validate(c)}};return b.Object.createSubclass(c,b.Validator,"DateValidator"),c}),define("TypeValidatorFactory",["require","Class","NumberValidator","DateValidator","MoneyValidator","DateRangeValidator","NumberRangeValidator"],function(a){"use strict";var b=a("Class"),c=a("NumberValidator"),d=a("DateValidator"),e=a("MoneyValidator"),f=a("DateRangeValidator"),g=a("NumberRangeValidator"),h="CREATE_",i=b.subClass({createValidators:function(a,b){var c=[],d=i[h+a];return d&&(c=d(b)),c},CREATE_DATE:function(a){return[new d(a),new f(a)]},CREATE_DATE_TIME:function(a){return i.CREATE_DATE(a)},CREATE_TIME:function(a){return i.CREATE_DATE(a)},CREATE_NUMBER:function(a){return[new c(a),new g(a)]},CREATE_MONEY:function(a){return[new e(a),new g(a)]}},{});return i}),define("ValidatorTypeId",[],function(){"use strict";return{MIN_LENGTH:"MIN_LENGTH",MAX_LENGTH:"MAX_LENGTH",PATTERN:"PATTERN",OPTIONS_FEED:"OPTIONS_FEED",REQUIRED:"REQUIRED"}}),define("ValidatorBuilder",["require","Class","koToJSUtil","underscore","StringUtils","ValidatorFactory","TypeValidatorFactory","ValidatorTypeId"],function(a){"use strict";var b=a("Class"),c=a("koToJSUtil"),d=a("underscore"),e=a("StringUtils"),f=a("ValidatorFactory"),g=a("TypeValidatorFactory"),h=a("ValidatorTypeId");return b.subClass({getValidators:function(a,b){var g=[],i=c.toJS(a);return d.each(i,function(c,i){i=e.underscored(i).toUpperCase()
;var j=!d.isEmpty(c)||c>0;h.hasOwnProperty(i)&&j&&b.indexOf(i)<0&&g.push(f.createValidator(h[i],a))},this),g},getValidatorsForType:function(a,b){return g.createValidators(a,b)}},{})}),define("ValidationDecorator",["require","ControlDecorator","ValidatorBuilder","ValidatorTypeId","ValidatorFactory","underscore"],function(a){"use strict";var b=a("ControlDecorator"),c=a("ValidatorBuilder"),d=a("ValidatorTypeId"),e=a("ValidatorFactory"),f=a("underscore");return b.subClass({},{init:function(a){this._super("VALIDATION",a)},_decorate:function(a){a.silentlyValidated=!1,a.validators=c.getValidators(a.properties,[d.REQUIRED]),a.registerRenderListener(function(a){a.silentlyValidated&&a.validate()}),a.validate=function(){var b;return a.rendered()?b=this._validateComponent(a):(a.silentlyValidated=!0,b=this._validateSilently(a)),a.isValid(b),b}.bind(this)},_validateComponent:function(a){throw"Must be overwritten"},_validateSilently:function(a){var b=!0,d=[e.CREATE_REQUIRED(a.properties)],g=c.getValidatorsForType(a.type,a.properties);d=d.concat(g);var h=f.union(a.validators,d);return f.each(h,function(c){try{c.validate(a.value()),a._rawValue&&c.validate(a._getRawValue())}catch(a){b=!1}return b}),b&&0===this._getDeferredCustomMessages(a).length},_getDeferredCustomMessages:function(a){var b=[],c=a.getOjComponent()();return f.each(c,function(a){"option"===a[0]&&"messagesCustom"===a[1]&&void 0!==a[2]&&b.push(a[2])}),b},isApplied:function(a){return a.hasOwnProperty("silentlyValidated")}})}),define("JetValidationDecorator",["require","ValidationDecorator"],function(a){"use strict";return a("ValidationDecorator").subClass({},{init:function(a){this._super(a)},_decorate:function(a){this._super(a),a.afterOjComponentInit=this._addValidationOptionChange.bind(this,a)},_componentValidation:function(a){return a("validate")},_validateComponent:function(a){var b=a.getOjComponent();if(b.isNotLoaded)return this._validateSilently(a);var c=b("option","messagesCustom"),d=!1,e=!1;b("option","disabled")&&(b("option","disabled",!1),d=!0),b("option","readOnly")&&(b("option","readOnly",!1),e=!0);var f=this._componentValidation(b);return e&&b("option","readOnly",!0),d&&b("option","disabled",!0),b("option","messagesCustom",c),f&&0===c.length},_addValidationOptionChange:function(a){a.getOjComponent()("option","messagesShown")&&a.getOjComponent()({optionChange:function(b,c){a._isValidating||"messagesShown"!==c.option||(a._isValidating=!0,setTimeout(function(){a.isValid(a.validate()),setTimeout(function(){delete a._isValidating})}))}})}})}),define("FormValidator",["require","Class","underscore","knockout"],function(a){"use strict";var b=a("Class"),c=a("underscore"),d=a("knockout");return b.subClass({},{init:function(){},validate:function(a,b){var d=!0,e=this._filterControls(a),f=this;return c.each(e,function(a){d=f._validateControl(d,b,a)}),this._checkTracker(b,d)},validateControl:function(a,b){return this.validate([a],b)},_filterControls:function(a){return c.filter(a,function(a){return a.properties&&a.validate})},_validateControl:function(a,b,c){return c.validate()&&a},_checkTracker:function(a,b){var c=d.utils.unwrapObservable(a.tracker);return c&&c.showMessages(),b}})}),define("RepeatableValidationDecorator",["require","ValidationDecorator","underscore","FormValidator","TreeUtil"],function(a){"use strict";var b=a("ValidationDecorator"),c=a("underscore"),d=a("FormValidator"),e=a("TreeUtil");return b.subClass({},{init:function(a){this._super(a)},_validateComponent:function(a){var b=e.treeToList(a.dataSource(),"getControls"),f=!0,g=new d;return c.each(b,function(a){f=g.validateControl(a,a.context)&&f}),f},_validateSilently:function(a){var b=!0,d=e.treeToList(a.dataSource(),"getControls");d=c.filter(d,function(a){return a.validate});var f=this._super.bind(this);return c.each(d,function(a){b=f(a)&&b}),b}})}),define("SilentLoader",["require","RendererViewModel"],function(a){"use strict";return{load:function(b){var c=a("RendererViewModel"),d={value:b},e=new c(d);return e.form().initPayloadAndRunEvents(),e}}}),define("FormReferenceValidationDecorator",["require","ValidationDecorator","SilentLoader","underscore","jquery"],function(a){"use strict";var b=a("ValidationDecorator"),c=a("SilentLoader"),d=a("underscore"),e=a("jquery");return b.subClass({},{init:function(a){this._super(a)},_decorate:function(a){this._super(a),a._silentForm=d.extend({},d.clone(a.selectedPresentation()))},_validateComponent:function(a){return e("#"+a.domIdPrefix+a.id).triggerHandler("validateData")},_validateSilently:function(a){return a._silentForm.payload=a.getControlValue(),a._silentModel=c.load({form:a._silentForm,config:d.clone(a.getConfig())}),!a._silentModel||a._silentModel.validateData()}})}),define("LazyRenderingDecorator",["require","ControlDecorator","knockout","underscore"],function(a){"use strict";var b=a("ControlDecorator"),c=a("knockout"),d=a("underscore");return b.subClass({},{init:function(){this._super("LAZY_RENDERING")},_decorate:function(a,b){a.renderListeners=[],a.rendered=c.observable(!1),a.registerRenderListener=function(b){a.renderListeners.push(b)},a.detachRenderListener=function(b){a.renderListeners.splice(this.renderListeners.indexOf(b),1)},a.afterRender=function(){a.rendered(!0);var c=[];d.each(a.renderListeners,function(d){d(a,b)&&c.push(d)}),d.each(c,function(b){a.detachRenderListener(b)})}},isApplied:function(a){return a.hasOwnProperty("rendered")}})}),define("TabRenderingDecorator",["require","ControlDecorator","knockout"],function(a){"use strict";var b=a("ControlDecorator"),c=a("knockout");return b.subClass({},{init:function(a){this._super("LAZY_RENDERING",a)},_decorate:function(a){a.rendered=c.observable(!a.properties.lazyLoading())},isApplied:function(a){return a.hasOwnProperty("rendered")}})}),define("TabContainerRenderingDecorator",["require","ControlDecorator"],function(a){"use strict";return a("ControlDecorator").subClass({},{init:function(a){this._super("LAZY_RENDERING",a)},_decorate:function(a){var b=0;a._renderSelectedTab=function(c){var d=a.controls()[c];d&&d.rendered&&!d.rendered()&&(d.rendered(!0),b+=1)};var c=a.properties.selectedPosition.subscribe(function(d){a._renderSelectedTab(d),b===a.controls().length&&c.dispose()}),d=function(){return a._renderSelectedTab(a.properties.selectedPosition()),!0};a.registerRenderListener(d)},isApplied:function(a){return a.hasOwnProperty("_renderSelectedTab")}})}),define("SectionRenderingDecorator",["require","ControlDecorator","knockout"],function(a){"use strict";var b=a("ControlDecorator"),c=a("knockout");return b.subClass({},{init:function(){this._super("LAZY_RENDERING")},_decorate:function(a){var b=a.properties.lazyLoading();if(a.renderContent=c.observable(!b),b){a.properties.expanded(!1);var d=a.properties.expanded.subscribe(function(){a.renderContent(!0),d.dispose()})}},isApplied:function(a){return a.hasOwnProperty("renderContent")}})}),define("SectionAsyncRenderCallbackDecorator",["require","ControlDecorator"],function(a){"use strict";return a("ControlDecorator").subClass({},{init:function(){this._super("ASYNC_RENDER_CALLBACK")},_decorate:function(a){a.registerAsyncTemplate=function(b,c){var d=b.registerAsyncTemplate(b,c);return function(){a._refresh(),d()}}},isApplied:function(a){return a.hasOwnProperty("registerAsyncTemplate")}})}),define("TimeValidationDecorator",["require","JetValidationDecorator"],function(a){"use strict";return a("JetValidationDecorator").subClass({},{init:function(a){this._super(a)},_decorate:function(a){this._super(a)},_componentValidation:function(a){return a("validate"),a("isValid")}})}),define("RawDataDecorator",["require","ControlDecorator"],function(a){"use strict";return a("ControlDecorator").subClass({},{init:function(a){this._super("INPUT_DECORATOR",a)},_decorate:function(a){var b=function(a){return a._rawValue&&(a.setValue(a._rawValue),delete a._rawValue),!0};a.registerRenderListener(b)},isApplied:function(a){return a.hasOwnProperty("rendered")}})}),define("VideoValueDecorator",["require","ControlDecorator","knockout"],function(a){"use strict";function b(a,b,c,d){var g,h,i="";return h=e.exec(a),h&&(g=h[2],i="https://player.vimeo.com/video/"+g),h=f.exec(a),h&&(g=h[2],i="https://www.youtube.com/embed/"+g),i&&(i=i+"?loop="+Number(b)+"&controls="+Number(c),b&&(i+="&playlist="+g),i+="&autoplay="+Number(d)),i}var c=a("ControlDecorator"),d=a("knockout"),e=/vimeo\.com\/(video\/)?(.*)/,f=/(youtu\.be\/|youtube\.com\/watch\?v=|youtube.com\/embed\/)(.*)/;return c.subClass({},{init:function(a){this._super("VIDEO_VALUE",a)},_parseVideoLink:b,_decorate:function(a){var b=this;a.properties.parsedVideoSrcLink=d.pureComputed(function(){return b._parseVideoLink(this.getControlValue(),this.properties.loop(),this.properties.showControls(),this.properties.autoPlay())},a)},isApplied:function(a){return a.properties.hasOwnProperty("parsedVideoSrcLink")}})}),define("ValueHelper",["require","jquery","knockout","underscore","ojs/ojcore"],function(a){"use strict";function b(a){return e.unwrap(a.rendered)}function c(a,c,e){if(b(a)){var f=d(a.domId);f.val(e),"ojInputTime"===c&&""===e||!f[c]("instance")||f[c]("validate"),g.ComponentBinding.deliverChanges()}else a._rawValue=e}var d=a("jquery"),e=a("knockout"),f=a("underscore"),g=a("ojs/ojcore");return{getRawValue:function(a){return b(a)?d(a.domId).val():a._rawValue},setNumber:function(a,d){isNaN(d)?c(a,"ojInputNumber",d):(a.value(d),b(a)||(a._rawValue=a.value()))},setDate:function(a,d,e,f){try{a.value(e.parse(f)),b(a)||(a._rawValue=a.value())}catch(b){c(a,d,f)}},setRawValue:function(a,b,d){c(a,b,d)},isNullEmptyOrUndefined:function(a){return f.isNull(a)||f.isUndefined(a)||f.isArray(a)&&0===a.length||!f.isArray(a)&&""===a}}}),define("ValueDecorator",["require","ControlDecorator","knockout","ValueHelper"],function(a){"use strict";var b=a("ControlDecorator"),c=a("knockout"),d=a("ValueHelper");return b.subClass({},{init:function(a){this._super("VALUE",a)},_decorate:function(a){this._doDecorate(a),a.initValue(a.value())},_doDecorate:function(a){a.rawValue=c.observable(),"FORM_REFERENCE"!==a.type?a.value=a.context.payloadContext.getObservableForBinding(a):a.value=c.observable({}),a._isNullEmptyOrUndefined=function(a){return d.isNullEmptyOrUndefined(a)},a.getControlValue=function(){var b=a._getRawValue(),d=c.utils.unwrapObservable(a.value);return!a.validate||a.validate()||(d=b),d},a.initValue=function(b){var d=a._isNullEmptyOrUndefined(b)?c.unwrap(a.properties.defaultValue):b;a.setValue(d)},a.setValue=function(b){a.rendered&&a.rendered()?a.getOjComponent()("option","value",b):a.rawValue(b),a.value(b)},a._getRawValue=function(){return c.utils.unwrapObservable(a.rawValue)}},isApplied:function(a){return a.hasOwnProperty("value")}})}),define("IdentityValueDecorator",["require","ValueDecorator"],function(a){"use strict";return a("ValueDecorator").subClass({},{init:function(a){this._super(a)},_doDecorate:function(a){this._super(a),a.__superSetValue=a.setValue,a.setValue=function(b){"string"==typeof b&&(b=[]),a.__superSetValue(b)},a.ojIdentityObj.value=a.value}})}),define("CheckboxValueDecorator",["require","ValueDecorator","underscore"],function(a){"use strict";var b=a("ValueDecorator"),c=a("underscore");return b.subClass({},{init:function(a){this._super(a)},_doDecorate:function(a){this._super(a),a.setValue=function(b){c.isArray(b)&&(b="true"===b[0]),a.value(b),a.getOjComponent()("option","value",[!!b+""])},a.value.subscribe(function(b){a.setValue(b)})}})}),define("JSONConverter",["require","Class","underscore"],function(a){"use strict";function b(a){return a.replace(/\./g,"\\.")}function c(a){return a.replace(/\\\./g,".")}function d(a){var b=a.match(g);return{first:c(b[0]),rest:b.slice(1).join(".")}}var e=a("Class"),f=a("underscore"),g=/((?:\\\.|[^\.])+)/g;return e.subClass({},{init:function(){},toKeyValue:function(a){var c;return f.isArray(a)?(c=[],f.each(a,function(a){c.push(this.toKeyValue(a))},this)):f.isObject(a)?(c={},f.each(a,function(a,d){this._setKeyValue(c,b(d),a)},this)):c=a,c},toJSON:function(a){var b;return f.isArray(a)?(b=[],f.each(a,function(a){b.push(this.toJSON(a))},this)):f.isObject(a)?(b={},f.each(a,function(a,c){var e=d(c);this._setJSON(b,e.first,e.rest,a)},this)):b=a,b},_setKeyValue:function(a,c,d){f.isArray(d)?a[c]=this.toKeyValue(d):f.isObject(d)?f.size(d)>0?f.each(d,function(d,e){var f=c+"."+b(e);this._setKeyValue(a,f,d)},this):a[c]={}:a[c]=d},_setJSON:function(a,b,c,e){if(f.isEmpty(c))f.isArray(e)?(a[b]=[],f.each(e,function(c){a[b].push(this.toJSON(c))},this)):a[b]=e;else{a[b]=a[b]||{};var g=d(c);this._setJSON(a[b],g.first,g.rest,e)}}})}),define("Payload",["require","underscore","jquery","knockout","JSONConverter","TreeUtil","ControlTypeId","Class"],function(a){"use strict";var b=a("underscore"),c=a("jquery"),d=a("knockout"),e=a("JSONConverter"),f=a("TreeUtil"),g=a("ControlTypeId"),h=a("Class"),i=new e;return h.subClass({},{convertJSON:!1,payloadContext:{},init:function(a,b){this._schema=a.payload||{},b&&(this.convertJSON=b.config().convertJSON,this.convertJSON&&(this._schema=i.toKeyValue(this._schema)),this.payloadContext=b.payloadContext)},updateBindings:function(a){var c=b.filter(f.treeToList(a(),"getControls"),function(a){return a.properties&&a.properties.isBindable()});this.doUpdateBindings(c)},doUpdateBindings:function(a){b.each(a,function(a){var c=d.utils.unwrapObservable(a.properties.binding);if(c&&""!==c.trim())if(a.type===g.FORM_REFERENCE&&a.isValidReference()){var e=a.getBindings();b.each(b.keys(e),function(a){this.setBindingValue([c+"."+a],e[a])},this)}else{var f=a.getControlValue();this.setBindingValue(c,f)}},this)},getBindings:function(){return c.extend(!0,{},this._schema)},getBindingValue:function(a){return this._schema&&this._schema[a]},setBindingValue:function(a,b){this._schema[a]=b},toJS:function(){var a=this._schema;return this.convertJSON&&(a=i.toJSON(a)),a}})}),define("PayloadUtil",["require","Class","underscore","knockout","ControlTypeId","StringUtils"],function(a){"use strict";var b=a("Class"),c=a("underscore"),d=a("knockout"),e=a("ControlTypeId"),f=a("StringUtils"),g=b.subClass({initValueFromPayload:function(a,b){var c=g.getControlValueFromPayload(a,b);a.hasOwnProperty("value")&&a.initValue(d.unwrap(c))},getControlValueFromPayload:function(a,b){var d;if(a.properties.isBindable()&&!c.isEmpty(a.properties.binding()))if(a.type===e.FORM_REFERENCE){d={};var g=a.properties.binding()+".";c.each(c.keys(b),function(a){if(f.startsWith(a,g)){var c=a.substring(g.length);d[c]=b[a]}},this)}else a.type===e.LINK?(d={},d.value=b[a.properties.binding()],"true"===a.properties.isLabelBindable()&&(d.label=b[a.properties.labelBinding()])):d=b[a.properties.binding()];return c.isUndefined(d)?null:d}},{});return g}),define("RepeatableRowValueDecorator",["require","ControlDecorator","Payload","knockout","PayloadUtil","underscore"],function(a){"use strict";var b=a("ControlDecorator"),c=a("Payload"),d=a("knockout"),e=a("PayloadUtil"),f=a("underscore");return b.subClass({},{init:function(a){this._super("VALUE",a)},_decorate:function(a){a.setValue=function(b){f.each(a.getAllControls(!0),function(a){e.initValueFromPayload(a,b)})},a.initRow=function(b,c){c.properties.fromConnector()?a.setValue(b):a.initValue(b)},a.initValue=function(b){a._payload=new c({payload:b}),a.setValue(b)},a.getControlValue=function(){var b=a._payload||new c({});return b.doUpdateBindings(a.getAllControls(!0)),b.getBindings()},a.isRowSelected=d.pureComputed({read:function(){return f.contains(a._parent.selectedRows(),a)},write:function(b){var c=a.isRowSelected();b&&!c?a._parent.properties.multipleSelection()?a._parent.selectedRows.push(a):a._parent.selectedRows([a]):!b&&c&&a._parent.selectedRows.remove(a)}})},isApplied:function(a){return a.hasOwnProperty("getControlValue")}})}),define("FormReferenceValueDecorator",["require","ValueDecorator"],function(a){"use strict";return a("ValueDecorator").subClass({},{init:function(a){this._super(a)},_decorate:function(a){this._super(a),a.getControlValue=function(){return a.value()}}})}),define("SelectValueDecorator",["require","ValueDecorator","knockout","underscore"],function(a){"use strict";var b=a("ValueDecorator"),c=a("knockout"),d=a("underscore");return b.subClass({},{init:function(a){this._super(a)},_doDecorate:function(a){this._super(a),a.getControlValue=function(){var b=a.value();return null!==b&&!c.unwrap(a.properties.multiple)&&d.isArray(b)&&(b=b[0]||null),b},a.__superSetValue=a.setValue,a.setValue=function(b){d.isArray(b)?a.__superSetValue(b):a.__superSetValue([b])}}})}),define("LinkValueDecorator",["require","ValueDecorator","knockout"],function(a){"use strict";var b=a("ValueDecorator"),c=a("knockout");return b.subClass({},{init:function(a){this._super(a)},_doDecorate:function(a){this._super(a),a.getControlValue=function(){var b={value:c.utils.unwrapObservable(a.value)};return"true"!==a.properties.isLabelBindable()||a._isNullEmptyOrUndefined(a.properties.labelBinding())||(b.label=c.utils.unwrapObservable(a.properties.labelVal)),b},a.initValue=function(a){var b=this.properties.anchor()?this.resolvePreviewId(c.utils.unwrapObservable(this.properties.defaultOption)[0]):c.utils.unwrapObservable(this.properties.defaultValue),d=this._isNullEmptyOrUndefined(a)||this._isNullEmptyOrUndefined(a.value)?b:a.value;this.setValue(d);var e=this._isNullEmptyOrUndefined(a)||this._isNullEmptyOrUndefined(a.label)?c.utils.unwrapObservable(this.properties.defaultLabel):a.label;this.setLabelVal(e)}}})}),define("DateValueDecorator",["require","ValueDecorator","ValueHelper"],function(a){"use strict";var b=a("ValueDecorator"),c=a("ValueHelper");return b.subClass({},{init:function(a){this._super(a)},_doDecorate:function(a){this._super(a),a.setValue=function(b){c.setDate(a,"ojInputDate",a.properties.dateConverter(),b)},a._getRawValue=function(){return c.getRawValue(a)}}})}),define("TimeValueDecorator",["require","ValueDecorator","ValueHelper"],function(a){"use strict";var b=a("ValueDecorator"),c=a("ValueHelper");return b.subClass({},{init:function(a){this._super(a)},_doDecorate:function(a){this._super(a),a.setValue=function(b){c.setRawValue(a,"ojInputTime",b)},a._getRawValue=function(){return c.getRawValue(a)}}})}),define("NumberValueDecorator",["require","ValueDecorator","ValueHelper"],function(a){"use strict";var b=a("ValueDecorator"),c=a("ValueHelper");return b.subClass({},{init:function(a){this._super(a)},_doDecorate:function(a){this._super(a),a.setValue=function(b){c.setNumber(a,b)},a._getRawValue=function(){return c.getRawValue(a)}}})}),define("RepeatableValueDecorator",["require","ControlDecorator","knockout","koToJSUtil","DotExpressionResolver","EventsId","underscore"],function(a){"use strict";function b(a,b){var c=a.createRow(b);a.eventsQueue.execute(c,i.ON_ADD_ROW),a.dataSource.push(c)}function c(a,b){var c=a.dataSource()[b];c.indexBeforeRemove=b,a.eventsQueue.execute(c,i.ON_REMOVE_ROW),a.dataSource.remove(c),a.selectedRows([])}function d(a){var b=[];j.each(a.properties.optionsFeed().optionsResolver()._options(),function(c){var d={};j.each(a._getAllBindableControls(),function(a){d[a.properties.binding()]=h.getPCSCompatibleValue(c,a.properties.connectorMapping())}),b.push(d)}),a.setValue(b),a.executeEvent(i.ON_CHANGE.value)}var e=a("ControlDecorator"),f=a("knockout"),g=a("koToJSUtil"),h=a("DotExpressionResolver"),i=a("EventsId"),j=a("underscore");return e.subClass({},{init:function(a){this._super("VALUE",a)},_decorate:function(a){a.dataSource=f.observableArray([]),a.dataSourcePage=f.pureComputed(function(){return a.dataSource()}),a.getRows=function(){return a.dataSource()},a.value=a.context.payloadContext.getObservableArrayForBinding(a),a.addRow=function(){a.value.push({})},a.removeRow=function(b){var c=a.dataSource().indexOf(b);a.value.remove(a.value()[c])},a.removeSelectedRow=function(){var b=a.value();j.each(a.selectedRows(),function(c){var d=a.dataSource().indexOf(c);b=j.without(b,a.value()[d])}),a.value(b)},a.getControlValue=function(){return g.toJS(a.value())},a.getSelectedRows=function(){var b=a.selectedRows();return a.properties.multipleSelection()?j.sortBy(b,function(b){return a.dataSource.indexOf(b)}):b.length>0?b[0]:[]},a.setValue=function(b){var c=[];j.each(j.first(b,a.properties.maxRows()),function(a){c.push(a||{})},this),a.value(c)},a.initValue=function(b){a.properties.fromConnector()||a.setValue(b)},a.value.subscribe(function(d){j.each(j.sortBy(d,function(a){return-a.index}),function(b){"deleted"===b.status&&c(a,b.index)}),j.each(d,function(c){"added"===c.status&&b(a,c.value)})},a,"arrayChange"),j.each(a.value(),function(c){b(a,c)}),a.getContextForChildren=function(a){var b=this.getRows().indexOf(a);return b>-1?this.getBindingContext()+this.properties.binding()+"["+b+"].":this.getBindingContext()+this.properties.binding()+"."},a.properties.fromConnector()&&!a._restSubscription&&(a._restSubscription=a.properties.optionsFeed().optionsResolver()._options.subscribe(d.bind(this,a)))},isApplied:function(a){return a.hasOwnProperty("value")}})}),define("BuildFormReferenceDecorator",["require","ControlDecorator","underscore"],function(a){"use strict";var b=a("ControlDecorator"),c=a("underscore");return b.subClass({},{init:function(a){this._super(a)},_decorate:function(a){a._buildForm=function(b,d){return c.extend(d,{eventActions:b.eventActions,calls:b.calls,payload:a.getControlValue()})}}})}),define("ReferenceLazyRenderingDecorator",["require","ControlDecorator","SilentLoader","knockout","underscore"],function(a){"use strict";var b=a("ControlDecorator"),c=a("SilentLoader"),d=a("knockout"),e=a("underscore");return b.subClass({},{init:function(a){this._super("REFERENCE_LAZY_DECORATOR",a)},_decorate:function(a){var b=a.getBindings;a.getBindings=function(){return a.rendered()?b.call(a):(a._silentModel=c.load({form:e.clone(a.selectedPresentation()),config:e.clone(a.getConfig())}),a._silentModel.getBindings())};var f=a.rendered;a.rendered=d.pureComputed({read:function(){return f()&&a.controlsLoaded()},write:function(a){f(a)}})},isApplied:function(a){return a.hasOwnProperty("getBindings")}})}),define("DecoratorsMap",["require","ControlTypeId"],function(a){"use strict";var b=a("ControlTypeId"),c={};return c[b.INPUT_TEXT]=["label","defaultValue","placeHolder","hint","help"],c[b.TEXT_AREA]=["label","defaultValue","placeHolder","hint","help"],c[b.BUTTON]=["label"],c[b.SELECT]=["label","placeHolder","hint","help"],c[b.CHECKLIST]=["label","help"],c[b.CHECKBOX]=["label","help"],c[b.RADIO_BUTTON]=["label","help"],c[b.NUMBER]=["label","hint","help"],c[b.DATE]=["label","placeHolder","help"],c[b.TIME]=["label","placeHolder","help"],c[b.DATE_TIME]=["label","placeHolder","help"],c[b.EMAIL]=["label","defaultValue","placeHolder","hint","help"],c[b.URL]=["label","defaultValue","placeHolder","hint","help"],c[b.MESSAGE]=["defaultValue"],c[b.LINK]=["defaultLabel"],c[b.MONEY]=["label","hint","help"],c[b.PHONE]=["label","defaultValue","placeHolder","hint","help"],c[b.IMAGE]=["label","alt"],c[b.VIDEO]=["label"],c[b.IDENTITY_BROWSER]=["label","placeholder","hint","help"],c[b.PANEL]=["label"],c[b.SECTION]=["label"],c[b.TABLE]=["label"],c}),define("TranslationsDecorator",["require","ControlDecorator","underscore","knockout","DecoratorsMap"],function(a){"use strict";var b=a("ControlDecorator"),c=a("underscore"),d=a("knockout"),e=a("DecoratorsMap");return b.subClass({},{init:function(a){this._super("TRANSLATIONS_DECORATOR",a)},_decorate:function(a,b){var f=function(a){var d=b.config().translationsHandler,f=d._bundles.defaultBundle,g=d._bundles.initLocaleBundle,h=e[a.type];return c.each(h,function(b){var c,d=a.id;g&&g[d]?c=g[d][b]:f&&f[d]&&(c=f[d][b]),c&&""!==c&&a.properties[b](c)}),!0};a.translated=d.observable(f(a))},isApplied:function(a){return a.hasOwnProperty("translated")}})}),define("ComputedValueDecorator",["require","ControlDecorator"],function(a){"use strict";return a("ControlDecorator").subClass({},{init:function(a){this._super("COMPUTED_VALUE_DECORATOR",a),this.computedSuffix="_computed"},_decorate:function(a,b){var c=this;!function(a){if(a.properties.computed&&a.properties.computed()&&a.properties.computedValue){var d=a.id+c.computedSuffix;a.properties.computedValue.decorate(b.viewModel,d)}}(a)},isApplied:function(a){return a.hasOwnProperty("value")}})}),define("GetOJComponentDecorator",["require","ControlDecorator","ojs/ojcore","jquery","underscore","knockout"],function(a){"use strict";var b=a("ControlDecorator"),c=a("ojs/ojcore"),d=a("jquery"),e=a("underscore"),f=a("knockout");return b.subClass({},{init:function(){this._super("GET_OJ_COMPONENT")},_decorate:function(a){a._deferredOjComponentCalls=[];var b=function(){return a._deferredOjComponentCalls.push(arguments),a._deferredOjComponentCalls};a.getOjComponent=function(){var a=c.Components.getWidgetConstructor(d("#"+this.domIdPrefix+f.utils.unwrapObservable(this.id))[0]);return a&&a()?a:b};var g=function(a){b=function(){},b.isNotLoaded=!0;var c=a.getOjComponent();return e.each(a._deferredOjComponentCalls,function(a){c.apply(c,a)}),a._deferredOjComponentCalls=[],a.afterOjComponentInit&&a.afterOjComponentInit(),!0};a.registerRenderListener(g)},isApplied:function(a){return a.hasOwnProperty("getOjComponent")}})}),define("RendererDecoratorsCatalog",["require","DecoratorsCatalog","JetValidationDecorator","RepeatableValidationDecorator","FormReferenceValidationDecorator","LazyRenderingDecorator","TabRenderingDecorator","TabContainerRenderingDecorator","SectionRenderingDecorator","SectionAsyncRenderCallbackDecorator","ControlTypeId","TimeValidationDecorator","RawDataDecorator","VideoValueDecorator","IdentityValueDecorator","CheckboxValueDecorator","RepeatableRowValueDecorator","FormReferenceValueDecorator","ValueDecorator","SelectValueDecorator","LinkValueDecorator","DateValueDecorator","TimeValueDecorator","NumberValueDecorator","RepeatableValueDecorator","BuildFormReferenceDecorator","ReferenceLazyRenderingDecorator","TranslationsDecorator","ComputedValueDecorator","GetOJComponentDecorator"],function(a){"use strict";var b=a("DecoratorsCatalog"),c=a("JetValidationDecorator"),d=a("RepeatableValidationDecorator"),e=a("FormReferenceValidationDecorator"),f=a("LazyRenderingDecorator"),g=a("TabRenderingDecorator"),h=a("TabContainerRenderingDecorator"),i=a("SectionRenderingDecorator"),j=a("SectionAsyncRenderCallbackDecorator"),k=a("ControlTypeId"),l=a("TimeValidationDecorator"),m=a("RawDataDecorator"),n=a("VideoValueDecorator"),o=a("IdentityValueDecorator"),p=a("CheckboxValueDecorator"),q=a("RepeatableRowValueDecorator"),r=a("FormReferenceValueDecorator"),s=a("ValueDecorator"),t=a("SelectValueDecorator"),u=a("LinkValueDecorator"),v=a("DateValueDecorator"),w=a("TimeValueDecorator"),x=a("NumberValueDecorator"),y=a("RepeatableValueDecorator"),z=a("BuildFormReferenceDecorator"),A=a("ReferenceLazyRenderingDecorator"),B=a("TranslationsDecorator"),C=a("ComputedValueDecorator"),D=a("GetOJComponentDecorator");return b.subClass({},{init:function(){this._super(),this.valueDecorator=new s,this.numberValueDecorator=new x,this.dateValueDecorator=new v,this.repeatableValueDecorator=new y,this.lazyRenderingDecorator=new f,this.getOJComponentDecorator=new D,this.jetValidationDecorator=new c([this.valueDecorator,this.lazyRenderingDecorator,this.getOJComponentDecorator]),this.repeatableValidationDecorator=new d([this.lazyRenderingDecorator,this.getOJComponentDecorator]),this.formReferenceValidationDecorator=new e([this.lazyRenderingDecorator,this.getOJComponentDecorator]),this.tabRenderingDecorator=new g([this.lazyRenderingDecorator]),this.sectionRenderingDecorator=new i,this.sectionAsyncRenderCallbackDecorator=new j,this.tabContainerRenderingDecorator=new h([this.lazyRenderingDecorator]),this.rawDataDecorator=new m([this.lazyRenderingDecorator]),this.referenceLazyRenderingDecorator=new A([this.lazyRenderingDecorator]),this.registerDecorator(this.lazyRenderingDecorator),this.registerDecorator(this.getOJComponentDecorator),this.registerDecorator(this.referenceLazyRenderingDecorator,k.FORM_REFERENCE),this.registerDecorator(this.valueDecorator,k.INPUT_TEXT),this.registerDecorator(this.valueDecorator,k.TEXT_AREA),this.registerDecorator(this.valueDecorator,k.CHECKLIST),this.registerDecorator(this.valueDecorator,k.RADIO_BUTTON),this.registerDecorator(this.valueDecorator,k.EMAIL),this.registerDecorator(this.valueDecorator,k.URL),this.registerDecorator(this.valueDecorator,k.MESSAGE),this.registerDecorator(this.valueDecorator,k.PHONE),this.registerDecorator(this.valueDecorator,k.IMAGE),this.registerDecorator(this.valueDecorator,k.VIDEO),this.registerDecorator(this.numberValueDecorator,k.NUMBER),this.registerDecorator(this.numberValueDecorator,k.MONEY),this.registerDecorator(this.dateValueDecorator,k.DATE),this.registerDecorator(this.dateValueDecorator,k.DATE_TIME),this.registerDecorator(new w([]),k.TIME),this.registerDecorator(new r([]),k.FORM_REFERENCE),this.registerDecorator(new p([]),k.CHECKBOX),this.registerDecorator(new o([]),k.IDENTITY_BROWSER),this.registerDecorator(new t([]),k.SELECT),this.registerDecorator(new u([]),k.LINK),this.registerDecorator(new q([]),k.TABLE_ROW),this.registerDecorator(new q([]),k.REPEATABLE_SECTION_ROW),this.registerDecorator(this.repeatableValueDecorator,k.REPEATABLE_SECTION),this.registerDecorator(this.repeatableValueDecorator,k.TABLE),this.registerDecorator(new n([this.valueDecorator]),k.VIDEO),this.registerDecorator(new z([this.valueDecorator]),k.FORM_REFERENCE),this.registerDecorator(this.rawDataDecorator,k.INPUT_TEXT),this.registerDecorator(this.rawDataDecorator,k.TEXT_AREA),this.registerDecorator(this.rawDataDecorator,k.SELECT),this.registerDecorator(this.rawDataDecorator,k.CHECKLIST),this.registerDecorator(this.rawDataDecorator,k.CHECKBOX),this.registerDecorator(this.rawDataDecorator,k.RADIO_BUTTON),this.registerDecorator(this.rawDataDecorator,k.NUMBER),this.registerDecorator(this.rawDataDecorator,k.DATE),this.registerDecorator(this.rawDataDecorator,k.TIME),this.registerDecorator(this.rawDataDecorator,k.DATE_TIME),this.registerDecorator(this.rawDataDecorator,k.EMAIL),this.registerDecorator(this.rawDataDecorator,k.URL),this.registerDecorator(this.rawDataDecorator,k.MESSAGE),this.registerDecorator(this.rawDataDecorator,k.LINK),this.registerDecorator(this.rawDataDecorator,k.MONEY),this.registerDecorator(this.rawDataDecorator,k.PHONE),this.registerDecorator(this.rawDataDecorator,k.IMAGE),this.registerDecorator(this.rawDataDecorator,k.VIDEO),this.registerDecorator(this.rawDataDecorator,k.REPEATABLE_SECTION),this.registerDecorator(this.rawDataDecorator,k.TABLE),this.translationsDecorator=new B([this.lazyRenderingDecorator]),this.registerDecorator(this.translationsDecorator,k.INPUT_TEXT),this.registerDecorator(this.translationsDecorator,k.TEXT_AREA),this.registerDecorator(this.translationsDecorator,k.BUTTON),this.registerDecorator(this.translationsDecorator,k.SELECT),this.registerDecorator(this.translationsDecorator,k.CHECKLIST),this.registerDecorator(this.translationsDecorator,k.CHECKBOX),this.registerDecorator(this.translationsDecorator,k.RADIO_BUTTON),this.registerDecorator(this.translationsDecorator,k.NUMBER),this.registerDecorator(this.translationsDecorator,k.DATE),this.registerDecorator(this.translationsDecorator,k.TIME),this.registerDecorator(this.translationsDecorator,k.DATE_TIME),this.registerDecorator(this.translationsDecorator,k.EMAIL),this.registerDecorator(this.translationsDecorator,k.URL),this.registerDecorator(this.translationsDecorator,k.MESSAGE),this.registerDecorator(this.translationsDecorator,k.LINK),this.registerDecorator(this.translationsDecorator,k.MONEY),this.registerDecorator(this.translationsDecorator,k.PHONE),this.registerDecorator(this.translationsDecorator,k.IMAGE),this.registerDecorator(this.translationsDecorator,k.VIDEO),this.registerDecorator(this.translationsDecorator,k.IDENTITY_BROWSER),this.registerDecorator(this.translationsDecorator,k.PANEL),this.registerDecorator(this.translationsDecorator,k.SECTION),this.registerDecorator(this.translationsDecorator,k.TABLE),this.computedValueDecorator=new C([this.lazyRenderingDecorator]),
this.registerDecorator(this.computedValueDecorator,k.INPUT_TEXT),this.registerDecorator(this.computedValueDecorator,k.TEXT_AREA),this.registerDecorator(this.computedValueDecorator,k.SELECT),this.registerDecorator(this.computedValueDecorator,k.CHECKLIST),this.registerDecorator(this.computedValueDecorator,k.CHECKBOX),this.registerDecorator(this.computedValueDecorator,k.RADIO_BUTTON),this.registerDecorator(this.computedValueDecorator,k.NUMBER),this.registerDecorator(this.computedValueDecorator,k.DATE),this.registerDecorator(this.computedValueDecorator,k.TIME),this.registerDecorator(this.computedValueDecorator,k.DATE_TIME),this.registerDecorator(this.computedValueDecorator,k.EMAIL),this.registerDecorator(this.computedValueDecorator,k.URL),this.registerDecorator(this.computedValueDecorator,k.MESSAGE),this.registerDecorator(this.computedValueDecorator,k.LINK),this.registerDecorator(this.computedValueDecorator,k.MONEY),this.registerDecorator(this.computedValueDecorator,k.PHONE),this.registerDecorator(this.computedValueDecorator,k.IMAGE),this.registerDecorator(this.computedValueDecorator,k.VIDEO),this.registerDecorator(this.jetValidationDecorator,k.IDENTITY_BROWSER),this.registerDecorator(this.jetValidationDecorator,k.INPUT_TEXT),this.registerDecorator(this.jetValidationDecorator,k.TEXT_AREA),this.registerDecorator(this.jetValidationDecorator,k.SELECT),this.registerDecorator(this.jetValidationDecorator,k.CHECKLIST),this.registerDecorator(this.jetValidationDecorator,k.CHECKBOX),this.registerDecorator(this.jetValidationDecorator,k.RADIO_BUTTON),this.registerDecorator(this.jetValidationDecorator,k.NUMBER),this.registerDecorator(this.jetValidationDecorator,k.DATE);var a=new l([this.lazyRenderingDecorator,this.getOJComponentDecorator]);this.registerDecorator(a,k.TIME),this.registerDecorator(a,k.DATE_TIME),this.registerDecorator(this.jetValidationDecorator,k.EMAIL),this.registerDecorator(this.jetValidationDecorator,k.URL),this.registerDecorator(this.jetValidationDecorator,k.MONEY),this.registerDecorator(this.jetValidationDecorator,k.PHONE),this.registerDecorator(this.repeatableValidationDecorator,k.REPEATABLE_SECTION),this.registerDecorator(this.repeatableValidationDecorator,k.TABLE),this.registerDecorator(this.formReferenceValidationDecorator,k.FORM_REFERENCE),this.registerDecorator(this.tabContainerRenderingDecorator,k.TAB_CONTAINER),this.registerDecorator(this.tabRenderingDecorator,k.TAB),this.registerDecorator(this.sectionRenderingDecorator,k.SECTION),this.registerDecorator(this.sectionAsyncRenderCallbackDecorator,k.SECTION)}})}),define("text!rendererImg/trash-blue.svg",[],function(){return'<?xml version="1.0" encoding="utf-8"?>\r\n<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">\r\n<svg version="1.1" id="Layer_1" xmlns:ev="http://www.w3.org/2001/xml-events"\r\n\t xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="32px" height="32px"\r\n\t viewBox="-6.5 -3.5 32 32" enable-background="new -6.5 -3.5 32 32" xml:space="preserve">\r\n<path fill="#0572CE" d="M0.983,7.974V5.987c0-1.104,0.864-2,1.969-2H4.99V2.046c0-1.105,0.719-2,1.606-2h6.788\r\n\tc0.888,0,1.606,0.895,1.606,2v1.941h2.011c1.104,0,1.97,0.896,1.97,2v2.005L0.983,7.974z M11.062,1.925H8.982\r\n\tC8.173,1.909,8.038,2.206,7.99,2.875C7.952,3.399,7.992,4.058,7.992,4.058h3.992c0,0,0.029-0.658,0.029-1.183\r\n\tS12.016,1.876,11.062,1.925z M17.018,23.018c0,0.553-0.479,1-1.031,1H4.056c-0.551,0-1.03-0.447-1.03-1V9.041h13.992V23.018z"/>\r\n</svg>\r\n'}),define("text!rendererImg/plus-blue.svg",[],function(){return'<?xml version="1.0" encoding="utf-8"?>\r\n<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">\r\n<svg version="1.1" id="Layer_1" xmlns:ev="http://www.w3.org/2001/xml-events"\r\n\t xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="32px" height="32px"\r\n\t viewBox="-3.5 -3.5 32 32" enable-background="new -3.5 -3.5 32 32" xml:space="preserve">\r\n<path fill="#0572CE" d="M23.896,14.902h-8.994v8.988c0,0.553-0.447,1-1,1h-1.96c-0.552,0-1-0.447-1-1v-8.988H1.953\r\n\tc-0.553,0-1-0.447-1-1v-1.96c0-0.552,0.447-1,1-1h8.989V1.948c0-0.552,0.448-1,1-1h1.96c0.553,0,1,0.448,1,1v8.994h8.994\r\n\tc0.552,0,1,0.448,1,1v1.96C24.896,14.455,24.448,14.902,23.896,14.902z"/>\r\n</svg>\r\n'}),define("RendererContext",["require","FormContext","RendererControlType","RendererId","ojL10n!rendererMsg/nls/renderer","knockout","jquery","underscore","Icon","EventsId","Configuration","OptionsResolverFactory","LoVMappingAutoComplete","EventsQueue","ObservablePayloadContext","FormReferenceFactory","RendererDecoratorsCatalog","!text!rendererImg/trash-blue.svg","!text!rendererImg/plus-blue.svg"],function(a){"use strict";var b=a("FormContext"),c=a("RendererControlType"),d=a("RendererId"),e=a("ojL10n!rendererMsg/nls/renderer"),f=a("knockout"),g=a("jquery"),h=a("underscore"),i=a("Icon"),j=a("EventsId"),k=a("Configuration"),l=a("OptionsResolverFactory"),m=a("LoVMappingAutoComplete"),n=a("EventsQueue"),o=a("ObservablePayloadContext"),p=a("FormReferenceFactory"),q=a("RendererDecoratorsCatalog"),r=a("!text!rendererImg/trash-blue.svg"),s=a("!text!rendererImg/plus-blue.svg");return b.subClass({},{controlBindings:{},init:function(a,b,c,d){this._super(new k(a.config),a.dependencies,b),this.tracker=f.observable(),this.optionsResolverFactory=new l,this.LoVMappingAutoComplete=m,this.eventsQueue=new n,this.decoratorsCatalog=new q,this.payloadContext=new o(c,d),this.runningAsyncTemplates=f.observable(-1)},getScope:function(){return d.FORM_RENDERER},getControlDefinitionByType:function(a){return c[a]},getFormReferenceControlDefinition:function(a,b){return c.FORM_REFERENCE(p.create(a),b)},addControlDecorators:function(a){this.decoratorsCatalog.addToControl(a,this)},focusControl:function(a){a.length>0&&(a.first().focus(),f.contextFor(a[0]).control.executeEvent(j.ON_FOCUS.value))},registerAsyncTemplate:function(a,b){var c,d=f.unwrap(b);return d.length>0&&(-1===this.runningAsyncTemplates()?this.runningAsyncTemplates(1):this.runningAsyncTemplates(this.runningAsyncTemplates()+1),c=function(){this.runningAsyncTemplates(this.runningAsyncTemplates()-1)}.bind(this)),c},properties:function(){var a=this.config().readOnly;return h.extend({},this._super(),{config:this.config(),msg:e,removeColumnIcon:function(){return new i(r,r,r)},addColumnIcon:function(){return new i(s,s,s)},tracker:g.proxy(function(){return this.tracker},this),readOnly:function(){return a}})}})}),define("AbstractCallDefinition",["require","Class","knockout","ResponseMapping"],function(a){"use strict";var b=a("Class"),c=a("knockout"),d=a("ResponseMapping");return b.subClass({},{init:function(a){this.id=a.id,this.response=c.observable(new d(a.response))},toJS:function(){return{id:this.id,response:this.response().toJS()}}})}),define("RendererCallDefinition",["require","AbstractCallDefinition","underscore"],function(a){"use strict";var b=a("AbstractCallDefinition"),c=a("underscore");return b.subClass({},{init:function(a){this._super(a),this.formValues=a.formValues},toJS:function(){return c.extend(this._super(),{formValues:this.formValues})}})}),define("Form",["require","knockout","jquery","underscore","FormsLogger","RendererCallDefinition","Class"],function(a){"use strict";var b=a("knockout"),c=a("jquery"),d=a("underscore"),e=a("FormsLogger"),f=a("RendererCallDefinition");return a("Class").subClass({resolveOnLoaded:function(a){return new Promise(function(b,c){if(a.loaded())e.getLogger().timeEnd("[LOAD]"),b();else var d=a.loaded.subscribe(function(){e.getLogger().timeEnd("[LOAD]"),d.dispose(),b()})})}},{init:function(a){this.id=a.id,this.properties={name:b.observable(a.name),description:b.observable(a.description)},this.calls=b.observableArray(this._buildCalls(a.calls||[]))},getAllControls:function(){throw new Error("This function must be overridden")},findControl:function(a){throw new Error("This function must be overridden")},_createCallDefinition:function(a){return new f(a)},_buildCalls:function(a){var b=[],d=this;return c.each(a,function(a,c){b.push(d._createCallDefinition(c))}),b},_callsToJS:function(){var a=[];return d.each(this.calls(),function(b){a.push(b.toJS())}),a}})}),define("RendererLoadPreProcessor",["require","Class","UUID","underscore","knockout","DefaultFormHandler","DefaultCssHandler","DefaultTranslationsHandler","DefaultTypeHandler"],function(a){"use strict";var b=a("Class"),c=a("UUID"),d=a("underscore"),e=a("knockout"),f=a("DefaultFormHandler"),g=a("DefaultCssHandler"),h=a("DefaultTranslationsHandler"),i=a("DefaultTypeHandler");return b.subClass({preProcess:function(a){a=e.utils.unwrapObservable(a)||{},a.form=a.form||{},a.config=a.config||{};var b=c.createUuid();return d.defaults(a.form,{id:b,name:b,description:"",controls:[],calls:[]}),d.defaults(a.config,{formHandler:f.create(),cssHandler:g.create(),typeHandler:i.create(),translationsHandler:h.create(),readOnly:!1,domIdPrefix:""}),d.defaults(a,{dependencies:[]}),a}},{})}),define("EventReference",["require","Class"],function(a){"use strict";return a("Class").subClass({},{init:function(a,b){this.id=a,this.viewModel=b,this._event=null},event:function(){return this._event||(this._event=this.viewModel.form().extensions.findEvent(this.id)),this._event},execute:function(a){return this.event().execute(a)},toJS:function(){return{id:this.id}}})}),define("MediaQueryType",["require","jquery"],function(a){"use strict";var b=a("jquery"),c="-only",d="oj-sm",e="oj-md",f="oj-lg",g="oj-xl",h="print",i=function(a){return a.indexOf(c)>0?a===this.mediaValue+c:b.inArray(a,this.supportedMedias)>=0};return{PRINT:{mediaValue:h,supportedMedias:[h],query:"print",accept:function(a){return i.call(this,a)}},SMALL:{mediaValue:d,supportedMedias:[d],query:"(max-width: 767px)",accept:function(a){return i.call(this,a)}},MEDIUM:{mediaValue:e,query:"(min-width: 768px)",supportedMedias:[d,e],accept:function(a){return i.call(this,a)}},LARGE:{mediaValue:f,supportedMedias:[d,e,f],query:"(min-width: 1024px)",accept:function(a){return i.call(this,a)}},EXTRA_LARGE:{mediaValue:g,query:"(min-width: 1280px)",supportedMedias:[d,e,f,g],accept:function(a){return i.call(this,a)}}}}),define("ColumnSpanType",["require","MediaQueryType","jquery"],function(a){"use strict";var b=a("MediaQueryType"),c=a("jquery"),d=function(a,b,d){var e=d?a.supportedMedias:[a.mediaValue],f="";return c.each(e,function(){f+=this+"-"+b+" "}),f};return{SMALL:{propertyName:"smColSpan",getStyleClass:function(a,c){return d(b.SMALL,a,c)}},MEDIUM:{propertyName:"mdColSpan",getStyleClass:function(a,c){return d(b.MEDIUM,a,c)}},LARGE:{propertyName:"lgColSpan",getStyleClass:function(a,c){return d(b.LARGE,a,c)}},EXTRA_LARGE:{propertyName:"xlColSpan",getStyleClass:function(a,c){return d(b.EXTRA_LARGE,a,c)}}}}),define("ControlEventsMap",["require","EventsId","ControlTypeId"],function(a){"use strict";var b=a("EventsId"),c=a("ControlTypeId"),d=[b.ON_LOAD,b.ON_CHANGE,b.ON_FOCUS,b.ON_BLUR,b.ON_SUBMIT],e={};return e[c.INPUT_TEXT]=d,e[c.TEXT_AREA]=d,e[c.BUTTON]=[b.ON_LOAD,b.ON_CLICK,b.ON_SUBMIT],e[c.SELECT]=[b.ON_LOAD,b.ON_CHANGE,b.ON_SUBMIT],e[c.CHECKLIST]=[b.ON_LOAD,b.ON_CHANGE,b.ON_SUBMIT],e[c.CHECKBOX]=[b.ON_LOAD,b.ON_CHANGE,b.ON_SUBMIT],e[c.RADIO_BUTTON]=[b.ON_LOAD,b.ON_CHANGE,b.ON_SUBMIT],e[c.NUMBER]=d,e[c.DATE]=d,e[c.TIME]=d,e[c.DATE_TIME]=d,e[c.EMAIL]=d,e[c.URL]=d,e[c.MESSAGE]=[b.ON_LOAD],e[c.LINK]=[b.ON_LOAD,b.ON_CLICK],e[c.MONEY]=d,e[c.PHONE]=d,e[c.IMAGE]=[b.ON_LOAD],e[c.VIDEO]=[b.ON_LOAD],e[c.PANEL]=[b.ON_LOAD],e[c.BUSINESS_TYPE]=[b.ON_LOAD],e[c.SECTION]=[b.ON_LOAD,b.ON_EXPAND,b.ON_COLLAPSE,b.ON_EXPAND_TOGGLE],e[c.FORM_REFERENCE]=[b.ON_LOAD,b.ON_SUBMIT],e[c.TAB_CONTAINER]=[b.ON_LOAD],e[c.TAB]=[b.ON_LOAD,b.ON_SELECTED,b.ON_UNSELECTED],e.PRESENTATION=[b.ON_LOAD,b.ON_SUBMIT],e.TABLE=[b.ON_LOAD,b.ON_SELECTION_CHANGE,b.ON_ADD_ROW,b.ON_REMOVE_ROW],e.REPEATABLE_SECTION=[b.ON_LOAD,b.ON_SELECTION_CHANGE,b.ON_ADD_ROW,b.ON_REMOVE_ROW],e[c.IDENTITY_BROWSER]=[b.ON_LOAD,b.ON_CHANGE,b.ON_SUBMIT],e}),define("ControlProperty",["require","Class"],function(a){"use strict";return a("Class").subClass({},{value:"",label:"",accessor:"",params:0,init:function(a,b,c){this.value=a,this.label=b,this.accessor=c},template:function(){return!1},getValue:function(a){return a.properties[this.accessor]()}})}),define("ControlValueProperty",["require","ControlProperty","ojL10n!rendererMsg/nls/renderer"],function(a){"use strict";var b=a("ControlProperty"),c=a("ojL10n!rendererMsg/nls/renderer");return b.subClass({},{value:"VALUE",label:c.LABEL_VALUE,init:function(){},getValue:function(a){return a.getControlValue()}})}),define("ControlIdentityValueProperty",["require","ControlProperty","ojL10n!rendererMsg/nls/renderer"],function(a){"use strict";var b=a("ControlProperty"),c=a("ojL10n!rendererMsg/nls/renderer");return b.subClass({},{value:"IDENTITY_VALUE",label:c.IDENTITY_VALUE,init:function(){},getValue:function(a){return a.getIdentityValue()}})}),define("HasClassProperty",["require","ControlProperty","ojL10n!rendererMsg/nls/renderer","StyleTypeId","underscore"],function(a){"use strict";var b=a("ControlProperty"),c=a("ojL10n!rendererMsg/nls/renderer"),d=a("StyleTypeId"),e=a("underscore");return b.subClass({},{value:"HAS_CLASS",label:c.HAS_CLASS,init:function(){},template:function(){return"classValueAccessorTemplate"},params:1,getValue:function(a,b){var c=e.find(a.styles(),function(a){return a.type.name===d.CLASS_NAME.name},this),f=c.value().split(" ");return e.contains(f,b)}})}),define("IsValidProperty",["require","ControlProperty","ojL10n!rendererMsg/nls/renderer"],function(a){"use strict";var b=a("ControlProperty"),c=a("ojL10n!rendererMsg/nls/renderer");return b.subClass({},{value:"IS_VALID",label:c.IS_VALID,init:function(){},getValue:function(a){return a.viewModel.formValidator.validateControl(a,a.viewModel.rendererContext)}})});define("SelectedTabProperty",["require","ControlProperty","ojL10n!rendererMsg/nls/renderer"],function(a){"use strict";var b=a("ControlProperty"),c=a("ojL10n!rendererMsg/nls/renderer");return b.subClass({},{value:"SELECTED",label:c.SELECTED,init:function(){},getValue:function(a){var b=a.viewModel.form().findControlAndParent(a.id).parent,c=b.controls().indexOf(a);return b.properties.selectedPosition()===c}})}),define("ControlVideoSrcProperty",["require","ControlValueProperty","ojL10n!rendererMsg/nls/renderer"],function(a){"use strict";var b=a("ControlValueProperty"),c=a("ojL10n!rendererMsg/nls/renderer");return b.subClass({},{value:"VIDEO_SRC",label:c.LABEL_SOURCE_URL,init:function(){}})}),define("ControlImageUrlProperty",["require","ControlValueProperty","ojL10n!rendererMsg/nls/renderer"],function(a){"use strict";var b=a("ControlValueProperty"),c=a("ojL10n!rendererMsg/nls/renderer");return b.subClass({},{value:"IMAGE_URL",label:c.IMAGE_URL,init:function(){}})}),define("OptionsProperty",["require","ControlProperty","ojL10n!rendererMsg/nls/renderer"],function(a){"use strict";var b=a("ControlProperty"),c=a("ojL10n!rendererMsg/nls/renderer");return b.subClass({},{value:"OPTIONS",label:c.OPTIONS,init:function(){},getValue:function(a){return a.properties.computedOptions()}})}),define("IndexProperty",["require","ControlProperty","underscore","ojL10n!rendererMsg/nls/renderer"],function(a){"use strict";var b=a("ControlProperty"),c=a("underscore"),d=a("ojL10n!rendererMsg/nls/renderer");return b.subClass({},{value:"INDEX",label:d.INDEX,init:function(){},getValue:function(a){return c.isUndefined(a.indexBeforeRemove)?a.getParent().dataSource().indexOf(a):a.indexBeforeRemove}})}),define("SelectedLabelProperty",["require","ControlProperty","underscore","ojL10n!rendererMsg/nls/renderer"],function(a){"use strict";var b=a("ControlProperty"),c=a("underscore"),d=a("ojL10n!rendererMsg/nls/renderer");return b.subClass({},{value:"SELECTED_LABEL",label:d.SELECTED_LABEL,init:function(){},_findLabel:function(a,b){var d=c.find(a.properties.computedOptions(),function(a){return a.value===b});return d?d.label:""},getValue:function(a){var b=a.getControlValue();return c.isArray(b)?c.map(b,function(b){return this._findLabel(a,b)},this):this._findLabel(a,b)}})}),define("ControlMessageProperty",["require","ControlValueProperty","ojL10n!rendererMsg/nls/renderer"],function(a){"use strict";var b=a("ControlValueProperty"),c=a("ojL10n!rendererMsg/nls/renderer");return b.subClass({},{value:"MESSAGE",label:c.MESSAGE,init:function(){}})}),define("PropertiesMap",["require","ojL10n!rendererMsg/nls/renderer","ControlProperty","ControlValueProperty","ControlIdentityValueProperty","HasClassProperty","IsValidProperty","SelectedTabProperty","ControlVideoSrcProperty","ControlImageUrlProperty","OptionsProperty","IndexProperty","SelectedLabelProperty","ControlMessageProperty"],function(a){"use strict";var b=a("ojL10n!rendererMsg/nls/renderer"),c=a("ControlProperty"),d=a("ControlValueProperty"),e=a("ControlIdentityValueProperty"),f=a("HasClassProperty"),g=a("IsValidProperty"),h=a("SelectedTabProperty"),i=a("ControlVideoSrcProperty"),j=a("ControlImageUrlProperty"),k=a("OptionsProperty"),l=a("IndexProperty"),m=a("SelectedLabelProperty"),n=a("ControlMessageProperty");return{VALUE:new d,HAS_CLASS:new f,LABEL:new c("LABEL",b.LABEL_LABEL,"label"),MESSAGE:new n,VIDEO_SRC:new i,IMAGE_URL:new j,PLACEHOLDER:new c("PLACEHOLDER",b.LABEL_PLACEHOLDER,"placeHolder"),HIDDEN:new c("HIDDEN",b.HIDDEN,"hide"),EXPANDED:new c("EXPANDED",b.LABEL_EXPANDED,"expanded"),DISABLED:new c("DISABLED",b.LABEL_DISABLED,"disabled"),REQUIRED:new c("REQUIRED",b.LABEL_REQUIRED,"required"),MIN_VALUE:new c("MIN_VALUE",b.LABEL_MIN_VALUE,"minValue"),MAX_VALUE:new c("MAX_VALUE",b.LABEL_MAX_VALUE,"maxValue"),IS_VALID:new g,OPTIONS:new k,SELECTED:new h,IDENTITY_VALUE:new e,CAN_ADD_REMOVE_ROWS:new c("CAN_ADD_REMOVE_ROWS",b.ENABLED_ADD_REMOVE_ROWS,"canAddDelete"),INDEX:new l,SELECTED_LABEL:new m}}),define("FunctionsMap",["require","ojL10n!rendererMsg/nls/renderer","UUID","StringUtils","underscore"],function(a){"use strict";function b(){return new Date(Date.now()-i).toISOString()}function c(a,b){h.each(a,function(a){h.isArray(a)?c(a,b):b(a)})}function d(a){return parseFloat(a.toFixed(10))}var e=a("ojL10n!rendererMsg/nls/renderer"),f=a("UUID"),g=a("StringUtils"),h=a("underscore"),i=6e4*(new Date).getTimezoneOffset(),j={CREATE_UUID:{value:"CREATE_UUID",label:e.CREATE_UUID,resolve:function(){return f.createUuid()},params:[],category:"FUNCTIONS_OTHER"},CURRENT_DATE:{value:"CURRENT_DATE",label:e.CURRENT_DATE,resolve:function(){return b().slice(0,10)},params:[],category:"FUNCTIONS_DATE"},CURRENT_TIME:{value:"CURRENT_TIME",label:e.CURRENT_TIME,resolve:function(){return b().slice(10,19)},params:[],category:"FUNCTIONS_DATE"},CURRENT_DATE_TIME:{value:"CURRENT_DATE_TIME",label:e.CURRENT_DATE_TIME,resolve:function(){return b().slice(0,19)},params:[],category:"FUNCTIONS_DATE"},SIMPLE_SUM:{value:"SIMPLE_SUM",label:e.SUM,resolve:function(a,b){return d(parseFloat(a)+parseFloat(b))},params:[{type:"NUMBER"},{type:"NUMBER"}],category:"FUNCTIONS_MATH"},SUM:{value:"SUM",label:e.SUMMATION,resolve:function(){var a=0;return c(arguments,function(b){a=d(a+parseFloat(b))}),a},multipleParams:!0,params:[{type:"NUMBER"}],category:"FUNCTIONS_MATH"},SUB:{value:"SUB",label:e.SUB,resolve:function(a,b){return d(parseFloat(a)-parseFloat(b))},params:[{type:"NUMBER"},{type:"NUMBER"}],category:"FUNCTIONS_MATH"},MULTIPLY:{value:"MULTIPLY",label:e.MULTIPLY,resolve:function(){var a=1;return c(arguments,function(b){var c=parseFloat(b);a=d(a*c)}),a},multipleParams:!0,params:[{type:"NUMBER"}],category:"FUNCTIONS_MATH"},DIVISION:{value:"DIVISION",label:e.DIVISION,resolve:function(a,b){return d(parseFloat(a)/parseFloat(b))},params:[{type:"NUMBER"},{type:"NUMBER"}],category:"FUNCTIONS_MATH"},INTEGER_DIVISION:{value:"INTEGER_DIVISION",label:e.INTEGER_DIVISION,resolve:function(a,b){var c=j.DIVISION.resolve(a,b);return c<0?Math.ceil(c):Math.floor(c)},params:[{type:"NUMBER"},{type:"NUMBER"}],category:"FUNCTIONS_MATH"},MOD:{value:"MOD",label:e.MODULO,resolve:function(a,b){return d(parseFloat(a)%parseFloat(b))},params:[{type:"NUMBER"},{type:"NUMBER"}],category:"FUNCTIONS_MATH"},MIN:{value:"MIN",label:e.MIN,resolve:function(){var a=Number.MAX_VALUE;return c(arguments,function(b){a=Math.min(a,b)}),a},multipleParams:!0,params:[{type:"NUMBER"}],category:"FUNCTIONS_ARRAY"},MAX:{value:"MAX",label:e.MAX,resolve:function(){var a=Number.MIN_VALUE;return c(arguments,function(b){a=Math.max(a,b)}),a},multipleParams:!0,params:[{type:"NUMBER"}],category:"FUNCTIONS_ARRAY"},COUNT:{value:"COUNT",label:e.COUNT,resolve:function(){var a=0;return c(arguments,function(){a++}),a},multipleParams:!0,allowComplex:!0,params:[{type:"ANY"}],category:"FUNCTIONS_ARRAY"},AVERAGE:{value:"AVERAGE",label:e.AVERAGE,resolve:function(){var a=0,b=0;return c(arguments,function(c){var e=parseFloat(c);a=d(a+e),b++}),b>0?d(a/b):0},multipleParams:!0,params:[{type:"NUMBER"}],category:"FUNCTIONS_ARRAY"},CONCAT:{value:"CONCAT",label:e.CONCAT,resolve:function(){var a="";return c(arguments,function(b){a+=b}),a},multipleParams:!0,params:[{type:"STRING"}],category:"FUNCTIONS_TEXT"},SPLIT:{value:"SPLIT",label:e.SPLIT,resolve:function(a,b){return g._makeString(a).split(g._makeString(b))},params:[{type:"STRING"},{type:"STRING"}],category:"FUNCTIONS_TEXT"},JOIN:{value:"JOIN",label:e.JOIN,resolve:function(a,b){return h.isArray(a)||(a=[a]),a.join(g._makeString(b))},params:[{type:"STRING"},{type:"STRING"}],category:"FUNCTIONS_TEXT"},TO_LOWERCASE:{value:"TO_LOWERCASE",label:e.TO_LOWERCASE,resolve:function(a){return g._makeString(a).toLowerCase()},params:[{type:"STRING"}],category:"FUNCTIONS_TEXT"},TO_UPPERCASE:{value:"TO_UPPERCASE",label:e.TO_UPPERCASE,resolve:function(a){return g._makeString(a).toUpperCase()},params:[{type:"STRING"}],category:"FUNCTIONS_TEXT"},LENGTH:{value:"LENGTH",label:e.LENGTH,resolve:function(a){return h.size(g._makeString(a))},params:[{type:"STRING"}],category:"FUNCTIONS_TEXT"},TRIM:{value:"TRIM",label:e.TRIM,resolve:function(a){return g.trim(a)},params:[{type:"STRING"}],category:"FUNCTIONS_TEXT"},REPLACE:{value:"REPLACE",label:e.REPLACE,resolve:function(a,b,c){return a=(a||"").toString(),b=new RegExp((b||"").toString(),"g"),c=(c||"").toString(),a.replace(b,c)},params:[{type:"STRING"},{type:"STRING"},{type:"STRING"}],category:"FUNCTIONS_TEXT"}};return j}),define("ValueTypes",["require","ojL10n!rendererMsg/nls/renderer"],function(a){"use strict";var b=a("ojL10n!rendererMsg/nls/renderer");return{CONSTANT:{value:"CONSTANT",label:b.CONSTANT,resolveFunction:"_resolveConstant",decorateFunction:"_decorateConstant",template:null},DATA:{value:"DATA",label:b.DATA_DEFINITION,resolveFunction:"_resolveData",template:"dataValueTypeTemplate"},CONTROL:{value:"CONTROL",label:b.CONTROL,resolveFunction:"_resolveControl",template:"controlValueTypeTemplate"},FUNCTION:{value:"FUNCTION",label:b.FUNCTION,resolveFunction:"_resolveFunction",decorateFunction:"_decorateFunction",template:"functionValueTypeTemplate"},SCOPE:{value:"SCOPE",label:b.CONNECTOR_DATA,resolveFunction:"_resolveScope",template:"dataValueTypeTemplate"}}}),define("ControlReferenceMap",["require","ojL10n!rendererMsg/nls/renderer"],function(a){"use strict";function b(a){return!!a&&a.isRepeatable()}function c(a,b){if(b.getParent)return b.getParent()===a?b:c(a,b.getParent())}var d=a("ojL10n!rendererMsg/nls/renderer"),e={SELF:{value:"SELF",label:d.SELF,resolve:function(a){return a}},FIRST:{value:"FIRST",label:d.FIRST,resolve:function(a,c){if(b(a))return a.getRows()[0]}},LAST:{value:"LAST",label:d.LAST,resolve:function(a,c){if(b(a))return a.getRows()[a.getRows().length-1]}},SELECTED:{value:"SELECTED",labelFunction:function(a){return a.controlResolver.getControl(a.context).properties.multipleSelection()?a.isActionControl?d.FOR_EACH_SELECTED:d.ALL_SELECTED:d.SELECTED_ROW},resolve:function(a){if(b(a))return a.getSelectedRows()}},INDEX:{value:"INDEX",label:d.INDEX,template:"controlIndexTemplate",resolve:function(a,c,d){if(b(a)){if(!c)return e.FIRST.resolve(a);var f=d.value().resolve(d.viewModel);return a.getRows()[f]}}},CURRENT:{value:"CURRENT",label:d.CURRENT,resolve:function(a,d){if(b(a))return d?c(a,d):e.FIRST.resolve(a)}},CURRENT_ITERATION:{value:"CURRENT_ITERATION",label:d.CURRENT_ITERATION_ROW,resolve:function(a,d,f){if(b(a))return d?c(a,f.scope.currentRowControl):e.FIRST.resolve(a)}}};return e}),define("ControlResolver",["require","Class","knockout","ControlReferenceMap","underscore","Value"],function(a){"use strict";var b=a("Class"),c=a("knockout"),d=a("ControlReferenceMap"),e=a("underscore"),f=b.subClass({},{id:null,reference:null,childControl:null,init:function(a,b,g){var h=e.extend({id:"",reference:d.SELF.value,childControl:{}},a);this.id=c.observable(h.id),this.reference=c.observable(h.reference);var i=a.childControl?new f(h.childControl,b,g):null;this.childControl=c.observable(i),this.scope=g,this.viewModel=b,this.value=c.observable(null),a.value&&this.createValueObject(a.value);var j=this;this.reference.subscribe(function(a){a===d.INDEX.value?j.createValueObject():j.value(null)})},createValueObject:function(b){var c=a("Value");this.value(new c(b||{},this.viewModel,this.scope))},toJS:function(){var a={id:this.id(),reference:this.reference(),childControl:this.childControl()?this.childControl().toJS():null};return this.value()&&(a.value=this.value().toJS()),a},getControl:function(a){var b=c.unwrap(a);if(b.findControl)return b.findControl(this.id())},resolveChildContext:function(a,b){var c;if("__SELF__"===this.id())c=a;else{if(e.isArray(a))return e.map(a,function(a){return c=this.getControl(a),d[this.reference()].resolve(c,this.childControl(),b,this)},this);c=this.getControl(a)}return d[this.reference()].resolve(c,b,this)},resolve:function(a,b){var c=this.resolveChildContext(a,b);return this.childControl()?c?this.childControl().resolve(c,b):null:c},getControlsWithRef:function(a){var b=[];return this.reference()===a&&(b=[this.id()]),this.childControl()&&(b=e.union(b,this.childControl().getControlsWithRef(a))),b}});return f}),define("Value",["require","Class","knockout","underscore","PropertiesMap","FunctionsMap","ValueTypes","ControlResolver"],function(a){"use strict";var b=a("Class"),c=a("knockout"),d=a("underscore"),e=a("PropertiesMap"),f=a("FunctionsMap"),g=a("ValueTypes"),h=b.subClass({},{type:null,expression:null,controlResolver:null,propertyParam:[],controlId:null,mapped:null,init:function(b,e,f){var i=d.extend({expression:"",propertyParam:[],type:g.CONSTANT.value,controlResolver:{},mapped:"",controlId:null},b);e.context&&e.context.config&&e.context.config()&&(this.translationsHandler=e.context.config().translationsHandler),this.viewModel=e,this._translationIndex=0,this.expression=c.observable(i.expression),this.mapped=c.observable(i.mapped);var j=[];d.each(i.propertyParam,function(a){j.push(new h(a,e,f))}),this.propertyParam=c.observableArray(j);var k=a("ControlResolver");if(this.type=c.observable(g[i.type]),this.controlResolver=new k(i.controlResolver,e,f),this.scope=f,this.control=c.observable(),this.controlId=i.controlId,null!==this.controlId){e.form()&&this.control(e.form().findControl(this.controlId));var l=e.form.subscribe(function(a){this.control(a.findControl(this.controlId)),l.dispose()}.bind(this))}},getTemplate:function(){var a=this.type().template;return a||(this.control()?this.control().getDataTemplate():"constantValueTypeTemplate")},toJS:function(){var a=[];return d.each(this.propertyParam(),function(b){a.push(b.toJS())}),{expression:this.expression(),propertyParam:a,controlResolver:this.controlResolver.toJS(),type:this.type().value,mapped:this.mapped(),controlId:this.controlId}},_resolveMap:function(a,b){return d.isArray(b)&&this.mapped().length>0?d.map(b,this.mapped()):b},resolve:function(a){return this._resolveMap(a,this[this.type().resolveFunction](a))},_checkBundle:function(a,b){if(this.translationsHandler){var c,d=this.translationsHandler._bundles.defaultBundle,e=this.translationsHandler._bundles.initLocaleBundle;if(e&&e[a]?c=e[a]:d&&d[a]&&(c=d[a]),c&&c.length>b._translationIndex){var f=c[b._translationIndex];return b._translationIndex=b._translationIndex+1,f}}},_resolveConstant:function(a){return this.expression()},_resolveData:function(a){return c.unwrap(a.context.payloadContext.getObservableValue(this.expression()))},_resolveControl:function(a){var b=a.form(),c=this.controlResolver.resolve(b.presentation(),this.scope.eventControl),f=e[this.expression()]||e.VALUE;if(c){var g=[];return d.each(this.propertyParam(),function(b){g.push(b.resolve(a))}),d.isArray(c)?d.map(c,function(a){return f.getValue.apply(f,[a].concat(g))}):f.getValue.apply(f,[c].concat(g))}console.error("User Events Error: Value couldn't be resolved.")},_resolveFunction:function(a){var b=f[this.expression()],c=[];return d.each(this.propertyParam(),function(b){c.push(b.resolve(a))}),b.resolve.apply(b,c)},_resolveScope:function(a){return this.scope.getValue(this.expression())},_getBundle:function(){var a=[];return this.type().value===g.CONSTANT.value?a.push(this.expression()):this.type().value===g.FUNCTION.value&&d.each(this.propertyParam(),function(b){a=d.union(a,b._getBundle())}),a},decorate:function(a,b,c){c=c||this;var d=this.type().decorateFunction;d&&this[d](a,b,c)},_decorateConstant:function(a,b,c){this.expression(this._checkBundle(b,c)||this.expression())},_decorateFunction:function(a,b,c){d.each(this.propertyParam(),function(d){d.decorate(a,b,c)})},getParameterCount:function(){return this.type()===g.CONTROL?e[this.expression()].params:this.type()===g.FUNCTION?f[this.expression()].params.length:0}});return h}),define("Control",["require","Class","UUID","underscore","EventReference","ColumnSpanType","ControlEventsMap","Value","ValidationHelper","koToJSUtil","knockout","ojs/ojmenu"],function(a){"use strict";var b=a("Class"),c=a("UUID"),d=a("underscore"),e=a("EventReference"),f=a("ColumnSpanType"),g=a("ControlEventsMap"),h=a("Value"),i=a("ValidationHelper"),j=a("koToJSUtil"),k=a("knockout");return a("ojs/ojmenu"),b.subClass({},{_parent:null,isValid:null,_registerProperties:function(a,b,c){for(var d in b)if(b.hasOwnProperty(d)){var e=b[d];a[d]=e instanceof Function?e(a,c):e}},init:function(a,b,g,j,l,m){this.id=a||c.createUuid(),this.name=k.observable(b),this.type=g.id,this.validationHelper=i,this.context=l,this._parent=m,this.isValid=k.observable(!0),this._registerProperties(this,g.properties(),j),this._registerProperties(this,l.properties(),j),this.styles=this.styleHandler.getAllStyles(this,j);var n={position:0,isRoot:!1,label:b,autoFocus:!1,disabled:!1,required:!1,hide:!1,parsedStyle:"",formattedStyle:{},isBindable:g.isBindable(),binding:"",autoColSpan:!0,connectorMapping:"",events:[],computed:!1,originalId:null,computedValue:null};n[f.SMALL.propertyName]=1,n[f.MEDIUM.propertyName]=1,n[f.LARGE.propertyName]=1,n[f.EXTRA_LARGE.propertyName]=1,d.defaults(j,n),this.properties={position:k.observable(j.position),isRoot:k.observable(j.isRoot),label:k.observable(j.label),autoFocus:k.observable(j.autoFocus),disabled:k.observable(j.disabled),required:k.observable(j.required),hide:k.observable(j.hide),parsedStyle:k.observable(j.parsedStyle),formattedStyle:k.observable(j.formattedStyle),isBindable:k.observable(j.isBindable),binding:k.observable(j.binding),autoColSpan:k.observable(j.autoColSpan),connectorMapping:k.observable(j.connectorMapping),computed:k.observable(j.computed),originalId:j.originalId},this.properties[f.SMALL.propertyName]=k.observable(j[f.SMALL.propertyName]),this.properties[f.MEDIUM.propertyName]=k.observable(j[f.MEDIUM.propertyName]),this.properties[f.LARGE.propertyName]=k.observable(j[f.LARGE.propertyName]),this.properties[f.EXTRA_LARGE.propertyName]=k.observable(j[f.EXTRA_LARGE.propertyName]),this.properties.formattedStyle=this.styleHandler.getFormattedStyle(this),this.properties.parsedStyle=this.styleHandler.getParsedStyle(this);var o=[];d.each(k.unwrap(j.events),function(a){o.push(new e(a.id,l.viewModel))},this),this.events=k.observableArray(o);var p=new l.scopeFactory.Scope(l.viewModel.getCurrentGlobalScope())
;p.controlId=this.id,this.properties.computedValue=new h(j.computedValue,l.viewModel,p)},executeEvent:function(a){var b=[];return d.each(this.events(),function(c){var d=c.event().trigger;a===d()&&b.push(c.execute(this))},this),this.context.viewModel.computedExtension.reEvaluateOnControl(a,this),Promise.all(b)},findClosest:function(a){return this.getParent().findClosest(a)},hasValueProperty:function(){return!0},executeEventOnAll:function(a){return this.executeEvent(a)},getValidEvents:function(){return g[this.type]},makeCopy:function(){var a=this.toJS();if(a.properties.originalId=this.properties.originalId?this.properties.originalId:a.id,a.id=c.createUuid(),this.controls){var b=[];d.each(this.controls(),function(a){b.push(a.makeCopy())}),a.controls=b}return a},isRepeatable:function(){return!1},getParent:function(){return this._parent},getFullBinding:function(){return this.getBindingContext()+this.properties.binding()},getBindingContext:function(){return this.getParent()?this.getParent().getContextForChildren(this):""},getDataTemplate:function(){return"constantValueTypeTemplate"},getContextForChildren:function(a){return this.getBindingContext()},hasStyle:function(){return this.styles().length>0},setError:function(a,b){this.getOjComponent()("option","messagesCustom",[{summary:a,detail:b}]),this.validate()},_propertiesToJS:function(){return j.toJS(this.properties)},toJS:function(){var a=[];return d.each(this.events(),function(b){a.push(b.toJS())}),{id:this.id,name:this.name(),type:this.type,properties:d.extend({},this._propertiesToJS(),{events:a,computedValue:this.properties.computedValue.toJS()})}}})}),define("ButtonControl",["require","Control","ControlTypeId"],function(a){"use strict";var b=a("Control"),c=a("ControlTypeId");return b.subClass({},{init:function(a,b,d,e,f){this._super(a,b,e.getControlDefinitionByType(c.BUTTON),d,e,f)},hasValueProperty:function(){return!1}})}),define("InputTextControl",["require","Control","underscore","knockout","ControlTypeId"],function(a){"use strict";var b=a("Control"),c=a("underscore"),d=a("knockout"),e=a("ControlTypeId");return b.subClass({},{init:function(a,b,f,g,h,i){this._super(a,b,i||g.getControlDefinitionByType(e.INPUT_TEXT),f,g,h),c.defaults(f,{autoComplete:!1,help:"",hint:"",pattern:"",patternMessage:"",placeHolder:"",readonly:!1,defaultValue:"",maxLength:null,minLength:null}),this.properties.autoComplete=d.observable(f.autoComplete),this.properties.help=d.observable(f.help),this.properties.hint=d.observable(f.hint),this.properties.maxLength=d.observable(f.maxLength),this.properties.minLength=d.observable(f.minLength),this.properties.pattern=d.observable(f.pattern),this.properties.patternMessage=d.observable(f.patternMessage),this.properties.placeHolder=d.observable(f.placeHolder),this.properties.readonly=d.observable(f.readonly),this.properties.defaultValue=d.observable(f.defaultValue)}})}),define("TextAreaControl",["require","InputTextControl","underscore","ControlTypeId","knockout"],function(a){"use strict";var b=a("InputTextControl"),c=a("underscore"),d=a("ControlTypeId"),e=a("knockout");return b.subClass({},{init:function(a,b,f,g,h){this._super(a,b,f,g,h,g.getControlDefinitionByType(d.TEXT_AREA)),c.defaults(f,{rows:null}),this.properties.rows=e.observable(f.rows)}})}),define("OptionsType",["require","OjSelectItem","ojL10n!rendererMsg/nls/renderer"],function(a){"use strict";var b=a("OjSelectItem"),c=a("ojL10n!rendererMsg/nls/renderer");return{STATIC:b.create("STATIC",c.STATIC_LABEL),REST:b.create("REST",c.REST_LABEL),DYNAMIC:b.create("DYNAMIC",c.DYNAMIC_LABEL),CONNECTOR:b.create("CONNECTOR",c.CONNECTOR_LABEL),EVENT_CONNECTOR:b.create("EVENT_CONNECTOR",""),LIST_CONNECTOR:b.create("LIST_CONNECTOR","")}}),define("OptionsFeed",["require","Class","knockout","OptionsType"],function(a){"use strict";var b=a("Class"),c=a("knockout"),d=a("OptionsType");return b.subClass({},{init:function(a,b,e,f){a=a||d.STATIC.value,this.type=c.observable(d[a]),this.optionsResolver=c.observable(b.optionsResolverFactory.createResolver(a,b,e,f)),this.availableTypes=[d.STATIC,d.DYNAMIC,d.CONNECTOR],this.template=c.pureComputed(function(){return this.type().value.toLowerCase()+"OptionsTemplate"},this),this.properties=this.optionsResolver().properties},observables:function(){return{type:this.type,properties:this.properties}},toJS:function(){return{type:this.type().value,properties:this.optionsResolver().properties().toJS()}}})}),define("LOVControl",["require","Control","underscore","OptionsFeed","OptionsType","EventsId","knockout"],function(a){"use strict";var b=a("Control"),c=a("underscore"),d=a("OptionsFeed"),e=a("OptionsType"),f=a("EventsId"),g=a("knockout");return b.subClass({},{init:function(a,b,e,h,i,j){this._super(a,b,e,h,i,j),c.defaults(h,{multiple:!1,optionsFeed:{}}),this.properties.multiple=g.observable(h.multiple),this.properties.optionsFeed=g.observable(new d(h.optionsFeed.type,i,h.optionsFeed.properties,this.id)),this.properties.defaultValue=g.pureComputed(function(){return this.properties.optionsFeed().optionsResolver().getDefaultValue()},this),this.properties.computedOptions=g.pureComputed(function(){return this.properties.optionsFeed().optionsResolver().getOptions()},this),this.properties.autoFocus=g.pureComputed({read:function(){return this.properties.optionsFeed().optionsResolver().autoFocus()},write:function(a){this.properties.optionsFeed().optionsResolver().autoFocus(a)},owner:this});var k=this;this.properties.defaultValue.subscribe(function(){if(k.value){var a=k.getControlValue();k._isNullEmptyOrUndefined(a)&&(a=k.properties.defaultValue()),k.setValue(a),k.executeEvent(f.ON_CHANGE.value)}})},refreshConnector:function(){this.properties.optionsFeed().type()===e.CONNECTOR&&this.properties.optionsFeed().optionsResolver().loadAndSetConnector(this.viewModel.form())},getDataTemplate:function(){return"selectValueTypeTemplate"},toJS:function(){var a=this._super();return delete a.properties.defaultValue,delete a.properties.multiple,delete a.properties.computedOptions,delete a.properties.autoFocus,a.properties.optionsFeed=this.properties.optionsFeed().toJS(),a}})}),define("SelectControl",["require","LOVControl","jquery","underscore","TypeCatalog","ControlTypeId","knockout"],function(a){"use strict";var b=a("LOVControl"),c=a("jquery"),d=a("underscore"),e=a("TypeCatalog"),f=a("ControlTypeId"),g=a("knockout");return b.subClass({},{init:function(a,b,c,e,h){this._super(a,b,e.getControlDefinitionByType(f.SELECT),c,e,h),d.defaults(c,{placeHolder:"",help:"",hint:""}),this.properties.help=g.observable(c.help),this.properties.hint=g.observable(c.hint),this.properties.placeHolder=g.observable(c.placeHolder),this.properties.parsedStyle.subscribe(function(b){this._setStyle(a,e,b)},this),this.properties.autoFocus.subscribe(function(b){this._setAutoFocus(a,e,b)},this),this.properties.multiple.subscribe(this._checkType.bind(this,e));var i=this;this.afterRenderSelect=function(){setTimeout(function(){i._setStyle(a,e),i._setAutoFocus(a,e)},0)},this._checkType(e,this.properties.multiple())},_checkType:function(a,b){this.dataType=b?e.getArrayTypeDefinition(e.getSimpleTypesDefinitions().STRING):e.getSimpleTypesDefinitions().STRING;var c=this;setTimeout(function(){c._setStyle(c.id,a)},0)},_setStyle:function(a,b,d){var e=c(b.getScope()+" #"+b.config().domIdPrefix+a).ojSelect("widget"),f=this.properties.formattedStyle();e.attr("style",d||this.properties.parsedStyle()),e.find(".oj-select-choice, .oj-select-choices").css("background-color",f.backgroundColor||""),e.find(".oj-select-choice, .oj-select-selected-choice-label").css("color",f.color||"");var g=this;c("#"+a).ojSelect({beforeExpand:function(d){var e=g.properties.formattedStyle();c(b.getScope()+" #oj-listbox-results-"+a+", .oj-listbox-drop").css("background-color",e.backgroundColor||""),c(b.getScope()+" #oj-listbox-results-"+a+", .oj-listbox-drop").css("color",e.color||"")}})},_setAutoFocus:function(a,b,d){var e=d||this.properties.optionsFeed().properties().autoFocus(),f=c(b.getScope()+" #"+b.config().domIdPrefix+a).ojSelect("widget");e?f.attr("autofocus","autofocus"):f.removeAttr("autofocus"),c(b.getScope()+" [autofocus]").first().is(".oj-select")&&b.focusControl(f.find(".oj-select-choice"))},toJS:function(){var a=this._super();return a.properties.multiple=this.properties.multiple(),a}})}),define("ChecklistControl",["require","LOVControl","underscore","ControlTypeId","knockout"],function(a){"use strict";var b=a("LOVControl"),c=a("underscore"),d=a("ControlTypeId"),e=a("knockout");return b.subClass({},{init:function(a,b,f,g,h){c.defaults(f,{help:"",inline:!1,multiple:!0}),this._super(a,b,g.getControlDefinitionByType(d.CHECKLIST),f,g,h),this.properties.help=e.observable(f.help),this.properties.inline=e.observable(f.inline)}})}),define("CheckboxControl",["require","Control","underscore","ControlTypeId","koToJSUtil","knockout"],function(a){"use strict";var b=a("Control"),c=a("underscore"),d=a("ControlTypeId"),e=a("koToJSUtil"),f=a("knockout");return b.subClass({},{init:function(a,b,e,g,h){c.defaults(e,{help:"",hint:"",defaultValue:!1});var i=this;i._super(a,b,g.getControlDefinitionByType(d.CHECKBOX),e,g,h),i.properties.help=f.observable(e.help),i.properties.hint=f.observable(e.hint),i.properties.defaultValue=f.observableArray(i.getInitialValue(e.defaultValue)),i.properties.defaultValue.subscribe(function(a){i.defaultValue("true"===a[0])}),i.defaultValue=f.observable(e.defaultValue),i.checkboxValue=f.observableArray(i.getInitialValue(e.defaultValue)),i.checkboxValue.subscribe(function(a){i.setValue(a)})},getInitialValue:function(a){return a?["true"]:["false"]},getDataTemplate:function(){return"booleanValueTypeTemplate"},_propertiesToJS:function(){var a=e.toJS(this.properties);return a.defaultValue=this.defaultValue(),a}})}),define("RadioButtonControl",["require","LOVControl","ControlTypeId","underscore","knockout"],function(a){"use strict";var b=a("LOVControl"),c=a("ControlTypeId"),d=a("underscore"),e=a("knockout");return b.subClass({},{init:function(a,b,f,g,h){this._super(a,b,g.getControlDefinitionByType(c.RADIO_BUTTON),f,g,h),d.defaults(f,{help:"",inline:!1}),this.properties.help=e.observable(f.help),this.properties.inline=e.observable(f.inline);var i=this.properties.defaultValue;this.properties.defaultValue=e.pureComputed({read:function(){return i()[0]},owner:this})}})}),define("NumberControl",["require","InputTextControl","ControlTypeId","jquery","underscore","knockout"],function(a){"use strict";var b=a("InputTextControl"),c=a("ControlTypeId"),d=a("jquery"),e=a("underscore"),f=a("knockout");return b.subClass({},{init:function(a,b,d,g,h){var i=this;i._super(a,b,d,g,h,g.getControlDefinitionByType(c.NUMBER)),e.defaults(d,{step:1,maxValue:null,minValue:null}),i.properties.step=f.observable(d.step),i.properties.maxValue=f.observable(d.maxValue),i.properties.minValue=f.observable(d.minValue),i.properties.parsedStyle.subscribe(function(a){i._applyStyle(a)},i),i.afterRenderNumber=function(){i._applyStyle()},i.domId=g.getScope()+" #"+g.config().domIdPrefix+a},_applyStyle:function(a){var b=d(this.domId).ojInputNumber("widget"),c=a||this.properties.parsedStyle();b.attr("style",c)}})}),define("DateControl",["require","Control","underscore","ControlTypeId","jquery","knockout","ojs/ojcore"],function(a){"use strict";var b=a("Control"),c=a("underscore"),d=a("ControlTypeId"),e=a("jquery"),f=a("knockout"),g=a("ojs/ojcore");return b.subClass({},{init:function(a,b,e,h,i){var j=this;j._super(a,b,h.getControlDefinitionByType(d.DATE),e,h,i),c.defaults(e,{help:"",hint:"",readonly:!1,placeHolder:"",defaultValue:"",minValue:null,maxValue:null,format:["yy-MM-dd"]}),j.properties.help=f.observable(e.help),j.properties.hint=f.observable(e.hint),j.properties.placeHolder=f.observable(e.placeHolder),j.properties.minValue=f.observable(e.minValue),j.properties.maxValue=f.observable(e.maxValue),j.properties.readonly=f.observable(e.readonly),j.properties.defaultValue=f.observable(e.defaultValue),j.properties.format=f.observableArray(e.format),j.properties.dateConverter=f.observable(g.Validation.converterFactory(g.ConverterFactory.CONVERTER_TYPE_DATETIME).createConverter({pattern:j.properties.format()[0]})),j.properties.format.subscribe(function(a){j.properties.dateConverter(g.Validation.converterFactory(g.ConverterFactory.CONVERTER_TYPE_DATETIME).createConverter({pattern:a[0]}))},j),j.properties.parsedStyle.subscribe(function(b){j._applyStyle(a,b)},j),j.afterRenderDate=function(){j._applyStyle(a)},j.domId=h.getScope()+" #"+h.config().domIdPrefix+a},_applyStyle:function(a,b){var c=e("#"+a).ojInputDate("widget"),d=this.properties.formattedStyle(),f=b||this.properties.parsedStyle(),g=c.find(".oj-inputdatetime-input-trigger");c.attr("style",f),d.borderWidth&&g.css("border-width",d.borderWidth),d.borderStyle&&g.css("border-style",d.borderStyle),d.borderColor&&g.css("border-color",d.borderColor),d.borderRadius&&(g.css("border-top-right-radius",d.borderRadius),g.css("border-bottom-right-radius",d.borderRadius))},_propertiesToJS:function(){var a=this._super();return delete a.dateConverter,a}})}),define("TimeControl",["require","Control","jquery","underscore","ControlTypeId","knockout","ojs/ojcore"],function(a){"use strict";var b=a("Control"),c=a("jquery"),d=a("underscore"),e=a("ControlTypeId"),f=a("knockout"),g=a("ojs/ojcore");return b.subClass({},{init:function(a,b,c,h,i){var j=this;j._super(a,b,h.getControlDefinitionByType(e.TIME),c,h,i),d.defaults(c,{help:"",hint:"",readonly:!1,placeHolder:"",defaultValue:"",minValue:null,maxValue:null,step:["00:30:00:00"]}),j.properties.help=f.observable(c.help),j.properties.hint=f.observable(c.hint),j.properties.placeHolder=f.observable(c.placeHolder),j.properties.minValue=f.observable(c.minValue),j.properties.maxValue=f.observable(c.maxValue),j.properties.readonly=f.observable(c.readonly),j.properties.defaultValue=f.observable(c.defaultValue),j.properties.step=f.observable(c.step),j.properties.dateConverter=f.observable(g.Validation.converterFactory(g.ConverterFactory.CONVERTER_TYPE_DATETIME).createConverter()),j.properties.parsedStyle.subscribe(function(b){j._applyStyle(a,b)},j),j.afterRenderTime=function(){j._applyStyle(a)},this.domId=h.getScope()+" #"+h.config().domIdPrefix+a},_applyStyle:function(a,b){var d=c(this.domId).ojInputTime("widget"),e=this.properties.formattedStyle(),f=b||this.properties.parsedStyle(),g=d.find(".oj-inputdatetime-input-trigger");d.attr("style",f),e.borderWidth&&g.css("border-width",e.borderWidth),e.borderStyle&&g.css("border-style",e.borderStyle),e.borderColor&&g.css("border-color",e.borderColor),e.borderRadius&&(g.css("border-top-right-radius",e.borderRadius),g.css("border-bottom-right-radius",e.borderRadius))},_propertiesToJS:function(){var a=this._super();return delete a.dateConverter,a}})}),define("TargetType",["require","ojL10n!rendererMsg/nls/renderer"],function(a){"use strict";var b=a("ojL10n!rendererMsg/nls/renderer"),c={PARENT:{value:"_parent",label:b.TARGET_TYPE_PARENT},NEWTAB:{value:"_blank",label:b.TARGET_TYPE_NEWTAB},values:function(){return[c.NEWTAB,c.PARENT]}};return c}),define("LinkControl",["require","Control","underscore","knockout","EventsId","ControlTypeId","TargetType"],function(a){"use strict";var b=a("Control"),c=a("underscore"),d=a("knockout"),e=a("EventsId"),f=a("ControlTypeId"),g=a("TargetType");return b.subClass({},{init:function(a,b,e,h,i){this._super(a,b,h.getControlDefinitionByType(f.LINK),e,h,i),c.defaults(e,{target:[g.NEWTAB.value],isLabelBindable:"false",defaultLabel:b,labelVal:"",labelBinding:"",defaultValue:"",anchor:!1,defaultOption:[]}),this.properties.target=d.observable(e.target),this.properties.defaultValue=d.observable(e.defaultValue),this.properties.labelVal=d.observable(e.labelVal),this.properties.defaultLabel=d.observable(e.defaultLabel),this.properties.isLabelBindable=d.observable(e.isLabelBindable),this.properties.labelBinding=d.observable(e.labelBinding),this.properties.anchor=d.observable(e.anchor),this.properties.defaultOption=d.observableArray(e.defaultOption),this.computedOptions=d.pureComputed(function(){var a=this,b=this.properties.anchor(),d=[];if(b){var e=this.context.viewModel.form();if(e){var g=e.getAllControls(!0);c.each(g,function(b){var e=[f.TABLE,f.REPEATABLE_SECTION,f.SECTION,f.TAB_CONTAINER,f.TAB,f.PANEL],g=[f.TABLE,f.REPEATABLE_SECTION,f.TAB_CONTAINER];c.contains(e,b.type)||c.contains(g,b._parent.type)||b.id===a.id||d.push({label:b.name(),value:b.id})})}}return d}.bind(this))},setLabelVal:function(a){this.properties.labelVal(a)},resolvePreviewId:function(a){var b=this.context.viewModel.form().findControlAndParent(a),c="";if(b)switch(b.node.type){case f.SELECT:c="#oj-select-choice-"+b.node.domIdPrefix+b.node.id;break;default:c="#"+b.node.domIdPrefix+b.node.id}return c},executeEvent:function(a){return a===e.ON_CLICK.value&&this.readOnly()?Promise.all([]):this._super(a)},targetTypes:g.values()})}),define("DateTimeControl",["require","Control","underscore","ControlTypeId","jquery","knockout","ojs/ojcore"],function(a){"use strict";var b=a("Control"),c=a("underscore"),d=a("ControlTypeId"),e=a("jquery"),f=a("knockout"),g=a("ojs/ojcore");return b.subClass({},{init:function(a,b,e,h,i){var j=this;j._super(a,b,h.getControlDefinitionByType(d.DATE_TIME),e,h,i),c.defaults(e,{help:"",hint:"",readonly:!1,placeHolder:"",defaultValue:"",minValue:null,maxValue:null,format:["yy-MM-dd hh:mm:ss a"],step:["00:30:00:00"]}),j.properties.help=f.observable(e.help),j.properties.hint=f.observable(e.hint),j.properties.placeHolder=f.observable(e.placeHolder),j.properties.minValue=f.observable(e.minValue),j.properties.maxValue=f.observable(e.maxValue),j.properties.readonly=f.observable(e.readonly),j.properties.defaultValue=f.observable(e.defaultValue),j.properties.format=f.observableArray(e.format),j.properties.step=f.observable(e.step),j.properties.dateConverter=f.observable(g.Validation.converterFactory(g.ConverterFactory.CONVERTER_TYPE_DATETIME).createConverter({pattern:j.properties.format()[0]})),j.properties.format.subscribe(function(a){j.properties.dateConverter(g.Validation.converterFactory(g.ConverterFactory.CONVERTER_TYPE_DATETIME).createConverter({pattern:a[0]}))},j),j.properties.parsedStyle.subscribe(function(b){j._applyStyle(a,b)},j),j.afterRenderTime=function(){j._applyStyle(a)},this.domId=h.getScope()+" #"+h.config().domIdPrefix+a},_applyStyle:function(a,b){var c=e(this.domId).ojInputDateTime("widget"),d=this.properties.formattedStyle(),f=b||this.properties.parsedStyle(),g=c.find(".oj-inputdatetime-input-trigger");c.attr("style",f),d.borderWidth&&g.css("border-width",d.borderWidth),d.borderStyle&&g.css("border-style",d.borderStyle),d.borderColor&&g.css("border-color",d.borderColor),d.borderRadius&&(g.css("border-top-right-radius",d.borderRadius),g.css("border-bottom-right-radius",d.borderRadius))},_propertiesToJS:function(){var a=this._super();return delete a.dateConverter,a}})}),define("EmailControl",["require","InputTextControl","ojL10n!rendererMsg/nls/renderer","ControlTypeId"],function(a){"use strict";var b=a("InputTextControl"),c=a("ojL10n!rendererMsg/nls/renderer"),d=a("ControlTypeId");return b.subClass({},{init:function(a,b,e,f,g){this._super(a,b,e,f,g,f.getControlDefinitionByType(d.EMAIL)),this.properties.pattern("^[_A-Za-z0-9-\\+]+(\\.[_A-Za-z0-9-]+)*@[A-Za-z0-9-]+(\\.[A-Za-z0-9]+)*(\\.[A-Za-z]{2,})$"),this.properties.patternMessage(c.MESSAGE_INVALID_EMAIL)}})}),define("UrlControl",["require","InputTextControl","ojL10n!rendererMsg/nls/renderer","ValidationHelper","ControlTypeId"],function(a){"use strict";var b=a("InputTextControl"),c=a("ojL10n!rendererMsg/nls/renderer"),d=a("ValidationHelper"),e=a("ControlTypeId");return b.subClass({},{init:function(a,b,f,g,h){this._super(a,b,f,g,h,g.getControlDefinitionByType(e.URL)),this.properties.pattern(d.urlPattern),this.properties.patternMessage(c.MESSAGE_INVALID_URL)}})}),define("HeadingType",["require","ojL10n!rendererMsg/nls/renderer"],function(a){"use strict";var b=a("ojL10n!rendererMsg/nls/renderer"),c={PARAGRAPH:{value:"MessageTypeParagraph",label:b.MESSAGE_TYPE_PARAGRAPH},H1:{value:"MessageTypeHeading1",label:b.MESSAGE_TYPE_HEADING1},H2:{value:"MessageTypeHeading2",label:b.MESSAGE_TYPE_HEADING2},H3:{value:"MessageTypeHeading3",label:b.MESSAGE_TYPE_HEADING3},H4:{value:"MessageTypeHeading4",label:b.MESSAGE_TYPE_HEADING4},H5:{value:"MessageTypeHeading5",label:b.MESSAGE_TYPE_HEADING5},H6:{value:"MessageTypeHeading6",label:b.MESSAGE_TYPE_HEADING6},values:function(){return[c.PARAGRAPH,c.H1,c.H2,c.H3,c.H4,c.H5,c.H6]}};return c}),define("MessageControl",["require","Control","ControlTypeId","HeadingType","knockout","underscore"],function(a){"use strict";var b=a("Control"),c=a("ControlTypeId"),d=a("HeadingType"),e=a("knockout"),f=a("underscore");return b.subClass({},{init:function(a,b,g,h,i){this._super(a,b,h.getControlDefinitionByType(c.MESSAGE),g,h,i),f.defaults(g,{type:[d.PARAGRAPH.value],defaultValue:b}),this.properties.type=e.observable(g.type),this.properties.defaultValue=e.observable(g.defaultValue)},headingTypes:d.values()})}),define("MoneyControl",["require","InputTextControl","underscore","jquery","knockout","ojL10n!rendererMsg/nls/renderer","ControlTypeId","ojL10n!ojtranslations/nls/localeElements"],function(a){"use strict";var b=a("InputTextControl"),c=a("underscore"),d=a("jquery"),e=a("knockout"),f=a("ojL10n!rendererMsg/nls/renderer"),g=a("ControlTypeId"),h=a("ojL10n!ojtranslations/nls/localeElements"),i=h.main[oj.Config.getLocale()].numbers.currencies;return c.each(i,function(a,b){a.key=b}),i=c.toArray(i),b.subClass({},{currencyOptions:i,init:function(a,b,d,h,i){var j=this;j._super(a,b,d,h,i,h.getControlDefinitionByType(g.MONEY)),c.defaults(d,{currency:[f.DEFAULT_CURRENCY],step:1,defaultValue:null,maxValue:null,minValue:null}),j.properties.currency=e.observable(d.currency),j.properties.step=e.observable(d.step),j.properties.defaultValue=e.observable(d.defaultValue),j.properties.maxValue=e.observable(d.maxValue),j.properties.minValue=e.observable(d.minValue),j.properties.parsedStyle.subscribe(function(b){j._applyStyle(a,b)},j),j.afterRenderMoney=function(){j._applyStyle(a)},j.domId=h.getScope()+" #"+h.config().domIdPrefix+a,j.properties.converterOptions=e.pureComputed(function(){return{type:"number",options:{style:"currency",currency:j.properties.currency()[0],currencyDisplay:"symbol",pattern:f.CURRENCY_PATTERN}}})},_applyStyle:function(a,b){var c=d("#"+a).ojInputNumber("widget"),e=b||this.properties.parsedStyle();c.attr("style",e)},_propertiesToJS:function(){var a=this._super();return delete a.converterOptions,a}})}),define("PhoneControl",["require","InputTextControl","underscore","knockout","ojL10n!rendererMsg/nls/renderer","ControlTypeId"],function(a){"use strict";var b=a("InputTextControl"),c=a("underscore"),d=a("knockout"),e=a("ojL10n!rendererMsg/nls/renderer"),f=a("ControlTypeId");return b.subClass({},{init:function(a,b,g,h,i){this._super(a,b,g,h,i,h.getControlDefinitionByType(f.PHONE)),c.defaults(g,{format:[e.DEFAULT_PHONE_FORMAT],defaultValue:""}),this.properties.format=d.observable(g.format),this.properties.defaultValue=d.observable(g.defaultValue),this._updateProperties(this.properties.format),this.properties.format.subscribe(function(a){this._updateProperties(a)},this)},_updateProperties:function(a){var b="^((((([0-9]{3})-)|((([0-9]{3}))s))([0-9]{3})-([0-9]{4}))|(([0-9]{3})-([0-9]{4})))$";switch(d.utils.unwrapObservable(a)[0]){case e.PHONE_FORMAT_INTERNATIONAL:this.properties.pattern("^((\\+)?[1-9]{1,2})?([-\\s.])?((\\(\\d{1,4}\\))|\\d{1,4})(([-\\s.])?[0-9]{1,12}){1,2}$"),this.properties.patternMessage(e.FORMAT_ERROR_MESSAGE_INTERNATIONAL),this.properties.placeHolder("");break;case e.PHONE_FORMAT_US:default:this.properties.pattern(b),this.properties.patternMessage(e.FORMAT_ERROR_MESSAGE_US),this.properties.placeHolder("xxx-xxx-xxxx")}}})}),define("ImageControl",["require","Control","underscore","knockout","ojL10n!rendererMsg/nls/renderer","ControlTypeId"],function(a){"use strict";var b=a("Control"),c=a("underscore"),d=a("knockout"),e=a("ojL10n!rendererMsg/nls/renderer"),f=a("ControlTypeId");return b.subClass({},{init:function(a,b,g,h,i){this._super(a,b,h.getControlDefinitionByType(f.IMAGE),g,h,i),c.defaults(g,{defaultValue:"",alt:e.TEXT_NO_IMAGE}),this.properties.defaultValue=d.observable(g.defaultValue),this.properties.alt=d.observable(g.alt)}})}),define("VideoControl",["require","Control","underscore","knockout","ControlTypeId"],function(a){"use strict";var b=a("Control"),c=a("underscore"),d=a("knockout"),e=a("ControlTypeId");return b.subClass({},{init:function(a,b,f,g,h){this._super(a,b,g.getControlDefinitionByType(e.VIDEO),f,g,h),c.defaults(f,{showControls:!0,loop:!1,autoPlay:!1,defaultValue:"",allowFullScreen:!0}),this.properties.showControls=d.observable(f.showControls),this.properties.loop=d.observable(f.loop),this.properties.autoPlay=d.observable(f.autoPlay),this.properties.defaultValue=d.observable(f.defaultValue),this.properties.allowFullScreen=d.observable(f.allowFullScreen)}})}),define("ScopeType",["require","ojL10n!rendererMsg/nls/renderer"],function(a){"use strict";var b=a("ojL10n!rendererMsg/nls/renderer"),c={ALL:{label:b.SCOPE_ALL,value:"all"},USER:{label:b.SCOPE_USER,value:"user"},GROUP:{label:b.SCOPE_GROUP,value:"group"},ROLE:{label:b.SCOPE_ROLE,value:"role"},values:function(){return[c.ALL,c.USER,c.GROUP,c.ROLE]}};return c}),define("IdentityControl",["require","LOVControl","jquery","underscore","ControlTypeId","TypeDescription","ScopeType","OptionsType","knockout"],function(a){"use strict";var b=a("LOVControl"),c=a("jquery"),d=a("underscore"),e=a("ControlTypeId"),f=a("TypeDescription"),g=a("ScopeType"),h=a("OptionsType"),i=a("knockout");return b.subClass({},{init:function(a,b,j,k,l){d.defaults(j,{optionsFeed:{type:h.REST.value},help:"",hint:"",allowSelectAll:!0,defaultScope:[g.USER.value],showScopeFilter:!1}),this._super(a,b,k.getControlDefinitionByType(e.IDENTITY_BROWSER),j,k,l);var m=this,n=this.properties.optionsFeed().optionsResolver();c.extend(!0,this.properties,{help:i.observable(j.help),hint:i.observable(j.hint),placeholder:i.observable(j.placeholder),multiple:i.observable(j.multiple),allowSelectAll:i.observable(j.allowSelectAll),defaultScope:i.observableArray(j.defaultScope),options:n.callRest.bind(n,{name:"identities",optionsListBinding:"items"}),showScopeFilter:i.observable(j.showScopeFilter)}),this.properties.parsedStyle.subscribe(function(b){this._setStyle(a,k,b)},this),this.properties.autoFocus.subscribe(function(b){this._setAutoFocus(a,k,b)},this),this.properties.multiple.subscribe(this._componentType.bind(this,k)),this.properties.showScopeFilter.subscribe(function(a){m.setOptions({showScopeFilter:a})}),this.properties.defaultScope.subscribe(function(a){m.setOptions({defaultScope:a})}),this.afterRenderIdentity=function(){setTimeout(function(){m._setStyle(a,k),m._setAutoFocus(a,k)},0)},this._identityId=k.getScope()+" #"+k.config().domIdPrefix+a,this._componentType(k,this.properties.multiple());var o=["id","title","firstName","lastName","type","email","mobile"];this.dataType.isCompatible=function(a){var b=a.isArray()&&a.hasOwnProperty("attributes");if(b)for(var c=a.attributes().length,d=0;d<c;d++)if(a.attributes()[d]&&a.attributes()[d].hasOwnProperty("name")&&-1===o.indexOf(a.attributes()[d].name())){b=!1;break}return b&&!f.equals(a.getTypeDescription(),f.UNKNOWN)},this.ojIdentityObj={component:"ojIdentity",disabled:this.readOnly()?this.readOnly:this.properties.disabled,title:this.properties.hint,help:{definition:this.properties.help()},placeholder:this.properties.placeholder,required:this.properties.required,value:null,options:this.properties.options,multiple:this.properties.multiple,selectAll:this.properties.allowSelectAll,defaultScope:this.properties.defaultScope()[0],showScopeFilter:this.properties.showScopeFilter,scopesOptions:g.values(),selectLabel:this.msg.IDENTITY_SELECT_ALL,noMatchesFound:this.msg.IDENTITY_NO_MATCHES_FOUND,invalidComponentTracker:this.tracker,validators:this.validators}},getDataTemplate:function(){return"identityValueTypeTemplate"},scopeValues:g.values(),setOptions:function(a){c(this._identityId).ojIdentity("option",a),this._refresh()},_refresh:function(){setTimeout(function(){c(this._identityId).ojIdentity("refresh")}.bind(this),0)},_componentType:function(a,b){this.setOptions({multiple:b});var c=this;setTimeout(function(){c._setStyle(c.id,a)},0)},getIdentityValue:function(){for(var a=this.getControlValue(),b=[],c=0;c<a.length;c++)b.push(a[c].id);return b.join()},_setStyle:function(a,b,d){var e=c(this._identityId).ojIdentity("widget"),f=this.properties.formattedStyle();e.attr("style",d||this.properties.parsedStyle()),e.find(".oj-select-choice, .oj-select-choices").css("background-color",f.backgroundColor||""),e.find(".oj-select-choice, .oj-select-selected-choice-label").css("color",f.color||"")},_setAutoFocus:function(a,b,d){var e=d||this.properties.optionsFeed().properties().autoFocus(),f=c(this._identityId).ojIdentity("widget");e?f.attr("autofocus","autofocus"):f.removeAttr("autofocus"),c(b.getScope()+" [autofocus]").first().is(".oj-identity")&&f.find(".oj-select-choice").focus()},toJS:function(){var a=this._super();return a.properties.multiple=this.properties.multiple(),a}})}),define("ColumnSpan",["require","Class","jquery","RendererId","ColumnSpanType"],function(a){"use strict";var b=a("Class"),c=a("jquery"),d=a("RendererId"),e=a("ColumnSpanType");return b.subClass({},{init:function(a,b){this.controls=a,this.context=b},getStyle:function(a,b){var c="";return a.properties.hide()&&this.context.getScope()===d.FORM_RENDERER?c:(c="ALL"===b?this._getAllStyles(a,!1):this._getStyle(a,b,!0),c.trim())},_getAllStyles:function(a,b){var c="";for(var d in e)e.hasOwnProperty(d)&&(c+=this._getStyle(a,d,b));return c},_getStyle:function(a,b,c){var d=0,f=e[b];return d=a.properties.autoColSpan()?this._calculateColSpan(this.controls(),f):a.properties[f.propertyName](),f.getStyleClass(d,c)},_calculateColSpan:function(a,b){var f=0;if(b!==e.SMALL){var g=a;this.context.getScope()===d.FORM_RENDERER&&(g=this._getVisibleControls(a));var h=0,i=0;c.each(g,function(){this.properties.autoColSpan()?i++:h+=this.properties[b.propertyName]()}),f=Math.floor((12-h)/i),f<=0&&(f=1)}else f=12;return f},_getVisibleControls:function(a){var b=[];return c.each(a,function(){this.properties.hide()||b.push(this)}),b}})}),define("ControlContainer",["require","Class","knockout","underscore","ColumnSpan","TreeUtil","jquery"],function(a){"use strict";var b=a("Class"),c=a("knockout"),d=a("underscore"),e=a("ColumnSpan"),f=a("TreeUtil"),g=a("jquery");return b.subClass({},{init:function(a,b,g,h){var i=this;this.viewModel=b.viewModel,d.defaults(a,{controls:[]}),i.controls=c.observableArray(i._generateControls(h,a.controls,b,g)),i.columnSpan=new e(i.controls,b),i.getAllControls=function(a){return f.treeToList([this],a?"getControls":"controls")},i.getControls=function(){return c.unwrap(i.controls)},h.isValid=c.pureComputed({read:function(){var a=h.dataSource?h.dataSource():h.getControls();return d.every(a,function(a){return a.isValid()})},write:function(a){}})},hasValueProperty:function(){return!1},getParent:function(){return this._parent},getBindingContext:function(){return this.getParent()?this.getParent().getContextForChildren(this):""},getContextForChildren:function(a){return this.getBindingContext()},_generateControls:function(a,b,c,d){var e=[];return g.each(b,function(b,f){var g=d.createControl(f.id,f.name,f.type,f,c,a);e.push(g)}),e},findControl:function(a){var b=f.find(this,"controls","id",a);return b=null==b?f.find(this,"controls","properties.originalId",a):b,null!==b?b.node:null}})}),define("Row",["require","knockout","ControlTypeId","jquery","ControlContainer","underscore","UUID"],function(a){"use strict";var b=a("knockout"),c=a("ControlTypeId"),d=a("jquery"),e=a("ControlContainer"),f=a("underscore"),g=a("UUID");return e.subClass({},{init:function(a,e,f,h,i){var j=this;j.id=a||g.createUuid(),j._parent=i,j._super(e,f,h,this),j.context=f,j.type=c.ROW,
j.hide=b.pureComputed(function(){var a=!0;return d.each(j.controls(),function(){return a=this.properties.hide()}),a})},makeCopy:function(){var a=this.toJS();a.id=g.createUuid();var b=[];return f.each(this.controls(),function(a){b.push(a.makeCopy())}),a.controls=b,a},toJS:function(){var a=[];return d.each(this.controls(),function(b,c){a.push(c.toJS())}),{id:this.id,type:this.type,controls:a}},isRepeatable:function(){return!1},findClosest:function(a){return this.getParent().findClosest(a)},onDrop:function(a,b){a.moveRow(this,b)}})}),define("LayoutType",["require","ojL10n!rendererMsg/nls/renderer"],function(a){"use strict";var b=a("ojL10n!rendererMsg/nls/renderer");return{VERTICAL:{value:"VERTICAL",label:b.LAYOUT_VERTICAL},HORIZONTAL:{value:"HORIZONTAL",label:b.LAYOUT_HORIZONTAL}}}),define("PanelControl",["require","ControlTypeId","knockout","jquery","underscore","koToJSUtil","LayoutType","ControlContainer","Control"],function(a){"use strict";var b=a("ControlTypeId"),c=a("knockout"),d=a("jquery"),e=a("underscore"),f=a("koToJSUtil"),g=a("LayoutType"),h=a("ControlContainer");return a("Control").subClass({},{init:function(a,d,f,i,j,k){var l=this;e.defaults(f.properties,{layout:[g.VERTICAL.value],label:""}),l._super(a,d,i.getControlDefinitionByType(b.PANEL),f.properties,i,k),l.container=new h(f,i,j,this),l.controls=l.container.controls,l.getAllControls=l.container.getAllControls.bind(l.container),l.getControls=l.container.getControls.bind(l.container),l.findControl=l.container.findControl.bind(l.container),l.properties.layout=c.observableArray(f.properties.layout),l.isVertical=c.pureComputed(function(){return l.properties.layout()[0]===g.VERTICAL.value})},hasValueProperty:function(){return!1},toJS:function(){var a=[];d.each(this.events(),function(b,c){a.push(c.toJS())});var b=[];return d.each(this.controls(),function(a,c){b.push(c.toJS())}),{id:this.id,name:this.name(),type:this.type,properties:e.extend({},f.toJS(this.properties),{events:a}),controls:b}},layoutOptions:function(){return[g.VERTICAL,g.HORIZONTAL]},colStyle:function(a,b){return this.properties.layout()[0]===g.VERTICAL.value?"oj-row":"oj-col "+this.container.columnSpan.getStyle(a,b)}})}),define("SectionControl",["require","ControlTypeId","knockout","jquery","HeadingType","koToJSUtil","underscore","ControlContainer","Control","ojs/ojcollapsible"],function(a){"use strict";var b=a("ControlTypeId"),c=a("knockout"),d=a("jquery"),e=a("HeadingType"),f=a("koToJSUtil"),g=a("underscore"),h=a("ControlContainer"),i=a("Control");return a("ojs/ojcollapsible"),i.subClass({},{init:function(a,d,f,i,j,k){f.properties=f.properties||{};var l=this;g.defaults(f.properties,{label:d,expanded:!0,headerType:[e.PARAGRAPH.value],lazyLoading:!1}),l._super(a,d,i.getControlDefinitionByType(b.SECTION),f.properties,i,k),l.container=new h(f,i,j,this),l.controls=l.container.controls,l.getAllControls=l.container.getAllControls.bind(l.container),l.getControls=l.container.getControls.bind(l.container),l.findControl=l.container.findControl.bind(l.container),this.properties.expanded=c.observable(f.properties.expanded),this.properties.headerType=c.observableArray(f.properties.headerType),this.properties.lazyLoading=c.observable(f.properties.lazyLoading),this.domId=i.getScope()+" #"+i.config().domIdPrefix+a,l.properties.label.subscribe(function(){setTimeout(function(){l._refresh()},0)}),l.properties.headerType.subscribe(function(){setTimeout(function(){l._refresh()},0)})},hasValueProperty:function(){return!1},_refresh:function(){d("#section-"+this.id).ojCollapsible("refresh")},toJS:function(){var a=[];d.each(this.events(),function(b,c){a.push(c.toJS())});var b=[];return d.each(this.controls(),function(a,c){b.push(c.toJS())}),{id:this.id,name:this.name(),type:this.type,properties:g.extend({},f.toJS(this.properties),{events:a}),controls:b}},headingTypes:e.values()})}),define("TabControl",["require","ControlTypeId","underscore","jquery","ControlContainer","knockout","Control"],function(a){"use strict";var b=a("ControlTypeId"),c=a("underscore"),d=a("jquery"),e=a("ControlContainer"),f=a("knockout");return a("Control").subClass({},{init:function(a,d,g,h,i,j){var k=this;k._super(a,d,h.getControlDefinitionByType(b.TAB),g.properties,h,j),k.container=new e(g,h,i,this),k.controls=k.container.controls,k.getAllControls=k.container.getAllControls.bind(k.container),k.getControls=k.container.getControls.bind(k.container),k.findControl=k.container.findControl.bind(k.container),c.defaults(g.properties,{lazyLoading:!1}),k.properties.lazyLoading=f.observable(g.properties.lazyLoading)},hasValueProperty:function(){return!1},toJS:function(){var a=[];return d.each(this.controls(),function(b,c){a.push(c.toJS())}),c.extend(this._super(),{controls:a})}})}),define("TabContainerControl",["require","ControlTypeId","knockout","jquery","underscore","ControlContainer","Control","ojs/ojtabs","ojs/ojcollapsible","ojs/ojaccordion"],function(a){"use strict";var b=a("ControlTypeId"),c=a("knockout"),d=a("jquery"),e=a("underscore"),f=a("ControlContainer"),g=a("Control");return a("ojs/ojtabs"),a("ojs/ojcollapsible"),a("ojs/ojaccordion"),g.subClass({},{init:function(a,g,h,i,j,k){var l=this;l._super(a,g,i.getControlDefinitionByType(b.TAB_CONTAINER),h.properties,i,k),l.container=new f(h,i,j,this),l.controls=l.container.controls,l.getAllControls=l.container.getAllControls.bind(l.container),l.getControls=l.container.getControls.bind(l.container),l.findControl=l.container.findControl.bind(l.container),e.defaults(h.properties,{selectedPosition:0}),l.properties.selectedPosition=c.observable(h.properties.selectedPosition),l.properties.selectedPositionStringComputed=c.pureComputed({read:function(){return[String(l.properties.selectedPosition())]},write:function(a){l.properties.selectedPosition(Number(a[0]))}}),l.properties.selectedPositionAsArrayComputed=c.pureComputed({read:function(){return[l.properties.selectedPosition()]},write:function(a){l.properties.selectedPosition(a[0])}}),l.disabledTabs=c.pureComputed(function(){var a=[];return d.each(l.controls(),function(b,c){c.properties.disabled()&&!c.properties.hide()&&a.push(b)}),a})},hasValueProperty:function(){return!1},hasStyle:function(){return!0},toJS:function(){var a=[];return d.each(this.controls(),function(b,c){a.push(c.toJS())}),e.extend(this._super(),{controls:a})}})}),define("RepeatableRowControl",["require","Class","underscore","ControlContainer","ControlTypeId"],function(a){"use strict";var b=a("Class"),c=a("underscore"),d=a("ControlContainer"),e=a("ControlTypeId");return b.subClass({},{type:null,properties:{},init:function(a,b,f,g,h,i,j){var k=this;this.viewModel=f.viewModel,this.context=f,k._bindingValue=i||{},k.id=a,k.rowBindingId=j,k._parent=h,this.getParent().type===e.TABLE?this.type=e.TABLE_ROW:this.type=e.REPEATABLE_SECTION_ROW;var l={controls:[]};i&&c.each(b(),function(a){l.controls.push(a.makeCopy())}),k.container=new d(l,f,g,this),i||(k.container.controls=b),k.controls=k.container.controls,k.getAllControls=k.container.getAllControls.bind(k.container),k.getControls=k.container.getControls.bind(k.container),k.findControl=k.container.findControl.bind(k.container),k.executeEventOnAll=k.executeEvent.bind(k)},executeEvent:function(a){var b=[];return c.each(this.getParent().events(),function(c){var d=c.event().trigger;a===d()&&b.push(c.execute(this))},this),this.context.viewModel.computedExtension.reEvaluateOnControl(a,this),Promise.all(b)},getParent:function(){return this._parent},getBindingContext:function(){return this.getParent()?this.getParent().getContextForChildren(this):""},getContextForChildren:function(a){return this.getBindingContext()},findClosest:function(a){var b=this.findControl(a);return b||this.getParent().findClosest(a)},findControlInsideRepeatable:function(a){var b=this.findControl(a);return b||c.any(this.getAllControls(!0),function(c){if(c.isRepeatable())return!!(b=c.findControlInsideRepeatable(a))}),b},isRepeatable:function(){return!1}})}),define("InheritableProperty",["require","knockout","underscore"],function(a){"use strict";var b=a("knockout"),c=a("underscore");return{createInheritableProperty:function(a,d,e){return b.computed({read:function(){return d()},write:function(b){d(b),c.each(a.getAllControls(!0),function(a){a.properties[e]&&a.properties[e](b)}),c.each(a.getRows(),function(a){c.each(a.getAllControls(!0),function(a){a.properties[e]&&a.properties[e](b)})})}})}}}),define("RepeatableControl",["require","underscore","knockout","jquery","ControlContainer","RepeatableRowControl","EventsId","UUID","OptionsFeed","OptionsType","InheritableProperty","Control"],function(a){"use strict";var b=a("underscore"),c=a("knockout"),d=a("jquery"),e=a("ControlContainer"),f=a("RepeatableRowControl"),g=a("EventsId"),h=a("UUID"),i=a("OptionsFeed"),j=a("OptionsType"),k=a("InheritableProperty");return a("Control").subClass({},{init:function(a,l,m,n,o,p,q){var r=this;r.data=m,r.context=n,r.controlFactory=o,r._super(a,l,n.getControlDefinitionByType(p),m.properties,n,q),r.container=new e(m,n,o,this),r.controls=r.container.controls,r.getAllControls=r.container.getAllControls.bind(r.container),r.findControl=r.container.findControl.bind(r.container),r.getAllBindableControls=c.computed(function(){return r._getAllBindableControls()}),r.getControls=function(){return[]},b.defaults(m.properties,{canAddDelete:!1,multipleSelection:!1,fromConnector:!1,maxRows:200,optionsFeed:{type:j.STATIC.value,properties:{}}}),this.properties.canAddDelete=c.observable(m.properties.canAddDelete),this.properties.multipleSelection=c.observable(m.properties.multipleSelection),this.properties.maxRows=c.observable(m.properties.maxRows),this.properties.fromConnector=c.observable(),this.properties.optionsFeed=c.observable(),this.properties.fromConnector.subscribe(function(a){a?r.properties.optionsFeed(new i(j.LIST_CONNECTOR.value,n,m.properties.optionsFeed.properties,r.id)):r.properties.optionsFeed(new i(j.STATIC.value,n,{}))}),this.properties.fromConnector(m.properties.fromConnector),n.LoVMappingAutoComplete.createAutoCompletes(this,n),r.createRow=function(a,b){var c=new f(h.createUuid(),r.controls,r.context,r.controlFactory,r,a,b);return r.context.addControlDecorators(c),r._initRow(c,a||{}),a&&n.viewModel.form()&&n.viewModel.form().loadEventsExecuted()&&setTimeout(function(){d.each(c.getAllControls(!0),function(a,b){b.executeEvent(g.ON_LOAD.value)})}),c},r.canAddRows=c.pureComputed(function(){return r.dataSource().length<r.properties.maxRows()}),r.selectedRows=c.observableArray([]),r.properties._disabled=c.observable(r.properties.disabled()),r.properties.disabled=k.createInheritableProperty(r,r.properties._disabled,"disabled"),r.properties._readonly=c.observable(m.properties.readonly),r.properties.readonly=k.createInheritableProperty(r,r.properties._readonly,"readonly"),r.selectedRows.subscribe(function(){r.eventsQueue.execute(r,g.ON_SELECTION_CHANGE)})},hasValueProperty:function(){return!1},refreshConnector:function(){this.properties.fromConnector()&&this.properties.optionsFeed().optionsResolver().loadAndSetConnector(this.viewModel.form())},findControlInsideRepeatable:function(a){var c=null;return b.any(this.getRows(),function(b){return!!(c=b.findControlInsideRepeatable(a))}),c},isRepeatable:function(){return!0},_getAllBindableControls:function(){return b.filter(this.getAllControls(!0),function(a){return!!a.properties.binding()})},executeEventOnAll:function(a){var c=[this.executeEvent(a)];return b.each(this.getRows(),function(d){b.each(d.getAllControls(!0),function(b){c=c.concat(b.executeEventOnAll(a))})}),Promise.all(c)},_initRow:function(){},toJS:function(){var a=[];b.each(this.controls(),function(b){a.push(b.toJS())});var c=b.extend(this._super(),{controls:a,readonly:this.properties.readonly()});return c.properties.optionsFeed=this.properties.optionsFeed().toJS(),c}})}),define("RepeatableSectionControl",["require","ControlTypeId","knockout","underscore","RepeatableControl"],function(a){"use strict";var b=a("ControlTypeId"),c=a("knockout"),d=a("underscore");return a("RepeatableControl").subClass({},{init:function(a,e,f,g,h,i){this._triggerBindableReeval=c.observable(!1),this._super(a,e,f,g,h,b.REPEATABLE_SECTION,i),d.defaults(f.properties,{labelBinding:"",labelMapping:""}),this.properties.labelBinding=c.observable(f.properties.labelBinding),this.properties.labelMapping=c.observable(f.properties.labelMapping),this._triggerBindableReeval(!this._triggerBindableReeval()),g.LoVMappingAutoComplete.initialize(this,g)},_getAllBindableControls:function(){this._triggerBindableReeval();var a=this._super();return[{id:this.id,name:this.msg.LABEL_LABEL,properties:{connectorMapping:this.properties.labelMapping,binding:this.properties.labelBinding}}].concat(a)},colStyle:function(){return"oj-row"},_initRow:function(a,b){this._super(a,b),a.properties.label=c.observable(c.unwrap(b[this.properties.labelBinding()]))}})}),define("TableControl",["require","ControlTypeId","RepeatableControl","knockout","ojL10n!rendererMsg/nls/renderer","underscore"],function(a){"use strict";var b=a("ControlTypeId"),c=a("RepeatableControl"),d=a("knockout"),e=a("ojL10n!rendererMsg/nls/renderer"),f=a("underscore");return c.subClass({},{init:function(a,c,g,h,i,j){var k=this;k._super(a,c,g,h,i,b.TABLE,j),f.defaults(g.properties,{hideLabels:!0}),this.properties.hideLabels=d.observable(g.properties.hideLabels),h.LoVMappingAutoComplete.initialize(this,h),f.each(k.styles(),function(a){a.type.label===e.LABEL_TABLE_WIDTH&&(a.controlValue=d.computed(function(){var b=[];f.each(k.controls(),function(a){b.push(a.properties.formattedStyle().tableColumnWidth)});var c=f.without(b,void 0);return 0===c.length?(a.rawValue(c.toString()),c.toString()):(a.rawValue(b.toString()),b.toString())},this),a.newRawValue=d.computed(function(){var b=a.rawValue();if(""===b)f.each(k.controls(),function(a){f.each(a.styles(),function(a){a.type.label===e.LABEL_WIDTH&&a.rawValue("")})});else for(var c=k.controls(),d=b.split(","),g=c.length,h=0;h<g;h++)c[h].styles()[0].rawValue(d[h]);return b},this))})}})}),define("TableColumnControl",["require","ControlTypeId","underscore","ControlContainer","Control"],function(a){"use strict";var b=a("ControlTypeId"),c=a("underscore"),d=a("ControlContainer");return a("Control").subClass({},{init:function(a,c,e,f,g,h){var i=this;i._super(a,c,f.getControlDefinitionByType(b.TABLE_COLUMN),e.properties,f,h),i.container=new d(e,f,g,this),i.controls=i.container.controls,i.getAllControls=i.container.getAllControls.bind(i.container),i.getControls=i.container.getControls.bind(i.container),i.findControl=i.container.findControl.bind(i.container)},hasValueProperty:function(){return!1},toJS:function(){var a=[];return c.each(this.controls(),function(b){a.push(b.toJS())}),c.extend(this._super(),{controls:a})}})}),define("FormReferenceControl",["require","Control","underscore","knockout","jquery","OjSelectItem","TypeCatalog"],function(a){"use strict";var b=a("Control"),c=a("underscore"),d=a("knockout"),e=a("jquery"),f=a("OjSelectItem"),g=a("TypeCatalog");return b.subClass({},{init:function(a,b,h,i,j){var k=i.getFormReferenceControlDefinition(h.properties.reference,i.config().formHandler);this._super(a,b,k,h.properties,i,j);var l=this;l.form=i.config().formHandler.getResolvedControl(h.properties.reference.formId),l.dataType=g.parseRootType("definition",l.form.definition),c.extend(l.properties,{reference:d.observable(k.reference),presentation:d.observableArray([]),defaultValue:{}}),l.presentations=d.observableArray([]),l.computedPresentations=d.computed(function(){var a=[];return c.each(l.presentations(),function(b){a.push(f.create(b.id,b.name))}),a}),l.isValidReference=function(){return!e.isEmptyObject(l.form)},l.getConfig=function(){var a={};return c.extend(a,i.config(),{domIdPrefix:i.config().domIdPrefix+l.id+"-"}),a.convertJSON=!1,a},h.properties.reference.presentationId&&l._initPresentations(h.properties.reference.presentationId),l.selectedPresentation=function(){c.isEmpty(l.properties.presentation())&&l.isValidReference()&&l._initPresentations();var a=l.findPresentation(l.properties.presentation()[0]);return this._buildForm(this.form,a)},l.properties.presentation.subscribe(function(a){var b=a[0];l.properties.reference().presentationId(b),l.loadPresentation(b)}),l.onValidStateChange=function(a){l.isValid(a)},l.controlsLoaded=d.observable(!1),l.loadedCallback=function(){l.controlsLoaded(!0)},l.translationsHandler=i.config().translationsHandler},hasValueProperty:function(){return!1},loadPresentation:function(a){var b=e.extend(!0,{},this.findPresentation(a)),d=e("#"+this.id);c.extend(this.translationsHandler._bundles.defaultBundle,this.form.defaultBundle);var f=this._buildForm(this.form,b);1===c.size(d)&&d.trigger("load",{form:f,config:this.getConfig()})},findPresentation:function(a){return c.find(this.presentations(),function(b){return b.id===a},this)},_initPresentations:function(a){this.presentations(this.form.presentations),this.properties.presentation.push(a||this.form.defaultPresentation)},_propertiesToJS:function(){var a=this._super();return delete a.presentation,a.reference=this.properties.reference().get(),a},getBindings:function(){return e("#"+this.domIdPrefix+this.id).triggerHandler("getBindings")}})}),define("ControlFactory",["require","Class","ButtonControl","InputTextControl","TextAreaControl","SelectControl","ChecklistControl","CheckboxControl","RadioButtonControl","NumberControl","DateControl","TimeControl","LinkControl","DateTimeControl","EmailControl","UrlControl","MessageControl","MoneyControl","PhoneControl","ImageControl","VideoControl","ControlTypeId","IdentityControl","Row","PanelControl","SectionControl","TabControl","TabContainerControl","RepeatableSectionControl","TableControl","FormsLogger","TableColumnControl","FormReferenceControl"],function(a){"use strict";var b=a("Class"),c=a("ButtonControl"),d=a("InputTextControl"),e=a("TextAreaControl"),f=a("SelectControl"),g=a("ChecklistControl"),h=a("CheckboxControl"),i=a("RadioButtonControl"),j=a("NumberControl"),k=a("DateControl"),l=a("TimeControl"),m=a("LinkControl"),n=a("DateTimeControl"),o=a("EmailControl"),p=a("UrlControl"),q=a("MessageControl"),r=a("MoneyControl"),s=a("PhoneControl"),t=a("ImageControl"),u=a("VideoControl"),v=a("ControlTypeId"),w=a("IdentityControl"),x=a("Row"),y=a("PanelControl"),z=a("SectionControl"),A=a("TabControl"),B=a("TabContainerControl"),C=a("RepeatableSectionControl"),D=a("TableControl"),E=a("FormsLogger"),F=a("TableColumnControl"),G=a("FormReferenceControl"),H="CREATE_",I=b.subClass({createControl:function(a,b,c,d,e,f){var g=I[H+c];if(g){var h=g(a,b,d,e,f);return e.addControlDecorators(h),I._log(c,h),h}throw new Error("Unsupported operation exception")},CREATE_INPUT_TEXT:function(a,b,c,e,f){return new d(a,b,c.properties||{},e,f)},CREATE_TEXT_AREA:function(a,b,c,d,f){return new e(a,b,c.properties||{},d,f)},CREATE_BUTTON:function(a,b,d,e,f){return new c(a,b,d.properties||{},e,f)},CREATE_SELECT:function(a,b,c,d,e){return new f(a,b,c.properties||{},d,e)},CREATE_CHECKLIST:function(a,b,c,d,e){return new g(a,b,c.properties||{},d,e)},CREATE_CHECKBOX:function(a,b,c,d,e){return new h(a,b,c.properties||{},d,e)},CREATE_RADIO_BUTTON:function(a,b,c,d,e){return new i(a,b,c.properties||{},d,e)},CREATE_NUMBER:function(a,b,c,d,e){return new j(a,b,c.properties||{},d,e)},CREATE_DATE:function(a,b,c,d,e){return new k(a,b,c.properties||{},d,e)},CREATE_TIME:function(a,b,c,d,e){return new l(a,b,c.properties||{},d,e)},CREATE_DATE_TIME:function(a,b,c,d,e){return new n(a,b,c.properties||{},d,e)},CREATE_EMAIL:function(a,b,c,d,e){return new o(a,b,c.properties||{},d,e)},CREATE_URL:function(a,b,c,d,e){return new p(a,b,c.properties||{},d,e)},CREATE_MESSAGE:function(a,b,c,d,e){return new q(a,b,c.properties||{},d,e)},CREATE_LINK:function(a,b,c,d,e){return new m(a,b,c.properties||{},d,e)},CREATE_MONEY:function(a,b,c,d,e){return new r(a,b,c.properties||{},d,e)},CREATE_PHONE:function(a,b,c,d,e){return new s(a,b,c.properties||{},d,e)},CREATE_IMAGE:function(a,b,c,d,e){return new t(a,b,c.properties||{},d,e)},CREATE_VIDEO:function(a,b,c,d,e){return new u(a,b,c.properties||{},d,e)},CREATE_IDENTITY_BROWSER:function(a,b,c,d,e){return new w(a,b,c.properties||{},d,e)},CREATE_ROW:function(a,b,c,d,e){return new x(a,c,d,I,e)},CREATE_PANEL:function(a,b,c,d,e){return new y(a,b,c,d,I,e)},CREATE_SECTION:function(a,b,c,d,e){return new z(a,b,c,d,I,e)},CREATE_FORM_REFERENCE:function(a,b,c,d,e){return new G(a,b,c,d,e)},CREATE_TAB:function(a,b,c,d,e){return new A(a,b,c,d,I,e)},CREATE_TAB_CONTAINER:function(a,b,c,d,e){return new B(a,b,c,d,I,e)},CREATE_REPEATABLE_SECTION:function(a,b,c,d,e){return new C(a,b,c,d,I,e)},CREATE_TABLE:function(a,b,c,d,e){return new D(a,b,c,d,I,e)},CREATE_TABLE_COLUMN:function(a,b,c,d,e){return new F(a,b,c,d,I,e)},CREATE_BUSINESS_TYPE:function(a,b,c,d,e){return new z(a,b,c,d,I,e)},_log:function(a,b){var c=E.getLogger();c.debug&&a!==v.ROW&&(c.count("[COUNT] [CONTROL]"+a),b.registerRenderListener(function(){return c.count("[COUNT] [RENDERED]"+a),!0}))}},{});return I}),define("Assert",[],function(){"use strict";return function(a,b){if(!a)throw new Error(b||"Assertion failed")}}),define("EventBlock",["require","Class","Assert"],function(a){"use strict";var b=a("Class"),c=a("Assert");return b.subClass({},{init:function(a,b,d){c(!!this._class.TYPE),c(!!d),this.id=a.id,this.viewModel=b,this.scope=d},getType:function(){return this._class.TYPE},getComponentName:function(){return this._class.TEMPLATE_NAME},execute:function(){throw"Must be overriden"},toJS:function(){return{id:this.id,type:this.getType()}}})}),define("BlockTypes",["require"],function(a){"use strict";return{ACTION_BLOCK:"ACTION_BLOCK",IF_BLOCK:"IF_BLOCK",CONNECTOR_BLOCK:"CONNECTOR_BLOCK",ERROR_BLOCK:"ERROR_BLOCK"}}),define("EventAction",["require","Class"],function(a){"use strict";return a("Class").subClass({ACTION_NAME:"DO_NOTHING"},{init:function(a,b,c,d){this.viewModel=b,this.scope=c},getType:function(){return this._class.ACTION_NAME},template:function(){return!1},component:function(){return!1},execute:function(a){},toJS:function(){return{type:this.getType()}}})}),define("SetPropertyAction",["require","EventAction","Assert","Value","underscore"],function(a){"use strict";var b=a("EventAction"),c=a("Assert"),d=a("Value"),e=a("underscore");return b.subClass({ACTION_NAME:"",ACCESSOR:"",createPropertyAction:function(a,b){return this.subClass({ACTION_NAME:a,ACCESSOR:b},{init:function(a,b,c,d){this._super(a,b,c,d)}})}},{init:function(a,b,e,f){this._super(a,b,e,f),c(this._class.ACCESSOR.length>0,"SetPropertyAction class is abstract");var g=f?f.properties[this._class.ACCESSOR]():null;this.value=new d(a.value||{expression:g,controlResolver:{}},b,this.scope)},template:function(){return"valueAccessorEventTemplate"},execute:function(a){a.properties[this._class.ACCESSOR](this.value.resolve(this.viewModel))},toJS:function(){return e.extend({},this._super(),{value:this.value.toJS()})}})}),define("SetStateAction",["require","EventAction","Assert"],function(a){"use strict";var b=a("EventAction"),c=a("Assert");return b.subClass({ACTION_NAME:"",ACCESSOR:"",VALUE:!1,createStateAction:function(a,b,c){return this.subClass({ACTION_NAME:a,ACCESSOR:b,VALUE:c},{init:function(a,b,c,d){this._super(a,b,c,d)}})}},{init:function(a,b,d,e){this._super(a,b,d,e),c(this._class.ACCESSOR.length>0,"SetPropertyAction class is abstract")},execute:function(a){a.properties[this._class.ACCESSOR](this._class.VALUE)}})}),define("SetValueAction",["require","EventAction","Value","knockout","underscore"],function(a){"use strict";var b=a("EventAction"),c=a("Value"),d=a("knockout"),e=a("underscore");return b.subClass({ACTION_NAME:"VALUE"},{init:function(a,b,e,f){this._super(a,b,e,f);var g=f?d.utils.unwrapObservable(f.properties.defaultValue):null,h=f?f.id:null;this.value=new c(a.value||{expression:g,controlResolver:{},controlId:h},b,this.scope)},template:function(){return"valueAccessorEventTemplate"},execute:function(a,b){a.setValue(this.value.resolve(this.viewModel))},toJS:function(){return e.extend({},this._super(),{value:this.value.toJS()})}})}),define("SetLabelBindingAction",["require","Value","SetValueAction","knockout"],function(a){"use strict";var b=a("Value"),c=a("SetValueAction"),d=a("knockout");return c.subClass({ACTION_NAME:"LABEL_BINDING"},{init:function(a,c,e,f){this._super(a,c,e,f);var g=f?d.utils.unwrapObservable(f.properties.defaultLabel):null,h=f?f.id:null;this.value=new b(a.value||{expression:g,controlResolver:{},controlId:h},c,this.scope)},execute:function(a){a.setLabelVal(this.value.resolve(this.viewModel))}})}),define("SetImageValueAction",["require","SetValueAction"],function(a){"use strict";return a("SetValueAction").subClass({ACTION_NAME:"IMAGE_URL"},{init:function(a,b,c,d){this._super(a,b,c,d)}})}),define("SetVideoValueAction",["require","SetValueAction"],function(a){"use strict";return a("SetValueAction").subClass({ACTION_NAME:"VIDEO_SRC"},{init:function(a,b,c,d){this._super(a,b,c,d)}})}),define("SelectTabAction",["require","EventAction"],function(a){"use strict";return a("EventAction").subClass({ACTION_NAME:"SELECT"},{init:function(a,b,c,d){this._super(a,b,c,d)},execute:function(a){var b=this.viewModel.form().findControlAndParent(a.id).parent,c=b.controls().indexOf(a);b.properties.selectedPosition(c)}})}),define("RefreshGlobalConnectorAction",["require","EventAction","knockout","underscore"],function(a){"use strict";var b=a("EventAction"),c=a("knockout"),d=a("underscore");return b.subClass({ACTION_NAME:"REFRESH_GLOBAL_CONNECTOR"},{init:function(a,b,d,e){this._super(a,b,d,e),this.value=c.observable(a.value||"")},template:function(){return"globalConnectorSelectTemplate"},execute:function(a){var b=this,c=this.value()[0];return d.find(a.globalConnectors(),function(a){return a.id===c}).execute().then(function(){b.viewModel.computedExtension.reEvaluateOnScope(c)})},toJS:function(){return d.extend({},this._super(),{value:this.value()})}})}),define("SetMessageValueAction",["require","SetValueAction"],function(a){"use strict";return a("SetValueAction").subClass({ACTION_NAME:"MESSAGE"},{init:function(a,b,c,d){this._super(a,b,c,d)}})}),define("RefreshConnectorAction",["require","EventAction"],function(a){"use strict";return a("EventAction").subClass({ACTION_NAME:"REFRESH_CONNECTOR"},{init:function(a,b,c,d){this._super(a,b,c,d)},execute:function(a){a.refreshConnector()}})}),define("AddRowAction",["require","EventAction"],function(a){"use strict";return a("EventAction").subClass({ACTION_NAME:"ADD_ROW"},{init:function(a,b,c,d){this._super(a,b,c,d)},execute:function(a){a.addRow()}})}),define("SetRepeatableValueAction",["require","EventAction","Value","knockout","underscore"],function(a){"use strict";var b=a("EventAction"),c=a("Value"),d=a("knockout"),e=a("underscore");return b.subClass({ACTION_NAME:"REPEATABLE_VALUE"},{init:function(a,b,e,f){this._super(a,b,e,f);var g=f?f.id:null;this.value=new c(a.value||{expression:"",controlResolver:{},controlId:g},b,this.scope),this.mapping=d.observable(a.mapping||{})},component:function(){return"repeatable-value-mapping"},execute:function(a){var b=this.value.resolve(this.viewModel),c={};e.each(this.mapping(),function(b,d){if(d===a.id)c[a.properties.labelBinding()]=b;else{var e=a.findControl(d);e&&(c[e.properties.binding()]=b)}});var d=[];e.each(b,function(a){var b={};e.each(a,function(a,d){e.each(c,function(c,e){c===d&&(b[e]=a)})}),d.push(b)}),a.setValue(d)},toJS:function(){return e.extend({},this._super(),{value:this.value.toJS(),mapping:this.mapping()})}})}),define("SetInvalidAction",["require","EventAction","underscore","knockout"],function(a){"use strict";var b=a("EventAction"),c=a("underscore"),d=a("knockout");return b.subClass({ACTION_NAME:"SET_INVALID"},{init:function(a,b,c,e){this._super(a,b,c,e),this.summary=d.observable(a.summary||""),this.detail=d.observable(a.detail||"")},template:function(){return"errorValueEventTemplate"},execute:function(a){a.setError(this.summary(),this.detail())},toJS:function(){return c.extend({},this._super(),{summary:this.summary(),detail:this.detail()})}})}),define("ClearValueAction",["require","EventAction"],function(a){"use strict";return a("EventAction").subClass({ACTION_NAME:"CLEAR_VALUE"},{init:function(a,b,c,d){this._super(a,b,c,d)},execute:function(a){a.setValue("")}})}),define("SetOptionsAction",["require","EventAction","Value","knockout","OptionsType","underscore"],function(a){"use strict";var b=a("EventAction"),c=a("Value"),d=a("knockout"),e=a("OptionsType"),f=a("underscore");return b.subClass({ACTION_NAME:"OPTIONS"},{init:function(a,b,e,f){this._super(a,b,e,f);var g=f?f.id:null;this.value=new c(a.value||{expression:"",controlResolver:{},controlId:g},b,this.scope),this.mappingLabel=d.observable(a.mappingLabel||""),this.mappingValue=d.observable(a.mappingValue||"")},component:function(){return"repeatable-value-mapping"},execute:function(a){var b=this.value.resolve(this.viewModel),c={optionsNames:"",optionsValues:"",defaultValue:a.properties.optionsFeed().properties.defaultValue};f.each(b,function(a,b){var d=a,e=a;f.isObject(a)&&(d=a[this.mappingLabel()]||a.label,e=a[this.mappingValue()]||a.value),0===b?(c.optionsNames=d,c.optionsValues=e):(c.optionsNames+="\n"+d,c.optionsValues+="\n"+e)},this);var d=this.viewModel.context,g=d.optionsResolverFactory.createResolver(e.STATIC.value,d,c);a.properties.optionsFeed().optionsResolver(g),a.properties.optionsFeed().properties=g.properties,a.properties.optionsFeed().type(e.STATIC)},toJS:function(){return f.extend({},this._super(),{value:this.value.toJS(),mappingLabel:this.mappingLabel(),mappingValue:this.mappingValue()})}})}),define("SetDataAction",["require","EventAction","Value","ValueTypes","underscore"],function(a){"use strict";var b=a("EventAction"),c=a("Value"),d=a("ValueTypes"),e=a("underscore");return b.subClass({ACTION_NAME:"SET_DATA"},{init:function(a,b,e,f){this._super(a,b,e,f),this.dataAccessor=new c({expression:a.dataAccessor||"",type:d.DATA.value,controlResolver:{},controlId:null},b,this.scope),this.value=new c(a.value||{expression:"",controlResolver:{},controlId:null},b,this.scope)},template:function(){return"setDataEventTemplate"},execute:function(a){var b=this.dataAccessor.expression(),c=this.value.resolve(this.viewModel);this.viewModel.context.payload().setBindingValue(b,c),this.viewModel.context.payloadContext.setValue(b,c)},toJS:function(){return e.extend({},this._super(),{dataAccessor:this.dataAccessor.expression(),value:this.value.toJS()})}})}),define("RemoveRowAction",["require","EventAction"],function(a){"use strict";return a("EventAction").subClass({ACTION_NAME:"REMOVE_ROW"},{init:function(a,b,c,d){this._super(a,b,c,d)},execute:function(a){a.getParent().removeRow(a)}})}),define("ActionsMap",["require","ojL10n!rendererMsg/nls/renderer","EventAction","SetPropertyAction","SetStateAction","SetValueAction","SetLabelBindingAction","SetImageValueAction","SetVideoValueAction","SelectTabAction","RefreshGlobalConnectorAction","SetMessageValueAction","RefreshConnectorAction","AddRowAction","SetRepeatableValueAction","SetInvalidAction","ClearValueAction","SetOptionsAction","SetDataAction","RemoveRowAction"],function(a){"use strict";var b=a("ojL10n!rendererMsg/nls/renderer"),c=a("EventAction"),d=a("SetPropertyAction"),e=a("SetStateAction"),f=a("SetValueAction"),g=a("SetLabelBindingAction"),h=a("SetImageValueAction"),i=a("SetVideoValueAction"),j=a("SelectTabAction"),k=a("RefreshGlobalConnectorAction"),l=a("SetMessageValueAction"),m=a("RefreshConnectorAction"),n=a("AddRowAction"),o=a("SetRepeatableValueAction"),p=a("SetInvalidAction"),q=a("ClearValueAction"),r=a("SetOptionsAction"),s=a("SetDataAction"),t=a("RemoveRowAction");return{DO_NOTHING:{value:"DO_NOTHING",label:b.DO_NOTHING,disabled:!0,Action:c},VALUE:{value:"VALUE",label:b.LABEL_VALUE,Action:f},SHOW:{value:"SHOW",label:b.SHOW,Action:e.createStateAction("SHOW","hide",!1)},HIDE:{value:"HIDE",label:b.LABEL_HIDE,Action:e.createStateAction("HIDE","hide",!0)},ENABLE:{value:"ENABLE",label:b.ENABLE,Action:e.createStateAction("ENABLE","disabled",!1)},DISABLE:{
value:"DISABLE",label:b.DISABLE,Action:e.createStateAction("DISABLE","disabled",!0)},REQUIRED:{value:"REQUIRED",label:b.LABEL_REQUIRED,Action:e.createStateAction("REQUIRED","required",!0)},OPTIONAL:{value:"OPTIONAL",label:b.OPTIONAL,Action:e.createStateAction("OPTIONAL","required",!1)},EXPAND:{value:"EXPAND",label:b.EXPAND,Action:e.createStateAction("EXPAND","expanded",!0)},COLLAPSE:{value:"COLLAPSE",label:b.COLLAPSE,Action:e.createStateAction("COLLAPSE","expanded",!1)},READONLY:{value:"READONLY",label:b.LABEL_READONLY,Action:e.createStateAction("READONLY","readonly",!0)},EDITABLE:{value:"EDITABLE",label:b.EDITABLE,Action:e.createStateAction("EDITABLE","readonly",!1)},LABEL:{value:"LABEL",label:b.LABEL_LABEL,Action:d.createPropertyAction("LABEL","label")},MESSAGE:{value:"MESSAGE",label:b.MESSAGE,Action:l},IMAGE_URL:{value:"IMAGE_URL",label:b.IMAGE_URL,Action:h},VIDEO_SRC:{value:"VIDEO_SRC",label:b.LABEL_SOURCE_URL,Action:i},ALTERNATIVE_TEXT:{value:"ALTERNATIVE_TEXT",label:b.LABEL_ALT_TEXT,Action:d.createPropertyAction("ALTERNATIVE_TEXT","alt")},HINT:{value:"HINT",label:b.LABEL_HINT,Action:d.createPropertyAction("HINT","hint")},HELP:{value:"HELP",label:b.LABEL_HELP,Action:d.createPropertyAction("HELP","help")},MIN_VALUE:{value:"MIN_VALUE",label:b.LABEL_MIN_VALUE,Action:d.createPropertyAction("MIN_VALUE","minValue")},MAX_VALUE:{value:"MAX_VALUE",label:b.LABEL_MAX_VALUE,Action:d.createPropertyAction("MAX_VALUE","maxValue")},MIN_LENGTH:{value:"MIN_LENGTH",label:b.LABEL_MIN_LENGTH,Action:d.createPropertyAction("MIN_LENGTH","minLength")},MAX_LENGTH:{value:"MAX_LENGTH",label:b.LABEL_MAX_LENGTH,Action:d.createPropertyAction("MAX_LENGTH","maxLength")},PATTERN:{value:"PATTERN",label:b.LABEL_PATTERN_VALUE,Action:d.createPropertyAction("PATTERN","pattern")},PLACEHOLDER:{value:"PLACEHOLDER",label:b.LABEL_PLACEHOLDER,Action:d.createPropertyAction("PLACEHOLDER","placeHolder")},SELECT:{value:"SELECT",label:b.SELECT,Action:j},ADD_ROW:{value:"ADD_ROW",label:b.ADD_ROW,Action:n},REFRESH_CONNECTOR:{value:"REFRESH_CONNECTOR",label:b.REFRESH_CONNECTOR,Action:m},SET_INVALID:{value:"SET_INVALID",label:b.THROW_ERROR,Action:p},REPEATABLE_VALUE:{value:"REPEATABLE_VALUE",label:b.LABEL_VALUE,Action:o},OPTIONS:{value:"OPTIONS",label:b.SET_OPTIONS,Action:r},LABEL_BINDING:{value:"LABEL_BINDING",label:b.LABEL_LABEL,Action:g},CLEAR_VALUE:{value:"CLEAR_VALUE",label:b.CLEAR_VALUE,Action:q},REMOVE_ROW:{value:"REMOVE_ROW",label:b.REMOVE_ROW,Action:t},CAN_ADD_REMOVE_ROWS:{value:"CAN_ADD_REMOVE_ROWS",label:b.ENABLE_ADD_REMOVE_ROWS,Action:e.createStateAction("CAN_ADD_REMOVE_ROWS","canAddDelete",!0)},CANT_ADD_REMOVE_ROWS:{value:"CANT_ADD_REMOVE_ROWS",label:b.DISABLE_ADD_REMOVE_ROWS,Action:e.createStateAction("CANT_ADD_REMOVE_ROWS","canAddDelete",!1)},REFRESH_GLOBAL_CONNECTOR:{value:"REFRESH_GLOBAL_CONNECTOR",label:b.REFRESH_GLOBAL_CONNECTOR,Action:k},SET_DATA:{value:"SET_DATA",label:b.SET_DATA,Action:s}}}),define("SetStyleAction",["require","EventAction","Assert","knockout","underscore"],function(a){"use strict";var b=a("EventAction"),c=a("Assert"),d=a("knockout"),e=a("underscore");return b.subClass({ACTION_NAME:"",STYLE:null,createStyleAction:function(a,b){return this.subClass({ACTION_NAME:a,STYLE:b},{init:function(a,b,c,d){this._super(a,b,c,d)}})}},{init:function(a,b,e,f){this._super(a,b,e,f),c(!!this.style(),"SetStyleAction class is abstract");var g=f?d.unwrap(f.properties.formattedStyle()[this.style().name]):null;g=g||this.style().default,this.value=d.observable(a.value||g)},template:function(){return"styleValueEventTemplate"},style:function(){return this._class.STYLE},execute:function(a){e.find(a.styles(),function(a){return a.type.name===this.style().name},this).value(this.value())},toJS:function(){return e.extend({},this._super(),{value:this.value()})}})}),define("ToggleClassAction",["require","EventAction","knockout","StyleTypeId","underscore"],function(a){"use strict";var b=a("EventAction"),c=a("knockout"),d=a("StyleTypeId"),e=a("underscore");return b.subClass({ACTION_NAME:"TOGGLE_CLASS",STYLE:d.CLASS_NAME},{init:function(a,b,d,e){this._super(a,b,d,e),this.value=c.observable(a.value||"")},template:function(){return"styleValueEventTemplate"},style:function(){return this._class.STYLE},execute:function(a){var b=e.find(a.styles(),function(a){return a.type.name===this.style().name},this),c=b.value().split(" ");e.contains(c,this.value())?b.value(e.without(c,this.value()).join(" ")):b.value(c.concat([this.value()]).join(" "))},toJS:function(){return e.extend({},this._super(),{value:this.value()})}})}),define("AddClassAction",["require","ToggleClassAction","underscore"],function(a){"use strict";var b=a("ToggleClassAction"),c=a("underscore");return b.subClass({ACTION_NAME:"ADD_CLASS"},{init:function(a,b,c,d){this._super(a,b,c,d)},execute:function(a){var b=c.find(a.styles(),function(a){return a.type.name===this.style().name},this),d=b.value().split(" ");b.value(d.concat([this.value()]).join(" "))}})}),define("RemoveClassAction",["require","ToggleClassAction","underscore"],function(a){"use strict";var b=a("ToggleClassAction"),c=a("underscore");return b.subClass({ACTION_NAME:"REMOVE_CLASS"},{init:function(a,b,c,d){this._super(a,b,c,d)},execute:function(a){var b=c.find(a.styles(),function(a){return a.type.name===this.style().name},this),d=b.value().split(" ");b.value(c.without(d,this.value()).join(" "))}})}),define("StyleActionsMap",["require","ojL10n!rendererMsg/nls/renderer","SetStyleAction","StyleTypeId","ToggleClassAction","AddClassAction","RemoveClassAction"],function(a){"use strict";var b=a("ojL10n!rendererMsg/nls/renderer"),c=a("SetStyleAction"),d=a("StyleTypeId"),e=a("ToggleClassAction"),f=a("AddClassAction"),g=a("RemoveClassAction");return{BACKGROUND_COLOR:{value:"BACKGROUND_COLOR",label:d.BACKGROUND_COLOR.label,Action:c.createStyleAction("BACKGROUND_COLOR",d.BACKGROUND_COLOR)},COLOR:{value:"COLOR",label:d.COLOR.label,Action:c.createStyleAction("COLOR",d.COLOR)},SIZE:{value:"SIZE",label:d.SIZE.label,Action:c.createStyleAction("SIZE",d.SIZE)},TEXT_ALIGN:{value:"TEXT_ALIGN",label:d.TEXT_ALIGN.label,Action:c.createStyleAction("TEXT_ALIGN",d.TEXT_ALIGN)},WIDTH:{value:"WIDTH",label:d.WIDTH.label,Action:c.createStyleAction("WIDTH",d.WIDTH)},HEIGHT:{value:"HEIGHT",label:d.HEIGHT.label,Action:c.createStyleAction("HEIGHT",d.HEIGHT)},BORDER_COLOR:{value:"BORDER_COLOR",label:d.BORDER_COLOR.label,Action:c.createStyleAction("BORDER_COLOR",d.BORDER_COLOR)},BORDER_STYLE:{value:"BORDER_STYLE",label:d.BORDER_STYLE.label,Action:c.createStyleAction("BORDER_STYLE",d.BORDER_STYLE)},BORDER_WIDTH:{value:"BORDER_WIDTH",label:d.BORDER_WIDTH.label,Action:c.createStyleAction("BORDER_WIDTH",d.BORDER_WIDTH)},BORDER_RADIUS:{value:"BORDER_RADIUS",label:d.BORDER_RADIUS.label,Action:c.createStyleAction("BORDER_RADIUS",d.BORDER_RADIUS)},CONTROL_ALIGN:{value:"CONTROL_ALIGN",label:d.CONTROL_ALIGN.label,Action:c.createStyleAction("CONTROL_ALIGN",d.CONTROL_ALIGN)},LABEL_COLOR:{value:"LABEL_COLOR",label:d.LABEL_COLOR.label,Action:c.createStyleAction("LABEL_COLOR",d.LABEL_COLOR)},LABEL_SIZE:{value:"LABEL_SIZE",label:d.LABEL_SIZE.label,Action:c.createStyleAction("LABEL_SIZE",d.LABEL_SIZE)},TOGGLE_CLASS:{value:"TOGGLE_CLASS",label:b.TOGGLE_CLASS,Action:e},ADD_CLASS:{value:"ADD_CLASS",label:b.ADD_CLASS,Action:f},REMOVE_CLASS:{value:"REMOVE_CLASS",label:b.REMOVE_CLASS,Action:g}}}),define("ActionFactory",["require","ActionsMap","underscore","StyleActionsMap"],function(a){"use strict";var b=a("ActionsMap"),c=a("underscore"),d=a("StyleActionsMap");return{createAction:function(a,e,f,g,h){var i=b[h]||d[h]||b.DO_NOTHING;return g=c.isArray(g)?g[0]:g,new i.Action(f,a,e,g)}}}),define("EventActionBlock",["require","EventBlock","knockout","underscore","BlockTypes","ControlResolver","Value","ActionFactory"],function(a){"use strict";var b=a("EventBlock"),c=a("knockout"),d=a("underscore"),e=a("BlockTypes"),f=a("ControlResolver"),g=a("Value"),h=a("ActionFactory");return b.subClass({TYPE:e.ACTION_BLOCK,TEMPLATE_NAME:"event-block"},{init:function(a,b,d){this._super(a,b,d),this.controlResolver=new f(a.controlResolver,b,d),this.action=c.observable(h.createAction(b,this.scope,a.action,this.control(),a.action.type))},control:function(){var a=this.viewModel.form();if(a)return this.controlResolver.resolve(a.presentation(),this.scope.eventControl)},execute:function(){var a=this,b=this.control();d.isArray(b)||(b=[b]);var e=Promise.resolve();return d.each(d.flatten(b),function(b){var d=a.scope.eventControl;e=e.then(function(){try{return a.scope.currentRowControl=b,a.scope.eventControl=d,c.unwrap(a.action).execute(b)||Promise.resolve()}catch(a){console.error('User Events Error: Error executing action."')}})},this),e},getBundle:function(){var a={},b=this.id,d=this.action();if(d&&d.value&&c.utils.unwrapObservable(d.value)instanceof g){var e=d.value._getBundle();e.length>0&&(a[b]=e)}return a},decorate:function(){var a=this.id,b=this.action();return b&&b.value&&c.utils.unwrapObservable(b.value)instanceof g&&b.value.decorate(this.viewModel,a),!0},toJS:function(){return d.extend(this._super(),{action:this.action().toJS(),controlResolver:this.controlResolver.toJS()})}})}),define("ComparatorMap",["require","ojL10n!rendererMsg/nls/renderer"],function(a){"use strict";var b=a("ojL10n!rendererMsg/nls/renderer"),c={IS_TRUE:{value:"IS_TRUE",label:b.IS_TRUE,isTrue:function(a){return!!a}},IS_FALSE:{value:"IS_FALSE",label:b.IS_FALSE,isTrue:function(a){return!c.IS_TRUE.isTrue(a)}},EQUALS:{value:"EQUALS",label:b.EQUALS,isTrue:function(a,b){return a==b}},NOT_EQUALS:{value:"NOT_EQUALS",label:b.NOT_EQUALS,isTrue:function(a,b){return!c.EQUALS.isTrue(a,b)}},IS_GREATER:{value:"IS_GREATER",label:b.IS_GREATER,isTrue:function(a,b){return a>b}},IS_NOT_GREATER:{value:"IS_NOT_GREATER",label:b.IS_NOT_GREATER,isTrue:function(a,b){return!c.IS_GREATER.isTrue(a,b)}},IS_LESS:{value:"IS_LESS",label:b.IS_LESS,isTrue:function(a,b){return a<b}},IS_NOT_LESS:{value:"IS_NOT_LESS",label:b.IS_NOT_LESS,isTrue:function(a,b){return!c.IS_LESS.isTrue(a,b)}}};return c}),define("EventCondition",["require","Class","Value","knockout","ValueTypes","underscore","ComparatorMap"],function(a){"use strict";var b=a("Class"),c=a("Value"),d=a("knockout"),e=a("ValueTypes"),f=a("underscore"),g=a("ComparatorMap");return b.subClass({},{init:function(a,b,h,i){this.viewModel=b,this.scope=h;var j=f.extend({type:e.CONTROL.value},a.value);this.value=new c(j,b,h),this.comparator=d.observable(a.comparator||g.EQUALS.value),this.value2=new c(a.value2,b,h),this.union=d.observable(a.union||"AND"),this.ifBlockId=i},isTrue:function(){return g[this.comparator()].isTrue(this.value.resolve(this.viewModel),this.value2.resolve(this.viewModel))},getBundle:function(){var a={},b=f.union(this.value._getBundle(),this.value2._getBundle());return b.length&&(a[this.ifBlockId]=b),a},decorate:function(){return this.value.decorate(this.viewModel,this.ifBlockId,this.value),this.value2.decorate(this.viewModel,this.ifBlockId,this.value),!0},toJS:function(){return{value:this.value.toJS(),comparator:this.comparator(),value2:this.value2.toJS(),union:this.union()}}})}),define("EventIfBlock",["require","EventBlock","knockout","underscore","BlockTypes","EventCondition","BlockFactory"],function(require){"use strict";var EventBlock=require("EventBlock"),ko=require("knockout"),_=require("underscore"),BlockTypes=require("BlockTypes"),EventCondition=require("EventCondition");return EventBlock.subClass({TYPE:BlockTypes.IF_BLOCK,TEMPLATE_NAME:"event-if-block",ELSE_ACTIONS:"elseActions",THEN_ACTIONS:"thenActions"},{init:function(a,b,c){var d=require("BlockFactory");this._super(a,b,c);var e=[],f=this;_.each(a.conditions,function(a){e.push(new EventCondition(a,b,c,f.id))}),0===e.length&&e.push(new EventCondition({},b,c,this.id)),this.conditions=ko.observableArray(e);var g=[];_.each(a.thenActions,function(a){g.push(d.createBlock(b,a,c))}),this.thenActions=ko.observableArray(g);var h=[];_.each(a.elseActions,function(a){h.push(d.createBlock(b,a,c))}),this.elseActions=ko.observableArray(h)},isTrue:function(){var unionStrings={AND:" && ",OR:" || "},booleanString="true";return _.each(this.conditions(),function(a){var b=unionStrings[a.union()];booleanString=booleanString+b+(!!a.isTrue()).toString()}),eval(booleanString)},execute:function(){var a=this.isTrue()?this.thenActions():this.elseActions(),b=this.scope.eventControl,c=this,d=Promise.resolve();return _.each(ko.unwrap(a),function(a){d=d.then(function(){return c.scope.eventControl=b,a.execute()||Promise.resolve()})}),d},getElseActionsJS:function(){var a=[];return _.each(this.elseActions(),function(b){a.push(b.toJS())}),a},getBundle:function(){var a={};return _.each(this.conditions(),function(b){_.extend(a,b.getBundle())}),_.each(this.thenActions(),function(b){_.extend(a,b.getBundle())}),_.each(this.elseActions(),function(b){_.extend(a,b.getBundle())}),a},decorate:function(){return _.each(this.conditions(),function(a){a.decorate()}),_.each(this.thenActions(),function(a){a.decorate()}),_.each(this.elseActions(),function(a){a.decorate()}),!0},toJS:function(){var a=[];_.each(this.conditions(),function(b){a.push(b.toJS())});var b=[];return _.each(this.thenActions(),function(a){b.push(a.toJS())}),_.extend(this._super(),{conditions:a,thenActions:b,elseActions:this.getElseActionsJS()})}})}),define("EventConnectorBlock",["require","EventBlock","knockout","BlockTypes","underscore","OptionsFeed","NameGenerator","OptionsType","BlockFactory"],function(a){"use strict";var b=a("EventBlock"),c=a("knockout"),d=a("BlockTypes"),e=a("underscore"),f=a("OptionsFeed"),g=a("NameGenerator"),h=a("OptionsType");return b.subClass({TYPE:d.CONNECTOR_BLOCK,TEMPLATE_NAME:"event-connector-block"},{init:function(b,d,i){var j=a("BlockFactory");this._super(b,d,i),this.connectorFeed=new f(h.EVENT_CONNECTOR.value,d.context,b.connectorFeedProperties,i.controlId),this.responseName=c.observable(b.responseName||g.generateName("response",i.getAttributes()));var k=[];e.each(b.errorBlocks,function(a){k.push(j.createBlock(d,a,i))}),this.errorBlocks=c.observableArray(k),this.form=d.form(),d.form.subscribe(function(a){this.form=a},this)},execute:function(){var a=this;return new Promise(function(b,c){a.connectorFeed.optionsResolver().controlId=a.scope.eventControl.id,a.connectorFeed.optionsResolver().loadConnector(a.form).then(function(c){a.scope.setValue(a.responseName(),c.response),b()}).catch(function(b){var d=JSON.parse(b);e.each(a.errorBlocks(),function(a){a.execute(d)}),c()})})},getBundle:function(){var a={};return e.each(this.errorBlocks(),function(b){e.extend(a,b.getBundle())}),a},decorate:function(){return e.each(this.errorBlocks(),function(a){a.decorate()}),!0},toJS:function(){var a=[];return e.each(this.errorBlocks(),function(b){a.push(b.toJS())}),e.extend(this._super(),{connectorFeedProperties:this.connectorFeed.toJS().properties,errorBlocks:a,responseName:this.responseName()})}})}),define("EventErrorBlock",["require","EventActionBlock","knockout","BlockTypes","underscore"],function(a){"use strict";var b=a("EventActionBlock"),c=a("knockout"),d=a("BlockTypes"),e=a("underscore");return b.subClass({TYPE:d.ERROR_BLOCK,TEMPLATE_NAME:"event-error-block"},{init:function(a,b,d){this._super(a,b,new b.context.scopeFactory.ErrorScope(b.getCurrentGlobalScope())),this.errorCode=c.observable(a.errorCode||0)},execute:function(a){this.errorCode()&&this.errorCode()!=a.errorCode||(this.scope.setValue("error",a),this._super())},toJS:function(){return e.extend(this._super(),{errorCode:this.errorCode()})}})}),define("BlockFactory",["require","UUID","underscore","EventActionBlock","EventIfBlock","EventConnectorBlock","EventErrorBlock","ActionsMap"],function(a){"use strict";var b=a("UUID"),c=a("underscore"),d=a("EventActionBlock"),e=a("EventIfBlock"),f=a("EventConnectorBlock"),g=a("EventErrorBlock"),h=a("ActionsMap");return{createBlock:function(a,e,f){return e=c.extend({id:b.createUuid(),type:d.TYPE},e),this[e.type](a,e,f)},ACTION_BLOCK:function(a,b,e){return b=c.extend({action:{type:h.DO_NOTHING.value},controlResolver:{}},b),new d(b,a,e)},IF_BLOCK:function(a,b,c){return new e(b,a,c)},CONNECTOR_BLOCK:function(a,b,d){return b=c.extend({connectorFeedProperties:{}},b),new f(b,a,d)},ERROR_BLOCK:function(a,b,d){return b=c.extend({action:{type:h.DO_NOTHING.value},controlResolver:{}},b),new g(b,a,d)}}}),define("Presentation",["require","knockout","Form","ControlTypeId","underscore","ControlFactory","BlockFactory","EventReference","TreeUtil","jquery","ControlEventsMap","UUID"],function(a){"use strict";var b=a("knockout"),c=a("Form"),d=a("ControlTypeId"),e=a("underscore"),f=a("ControlFactory"),g=a("BlockFactory"),h=a("EventReference"),i=a("TreeUtil"),j=a("jquery"),k=a("ControlEventsMap"),l=a("UUID");return c.subClass({},{type:d.FORM_PRESENTATION,init:function(a,c){this._super(a),this.viewModel=c.viewModel,c.calls=this.calls,e.defaults(a,{borderColor:"#d6dfe6",borderStyle:null,borderWidth:null,backgroundColor:"#ffffff",properties:{}}),e.extend(this.properties,{borderColor:b.observable(a.borderColor),borderStyle:b.observable(a.borderStyle),borderWidth:b.observable(a.borderWidth),backgroundColor:b.observable(a.backgroundColor)}),this.name=this.properties.name,this.globalConnectors=b.observableArray(),this.globalScope=new c.scopeFactory.Scope(null,this.globalConnectors),this.globalScope.eventControl=this,this.viewModel.globalScope=this.globalScope;var d=[];e.each(b.unwrap(a.properties.globalConnectors),function(a){d.push(g.createBlock(c.viewModel,a,this.viewModel.globalScope))},this),this.globalConnectors(d);var i=[];e.each(a.controls,function(a){var b=f.createControl(a.id,a.name,a.type,a,c,this);i.push(b)},this),this.controls=b.observableArray(i),this.isValid=b.pureComputed(function(){return e.every(this.controls(),function(a){return a.isValid()})}.bind(this));var j=[];e.each(b.unwrap(a.properties.events),function(a){j.push(new h(a.id,c.viewModel))},this),this.events=b.observableArray(j)},executeGlobalConnectors:function(){var a=[];return e.each(this.globalConnectors(),function(b){b.connectorFeed.properties().skipDuringLoad()||a.push(b.execute())}),Promise.all(a)},presentation:function(){return this},executeEvent:function(a){var b=[];return e.each(this.events(),function(c){var d=c.event().trigger;a===d()&&b.push(c.execute())},this),Promise.all(b)},executeEventOnAll:function(a){var b=[this.executeEvent(a)],c=this;return j.each(c.getAllControls(!0),function(c,d){b=b.concat(d.executeEventOnAll(a))}),Promise.all(b)},getValidEvents:function(){return k.PRESENTATION},getAllControls:function(a){return i.treeToList(this.controls(),a?"getControls":"controls")},findControl:function(a){if(a===this.id)return this;var b=this.findControlAndParent(a);return null!==b?b.node:null},findClosest:function(a){return this.findControl(a)},findControlInsideRepeatable:function(a){var b=this.findControl(a);return b||e.any(this.getAllControls(!0),function(c){if(c.isRepeatable())return!!(b=c.findControlInsideRepeatable(a))}),b},getAllPresentationControls:function(){return e.union([this],this.getAllControls())},findControlAndParent:function(a){return i.find(this,"controls","id",a)},getContextForChildren:function(a){return""},makeCopy:function(){var a=this.toJS();a.id=l.createUuid();var b=[];return e.each(this.controls(),function(a){b.push(a.makeCopy())}),a.controls=b,a},isRepeatable:function(){return!1},toJS:function(){var a=[];e.each(this.controls(),function(b){a.push(b.toJS())});var b=[];e.each(this.events(),function(a){b.push(a.toJS())});var c=[];return e.each(this.globalConnectors(),function(a){c.push(a.toJS())}),{id:this.id,name:this.properties.name(),description:this.properties.description(),borderColor:this.properties.borderColor(),borderWidth:this.properties.borderWidth(),borderStyle:this.properties.borderStyle(),backgroundColor:this.properties.backgroundColor(),controls:a,properties:{events:b,globalConnectors:c}}}})}),define("EventsTranslator",["require","underscore"],function(a){"use strict";var b=a("underscore");return{translate:function(a){b.each(a,function(a){var c=a.blocks();b.each(c,function(a){a.decorate()});var d=a.connectors();b.each(d,function(a){a.decorate()})})}}}),define("EventTrigger",["require","Class","knockout","BlockFactory","jquery","underscore"],function(a){"use strict";var b=a("Class"),c=a("knockout"),d=a("BlockFactory"),e=a("jquery"),f=a("underscore");return b.subClass({},{init:function(a,b,e,g,h,i,j){this.id=a,this.name=b,this.controlId=g,this.trigger=c.observable(e),this.viewModel=j,this.connectors=c.observableArray(),this.scope=new j.context.scopeFactory.Scope(j.getCurrentGlobalScope(),this.connectors),this.scope.controlId=g;var k=[];f.each(i,function(a){k.push(d.createBlock(j,a,this.scope))},this),this.connectors(k);var l=[];f.each(h,function(a){l.push(d.createBlock(j,a,this.scope))},this),this.blocks=c.observableArray(l)},execute:function(a){this.scope.clearValues(),e(".spinnerContainer").stop().fadeIn();var b=this,d=[];return f.each(b.connectors(),function(c){b.scope.eventControl=a,d.push(c.execute())}),new Promise(function(g){Promise.all(d).then(function(){var d=Promise.resolve();f.each(c.unwrap(b.blocks()),function(c){d=d.then(function(){return b.scope.eventControl=a,c.execute()||Promise.resolve()})}),d.then(function(){e(".spinnerContainer").stop().fadeOut(),g()})}.bind(b)).catch(function(){e(".spinnerContainer").stop().fadeOut(),g()}.bind(b))})},toJS:function(){var a=[];f.each(this.blocks(),function(b){a.push(b.toJS())});var b=[];return f.each(this.connectors(),function(a){b.push(a.toJS())}),{id:this.id,name:this.name,trigger:this.trigger(),controlId:this.controlId,blocks:a,connectors:b}}})}),define("StylePreprocessor",["require","Class"],function(a){"use strict";return a("Class").subClass({sanitize:function(a,b){b=b?b+" ":"";for(var c="",d=this.rulesForCssText(a),e=0;e<d.length;e++){for(var f=d[e].selectorText.split(","),g=d[e].cssText,h=0;h<f.length;h++)g=g.replace(f[h],b+f[h]);c+=g+" "}return c},rulesForCssText:function(a){var b=document.implementation.createHTMLDocument(""),c=document.createElement("style");return c.textContent=a,b.body.appendChild(c),c.sheet.cssRules}},{})}),define("FormExtensions",["require","knockout","jquery","underscore","EventTrigger","StylePreprocessor","Class"],function(a){"use strict";var b=a("knockout"),c=a("jquery"),d=a("underscore"),e=a("EventTrigger"),f=a("StylePreprocessor");return a("Class").subClass({},{init:function(a,c){d.defaults(a,{eventActions:[],stylesheet:{}}),this.stylesheet=b.observable(a.stylesheet);var f=[];d.each(a.eventActions,function(a){f.push(new e(a.id,a.name,a.trigger,a.controlId,a.blocks,a.connectors,c.viewModel))},this),this.eventActions=b.observableArray(f),this.applyStylesheet(this.stylesheet(),c)},findEvent:function(a){return d.find(this.eventActions(),function(b){return b.id===a})},applyStylesheet:function(a,b){var e=b.getScope()+"-applied-stylesheet";if(d.isEmpty(b.config().domIdPrefix)&&c("."+e).remove(),!d.isEmpty(a)&&a.id){var f=this;b.config().cssHandler.getResolvedControl(a.id).then(function(a){c.isEmptyObject(a)||f._addStyleSheetTag(e,a.content)})}else this._addStyleSheetTag(e,a)},_addStyleSheetTag:function(a,b){if(!d.isEmpty(b)){var c=document.createElement("style");c.className=a+" applied-stylesheet";var e=f.sanitize(b,".canvas");c.appendChild(document.createTextNode(e)),document.head.appendChild(c)}},toJS:function(){var a=[];return d.each(this.eventActions(),function(b){a.push(b.toJS())}),{eventActions:a,stylesheet:c.isEmptyObject(this.stylesheet())?this.stylesheet():{id:this.stylesheet().id}}}})}),define("RendererForm",["require","underscore","jquery","Presentation","EventsId","EventsTranslator","knockout","Payload","FormExtensions","PayloadUtil"],function(a){"use strict";var b=a("underscore"),c=a("jquery"),d=a("Presentation"),e=a("EventsId"),f=a("EventsTranslator"),g=a("knockout"),h=a("Payload"),i=a("FormExtensions"),j=a("PayloadUtil");return d.subClass({},{init:function(a,b){this._super(a,b),this.extensions=new i(a,b),this.payload=new h(a,b),b.payload(this.payload),this.controlsLoaded=g.observable(0===this.controls().length),this.loadEventsExecuted=g.observable(!!this.viewModel.staticForm);var c=this;this.loaded=g.pureComputed({read:function(){return c.controlsLoaded()&&c.loadEventsExecuted()}})},initPayloadAndRunEvents:function(){var a=this;a.populateValues(),f.translate(a.extensions.eventActions()),setTimeout(function(){a.executeOnLoadEvents()})},populateValues:function(){var a=this.payload.getBindings();b.size(a)>0&&(b.each(this.getAllControls(!0),function(b){j.initValueFromPayload(b,a)},this),b.each(a,function(a,b){this.payload.payloadContext.isObservableDefined(b)||this.payload.payloadContext.setValue(b,a)},this))},updateBindings:function(){this.payload.updateBindings(this.controls)},getBindings:function(){return this.updateBindings(),this.payload.getBindings()},executeOnLoadEvents:function(){var a=this;return c(".spinnerContainer").stop().fadeIn(),this.executeGlobalConnectors().then(function(){return a.executeEventOnAll(e.ON_LOAD.value).then(function(){a.loadEventsExecuted(!0),c(".spinnerContainer").stop().fadeOut()})})},afterRenderingRowControls:function(a){var b=this,d=b.viewModel.context.runningAsyncTemplates.subscribe(function(e){0===e&&(d.dispose(),b.viewModel.context.focusControl(c(a).parents("form-renderer").find("[autofocus]")),b.controlsLoaded(!0))})},toJS:function(){return b.extend(this._super(),this.extensions.toJS(),{payload:this.payload.toJS(),calls:this._callsToJS()})}})}),define("ComputedExtension",["require","EventsId","underscore","FormsLogger","ControlReferenceMap","Class"],function(a){"use strict";function b(a,b){return a=a||[],d.contains(a,b)||a.push(b),a}var c=a("EventsId"),d=a("underscore"),e=a("FormsLogger"),f=a("ControlReferenceMap"),g=a("Class"),h=[c.ON_CHANGE.value,c.ON_CHILDREN_CHANGE.value,c.ON_ADD_ROW.value,c.ON_REMOVE_ROW.value],i=[f.FIRST.value,f.LAST.value,f.INDEX.value,f.SELECTED.value];return g.subClass({},{structuralControlDependencies:{},controlDependencies:{},scopeDependencies:{},dataDependencies:{},subscriptions:[],viewModel:void 0,init:function(a){this.viewModel=a},_register_CONSTANT:function(){},_register_DATA:function(a,c){var d=c.expression(),e=this.viewModel.context.payloadContext.getObservableValue(d,!0);this.subscriptions.push(e.subscribe(this.reEvaluateOnData.bind(this,a))),this.dataDependencies[d]=b(this.dataDependencies[d],a)},_register_CONTROL:function(a,b){this._registerControlDependency(b.controlResolver,a)},_register_FUNCTION:function(a,b){d.each(b.propertyParam(),function(b){this[this._getRegisterFunction(b)](a,b)},this)},_register_SCOPE:function(a,c){var e=c.expression().split(".")[0],f=d.find(this.viewModel.form().globalConnectors(),function(a){return a.responseName()===e});this.scopeDependencies[f.id]=b(this.scopeDependencies[f.id],a)},_registerControlDependency:function(a,c){var e=a.resolve(c.viewModel.form(),c),f=["__undefined__"];d.isEmpty(e)||(f=d.isArray(e)?d.map(e,function(a){return a.id}):[e.id]),d.each(f,function(a){this.controlDependencies[a]=b(this.controlDependencies[a],c)},this),this._registerStructuralControlDependency(a,c.viewModel.form(),c,f)},_registerStructuralControlDependency:function(a,c,e,f){if(!d.isEmpty(c)&&d.contains(i,a.reference())){var g=a.getControl(c);d.isEmpty(g)||(d.each(f,function(a){this.structuralControlDependencies[g.id]=b(this.structuralControlDependencies[g.id],a)},this),this._registerStructuralControlDependency(a.childControl(),a.resolveChildContext(c,e),e,f))}},_getRegisterFunction:function(a){return"_register_"+a.type().value},_evaluateComputed:function(a){e.getLogger().count("[COUNT] [COMPUTED]"),a.properties.computedValue.scope.eventControl=a,a.setValue(a.properties.computedValue.resolve(this.viewModel))},_evaluateOnLoad:function(a){a.properties.computed&&a.properties.computed()&&(this[this._getRegisterFunction(a.properties.computedValue)](a,a.properties.computedValue),this._evaluateComputed(a))},reEvaluateOnControl:function(a,b){a===c.ON_LOAD.value?this._evaluateOnLoad(b):b&&d.contains(h,a)?this._reEvaluateOnControl(a,b):b&&a===c.ON_SELECTION_CHANGE.value&&this._reCalculateDependencies(b)},_reCalculateDependencies:function(a){var b=this.structuralControlDependencies[a.id];this.structuralControlDependencies[a.id]=[],d.each(b,function(a){var b=this.controlDependencies[a];this.controlDependencies[a]=[],d.each(b,function(a){this._evaluateOnLoad(a)},this)},this)},_reEvaluateOnControl:function(a,b){var e=[];e=d.union(e,this.controlDependencies[b.id]),d.each(e,function(a){this._evaluateComputed(a)},this),b.getParent&&this.reEvaluateOnControl(c.ON_CHILDREN_CHANGE.value,b.getParent()),this._reCalculateDependencies(b)},reEvaluateOnScope:function(a){d.each(this.scopeDependencies[a],function(a){this._evaluateComputed(a)},this)},reEvaluateOnData:function(a){this._evaluateComputed(a)}})}),define("DomPolyfill",["require","underscore"],function(a){"use strict";var b=a("underscore"),c={Element:{element:Element.prototype,functions:{remove:function(){var a=this.parentNode;a&&a.removeChild(this)}}}};return b.each(c,function(a){b.each(a.functions,function(b,c){a.element[c]||(a.element[c]=b)})}),c}),define("RendererViewModel",["require","RendererContext","knockout","jquery","Form","EventsId","RendererLoadPreProcessor","RendererForm","ComputedExtension","FormsLogger","FormValidator","RendererId","DomPolyfill"],function(a){"use strict";var b=a("RendererContext"),c=a("knockout"),d=a("jquery"),e=a("Form"),f=a("EventsId"),g=a("RendererLoadPreProcessor"),h=a("RendererForm"),i=a("ComputedExtension"),j=a("FormsLogger"),k=a("FormValidator"),l=a("RendererId");return a("DomPolyfill"),function(a){function m(a,b,c){q.form().updateBindings(),!c||q.validateData()?a({payload:q.form().payload.toJS()}):b()}function n(a,b,c){q.form().updateBindings(),c?q.form().executeEventOnAll(f.ON_SUBMIT.value).then(function(){return q.rendererContext.eventsQueue.resolveWhenEmpty()}).then(function(){m(a,b,c)}):m(a,b,c)}function o(a){return new Promise(function(b,c){e.resolveOnLoaded(q.form()).then(function(){return q.rendererContext.eventsQueue.resolveWhenEmpty()}).then(function(){n(b,c,a)})})}function p(a){return d(d(a).find("div")[0]).closest(l.FORM_RENDERER)}var q=this;this.staticForm=c.unwrap(a.staticForm),this.formId=c.unwrap(a.formId)||c.unwrap(a.value).form.id,this.presentationId=c.unwrap(a.presentationId)||null,this.onValidStateChange=a.onValidStateChange||function(){},q.form=c.observable(),q.computedExtension=new i(q),q.load=function(d,e){j.getLogger().time("[LOAD]");var f=g.preProcess(d);q.rendererContext=new b(f,q,c.unwrap(a.value).controlBindings,c.unwrap(a.value).bindingContext),q.context=q.rendererContext,q.form(new h(f.form,q.rendererContext)),q.staticForm||q.form().initPayloadAndRunEvents();var i=q.form().loaded.subscribe(function(){i.dispose(),e&&e()});return q.form().isValid.subscribe(function(a){q.onValidStateChange(a)}),q.onValidStateChange(q.form().isValid()),h.resolveOnLoaded(q.form())},q.getValues=function(){return q.form().updateBindings(),q.form().executeEventOnAll(f.ON_SUBMIT.value),{payload:q.form().payload.toJS()}},q.submit=function(){return o(!0)},q.save=function(){return o(!1)},q.getCurrentGlobalScope=function(){return q.globalScope},q.getBindings=function(){return q.form().getBindings()},q.formValidator=new k,q.validateData=function(){return q.formValidator.validate(q.form().getAllControls(!0),q.rendererContext)},q.registerCustomEvents=function(a){var b=p(a);d(b).on("getValues",q.getValues),d(b).on("submit",q.submit),d(b).on("save",q.save),d(b).on("getBindings",q.getBindings),d(b).on("validateData",q.validateData),d(b).on("load",function(a,b){return q.load(b)})},q.detachCustomListeners=function(a){var b=p(a),c=d(b);c.off("getValues"),c.off("submit"),c.off("save"),c.off("getBindings"),c.off("validateData"),c.off("load"),c.find("*").each(function(){d(this).unbind()})},q.load(a.value,a.loadedCallback)}}),define("IconComponent",["require","knockout"],function(a){"use strict";var b=a("knockout");return function(a){var c=this;c.styleClass=a.styleClass,
c.icon=b.utils.unwrapObservable(a.icon),c.alt=a.alt||""}}),define("MediaQueryInspector",["require","MediaQueryType","knockout"],function(a){"use strict";var b=a("MediaQueryType"),c=a("knockout");return function(){var a=this;a.findMediaQuery=function(){var c=b.EXTRA_LARGE;for(var d in b)if(b.hasOwnProperty(d)&&a._mediaMatches(b[d].query)){c=b[d];break}return c},a.mediaQueryChanged=function(){a.mediaQuery(a.findMediaQuery())},a._mediaMatches=function(a){return window.matchMedia(a).matches},a.mediaQuery=c.observable(a.findMediaQuery())}}),define("mediaBindingHandler",["require","knockout","jquery","MediaQueryInspector"],function(a){"use strict";var b=a("knockout"),c=a("jquery"),d=a("MediaQueryInspector");b.bindingHandlers.ifMedia={init:function(a){var d=b.bindingHandlers.ifMedia.mediaQueryInspector;c(window).on("resize orientationchange load",d.mediaQueryChanged),b.utils.domNodeDisposal.addDisposeCallback(a,function(){c(window).off("resize orientationchange load",d.mediaQueryChanged)})},preprocess:function(a,b,c){return c("if","ko.bindingHandlers.ifMedia.mediaQueryInspector.mediaQuery().accept("+a+")"),a}},b.bindingHandlers.ifMedia.mediaQueryInspector=new d}),define("RenderingQueue",["require","knockout","jquery"],function(a){"use strict";var b=a("knockout"),c=a("jquery");return function(a,d,e){for(var f=e.getTemplateData(),g=b.unwrap(f.foreach),h=f.afterLazyRenderAll||function(){},i=b.unwrap(f.pageSize)||1,j=[],k=c(e.getPlaceholder()),l=0;l<g.length;l++){var m=d.createChildContext(g[l]),n=c(e.getPlaceholder());k.append(n),j.push(e.renderTemplate.bind(e,m,n))}k.children().appendTo(a);var o=function(b,c,d,e){for(var f=0;f<d;f++)b[c+f](),c+f===b.length-1&&e(a)};this.execute=function(){setTimeout(function(){for(var a=0;a<j.length;){j.length-a>=i?(setTimeout(o.bind(null,j,a,i,h),10),a+=i):(setTimeout(o.bind(null,j,a,1,h),10),a++)}},10)}}}),define("AsyncRenderer",["require","knockout","jquery"],function(a){"use strict";var b=a("knockout"),c=a("jquery");return function(a){this._templateData=a,this.renderTemplate=function(a,c){this._templateData.as&&(a[this._templateData.as]=a.$data),b.renderTemplate(b.unwrap(this._templateData.name),a,this._templateData,c,"replaceNode")},this.subscribeToChanges=function(a,d){var e=this,f=this._templateData.foreach.subscribe(function(f){var g=[],h=[];b.utils.arrayForEach(f,function(a){switch(a.status){case"added":h.push(a);break;case"deleted":g.push(a)}}),g=g.reverse();for(var i=0;i<g.length;i++)c(c(a).children().get(g[i].index)).remove();for(var j=0;j<h.length;j++){var k=h[j],l=d.createChildContext(k.value),m=c(e.getPlaceholder());if(k.index){var n=c(c(a).children().get(k.index-1));m.insertAfter(n)}else c(a).prepend(m);setTimeout(e.renderTemplate.bind(e,l,m),10)}},e,"arrayChange");b.utils.domNodeDisposal.addDisposeCallback(a,function(){f.dispose()})},this.getPlaceholder=function(){return'<div class="'+(b.unwrap(this._templateData.hideLoading)?"":"loading__placeholder")+'"></div>'},this.getTemplateData=function(){return this._templateData}}}),define("AsyncTemplateBinding",["require","RenderingQueue","AsyncRenderer"],function(a){"use strict";var b=a("RenderingQueue"),c=a("AsyncRenderer");return{init:function(a,d,e,f,g){var h=d(),i=new c(h);return h.foreach.subscribe&&i.subscribeToChanges(a,g),new b(a,g,i).execute(),{controlsDescendantBindings:!0}}}}),define("knockoutExtensions",["require","knockout","underscore","jquery","AsyncTemplateBinding"],function(a){"use strict";var b=a("knockout"),c=a("underscore"),d=a("jquery"),e=a("AsyncTemplateBinding");b.subscribable.fn.subscribeChanged=function(a){var b,d=this.subscribe(function(a){b=c.clone(a)},this,"beforeChange"),e=this.subscribe(function(c){a(c,b)});return{dispose:function(){d.dispose(),e.dispose()}}},b.bindingHandlers.refresh={init:function(a,c,e){var f=c().subscribe(function(){var b=e().ojComponent.component;d(a)[b]("refresh")});b.utils.domNodeDisposal.addDisposeCallback(a,function(){f.dispose()})}},b.bindingHandlers.clean={init:function(a,c){b.utils.domNodeDisposal.addDisposeCallback(a,function(){d("."+c()+"-applied-stylesheet").remove()})}},b.bindingHandlers.asyncTemplate=e,b.bindingHandlers.subscribe={init:function(a,c){var d=c();d.afterRender(a),b.utils.domNodeDisposal.addDisposeCallback(a,function(){d.beforeRemove(a)})}},b.unApplyBindings=function(a,c){a.find("*").each(function(){d(this).off(),d(this).unbind()}),a.off(),b.cleanNode(a[0]),a.find("*").each(function(){d(this).remove()}),c&&b.removeNode(a[0])}}),define("HandleEventsBinding",["require","knockout","jquery","underscore","EventsId"],function(a){"use strict";var b=a("knockout"),c=a("jquery"),d=a("underscore"),e=a("EventsId"),f=[e.ON_EXPAND.value,e.ON_COLLAPSE.value,e.ON_LOAD.value,e.ON_SUBMIT.value,e.ON_UNSELECTED.value,e.ON_ADD_ROW.value,e.ON_REMOVE_ROW.value];b.bindingHandlers.handleEvents={init:function(a,g){var h=b.unwrap(g()),i=c(a),j=h.getValidEvents(),k=[];d.each(j,function(a){var b=h.eventsQueue.execute.bind(this,h,a);if(!d.contains(f,a.value))switch(a.value){case e.ON_CHANGE.value:k.push(h.value.subscribe(b));break;case e.ON_EXPAND_TOGGLE.value:k.push(h.properties.expanded.subscribe(function(a){b(),a?h.eventsQueue.execute(h,e.ON_EXPAND):h.eventsQueue.execute(h,e.ON_COLLAPSE)}));break;case e.ON_SELECTED.value:var c=h.getParent(),g=c.controls().indexOf(h);k.push(c.properties.selectedPosition.subscribeChanged(function(a,b){b===g&&h.eventsQueue.execute(h,e.ON_UNSELECTED),a===g&&h.eventsQueue.execute(h,e.ON_SELECTED)}));break;default:i.on(a.event,b)}}),b.utils.domNodeDisposal.addDisposeCallback(a,function(){d.each(k,function(a){a.dispose()})})}}}),define("RendererComponent",["require","RendererViewModel","IconComponent","knockout","promise","RendererTemplateLoader","mediaBindingHandler","knockoutExtensions","HandleEventsBinding","!text!iconTemplate","!text!rendererTemplate"],function(a){"use strict";var b=a("RendererViewModel"),c=a("IconComponent"),d=a("knockout");a("promise"),a("RendererTemplateLoader"),a("mediaBindingHandler"),a("knockoutExtensions"),a("HandleEventsBinding"),d.components.register("actionable-icon",{viewModel:c,template:a("!text!iconTemplate")}),d.components.register("form-renderer",{viewModel:b,template:a("!text!rendererTemplate")})}),require(["knockout","RendererTemplateLoader","RendererComponent","HandleEventsBinding"],function(){"use strict"}),define("forms.renderer",function(){});